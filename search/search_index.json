{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to the Puhuri documentation website!","text":"<p>The Puhuri platform is a set of integrated services for managing access to shared resources in a federated manner. This site aims to provide high-level technical information about Puhuri service for target stakeholders.</p>"},{"location":"#outline","title":"Outline","text":"<ul> <li>Architecture provides a top-level overview of Puhuri architecture.</li> <li>Resource Allocators is aimed at organization allocating shared resources.</li> <li>Identity Providers is aimed at organizations providing information about users' identities.</li> <li>Service Providers is aimed at organizations hosting shared resources.</li> <li>Environments contains descriptions of development and production environments.</li> </ul>"},{"location":"#introduction","title":"Introduction","text":"<p>Puhuri aims to facilitate easy and efficient access to high-performance computing (HPC) and related services throughout Europe to benefit researchers and industrial users. The key objective is to minimise service providers' administrative costs while simultaneously improving these services' usability. This will be achieved by establishing federated services for Authentication and Authorization Infrastructure (AAI) and resource allocation services. Please read more from the Puhuri Whitepaper.</p>"},{"location":"#contacts","title":"Contacts","text":"<p>You can reach us by sending an email to support@puhuri.io</p> <p>In case of security-related issues, please get in touch with us at security@puhuri.io</p> <p>Please see also https://neic.no/puhuri/</p> <p></p> <p>Supported by:</p> <p></p> <p>The content of this website is available under CC BY 4.0 unless otherwise noted.</p>"},{"location":"architecture/","title":"Architecture","text":""},{"location":"architecture/#overview","title":"Overview","text":"<p>This page introduces the Puhuri components and high level architecture. </p>"},{"location":"architecture/#puhuri-components","title":"Puhuri Components","text":"<p>The diagram above shows a high level architecture of Puhuri. Puhuri links together Users with strong digital identity with Resources in a seamless way.</p> <p>Puhuri is using MyAccessID AAI for user registration that can be started from National Portal of Resource Allocators or from Puhuri Portal, which is provided as a reference solution. The registration process creates a unique identifier (Community Unique Identifier, CUID) for the user, which is used for referencing and linking user identity across the different components.</p> <p>The identity provider releases the attributes about User\u2019s identity and affiliation, which is important for the resource providers to know. User can also register SSH public keys for easier access to the Linux-based systems that are accessible in Puhuri. </p> <p>Puhuri Core is an API service for Resource Allocators that allows to manage Projects, Members (using CUID of Puhuri users) as well as Resource Allocations. A Resource provider (in Figure above - LUMI) then imports the allocation and project membership information from the Puhuri Core and sets up the services for access using MyAccessID user account. Resource provider also reports on the usage of resource allocations as well as provides additional data, like Linux usernames, that user might need in order to access the Resource.</p> <p>Puhuri Core has an offline access to MyAccessID user registry and uses it for keeping user information up to date.</p>"},{"location":"architecture/#open-source","title":"Open-source","text":"<p>Puhuri believes in transparency and sharing, as such all of the technical components we rely upon are open-source.</p> <ul> <li>Puhuri Core and Portal - Waldur</li> <li>Puhuri Support - Zammad</li> <li>Puhuri Stats - Grafana</li> <li>Puhuri websites - Jekyll and MkDocs</li> <li>Puhuri AAI (provided by Geant) - Satosa</li> </ul>"},{"location":"architecture/#puhuri-roles","title":"Puhuri roles","text":"<p>User applies for a Resource Allocation and then manage the Members of the Project using a Puhuri Portal, hosted by University of Tartu, or via a National Portal, depending which solution is available for User.</p> <p>The Resource application review process happens outside of Puhuri. The national portals are expected to push approved projects and resources  to Puhuri Core. The Principal Investigator (PI) creates project in the Puhuri Portal or National Portal. The submission is then accepted by the Resource Allocator, which is responsible for the particular application\u2019s resource granting. Then the project information is propagated to Puhuri Core and from there synchronised to the Resource Provider. In addition to Project description and members, also the Resource-specific resource allocation attributes are included. </p> <p>A national portal may implement identity linking of local accounts with Puhuri AAI account. The recommended way for that is to use OIDC registration flow, which can be triggered from the national portal  and lead to  redirection back with a created Puhuri User CUID</p>"},{"location":"architecture/#puhuri-model","title":"Puhuri model","text":"<p>Information model of Puhuri. Please note that the terminology used in this documentation differs occasionally of this planned information model. </p>"},{"location":"branding/","title":"Branding","text":""},{"location":"branding/#logos","title":"Logos","text":"<p>Puhuri logo:</p> <p> Download here</p> <p>Puhuri logo with NeIC:</p> <p> Download here</p> <p>Puhuri Portal logo for light background:</p> <p> Download here</p> <p>Puhuri Portal logo for dark background:</p> <p> Download here</p> <p>Puhuri Core logo for light background:</p> <p> Download here</p> <p>Puhuri Core logo for dark background:</p> <p> Download here</p>"},{"location":"branding/#logo-guideline","title":"Logo guideline","text":"<p>Font and colors:</p> <p></p>"},{"location":"branding/#license","title":"License","text":"<p>Puhuri logos are published under a CC BY-NC-ND 4.0 license. The owner of the logos and copyright belongs to the University of Tartu.</p>"},{"location":"dedicated-puhuri-portal/","title":"Dedicated Puhuri Portal","text":"<p>A dedicated Puhuri portal is a web-based platform that is designed and developed specifically for a particular organization, group, or community. </p> <p>The portal can be customized (incl custom url, email, service desk, terms of service and privacy policy documents) to meet the specific needs of the organization with branding, content, and access controls tailored to the organization's requirements. These portals can include features as well, which are not available in shared portal. It can be compared to the national allocation portals. Dedicated portals can also be hosted at owning organization's data centre. </p>"},{"location":"environments/","title":"Environments","text":""},{"location":"environments/#puhuri-core","title":"Puhuri Core","text":"<p>Puhuri provides several environments for the resource allocators:</p> <ul> <li>Development https://puhuri-core-dev.neic.no/api/</li> <li>Demo: https://puhuri-core-beta.neic.no/api/</li> <li>Production: https://puhuri-core.neic.no/api/</li> </ul>"},{"location":"environments/#accounts","title":"Accounts","text":"<p>Resource allocators are eligible to one or more user accounts. For production environments, we expect service provider's representative to pass the following data:</p> <ul> <li>Names, abbreviations, contact email and optionally web sites of each Allocator.</li> <li>For each of the allocators, access subnets from where the requests can be made should be provided.</li> <li>For each of the allocators, amount and purposes of allocator user accounts -- will be used for generating integration user accounts.   We suggest to minimize number of such accounts per allocator to avoid potential overlap. All such accounts will have   equal power. A single account is a valid number.</li> </ul> <p>Please reach out to support@puhuri.io to get one for Demo environment.</p>"},{"location":"integration-with-puhuri-aai/","title":"Registering with Puhuri AAI Proxy","text":""},{"location":"integration-with-puhuri-aai/#overview","title":"Overview","text":"<p>This article describes the process of registering a service with the Puhuri AAI Proxy.</p> <p>To do so, you will need to fill in the service registration form at:</p> <ul> <li>https://webapp.prod.puhuri.eduteams.org/sp_request (for production environment )</li> <li>https://webapp.acc.puhuri.eduteams.org/sp_request (for acceptance environment)</li> </ul> <p>Before sending in the application for registration, please make sure that application is complete or else the registration will not be approved.</p>"},{"location":"integration-with-puhuri-aai/#filling-in-the-service-registration-form","title":"Filling in the Service registration form","text":""},{"location":"integration-with-puhuri-aai/#requester-details","title":"Requester Details","text":"<ul> <li> <p><code>Display name</code> - Already pre filled from your MyAccessID profile</p> </li> <li> <p><code>Email</code> - Already pre filled from your MyAccessID profile</p> </li> <li> <p><code>Organization</code> - If it is not prefilled, please enter the name of your organization. This can be different from the organization / legal entity providing the service</p> </li> </ul> <p></p>"},{"location":"integration-with-puhuri-aai/#organization-information-legal-entity-responsible-for-the-service","title":"Organization Information - Legal entity responsible for the service","text":"<ul> <li> <p><code>Organization Name</code> - The name of the organization responsible for the service. This information will be visible to the end users.</p> </li> <li> <p><code>Organization Website</code> - The website of the organization responsible for the service. This information will be visible to the end users.</p> </li> </ul> <p></p>"},{"location":"integration-with-puhuri-aai/#service-details","title":"Service Details","text":"<ul> <li> <p><code>Service Name</code> - The name of the service that is subject of your request for connecting to Puhuri AAI proxy. This information will be visible to the end users.</p> </li> <li> <p><code>Service Website (URL)</code> - The URL of the website or landing page for the service. This information will be visible to the end users.</p> </li> <li> <p><code>Service Logo (URL)</code> - A URL with the logo / icon of the service.</p> </li> <li> <p><code>Service Description</code> - Brief description of the service. This information will be visible to the end users.</p> </li> </ul> <p></p>"},{"location":"integration-with-puhuri-aai/#contact-information","title":"Contact Information","text":"<p>Email addresses for administrative, security and technical contacts or teams responsible for the service. This information will be visible to the end users.</p> <p></p>"},{"location":"integration-with-puhuri-aai/#service-provider-policies","title":"Service Provider Policies","text":"<ul> <li> <p><code>Privacy Notice (URL)</code> - A URL pointing to the privacy notice of the service. A good example of what an Privacy Notice should contain can be found at REFEDS wiki. This information will be visible to the end users.</p> </li> <li> <p><code>Acceptable Usage Policy / Terms of Use</code> - A URL pointing to the Acceptable Usage Policy and/or Terms of Use of the service. Consider using the WISE Baseline AUP template</p> </li> <li> <p><code>G\u00c9ANT Data Protection Code of Conduct</code> - Click the check box if the service is compliant with the G\u00c9ANT Code of Conduct. You can find more information about the G\u00c9ANT Code of Contact at REFEDS wiki</p> </li> <li> <p><code>Sirtfi</code> - Click the checkbox if the service is compliant with Sirtfi. You can find more information about the Sirtfi framework at REFEDS website</p> </li> <li> <p><code>Research and Scholarship</code> - Click the check box if the service is compliant with Research and Scholarship entity category. Usage of Research and Scholarship entity category is mandatory for all services connected to PUHURI Proxy. You can find more information about the Research and Scholarship entity category at REFEDS website</p> </li> <li> <p><code>Incident Response Policy (URL)</code> - A URL pointing to the Incident Response policy applicable to the service. This is an optional field.</p> </li> </ul>"},{"location":"integration-with-puhuri-aai/#technical-information-for-registering-the-service-provider","title":"Technical information for registering the Service Provider","text":"<p>SAML or OIDC - Choose SAML for registering a SAML Service Provider</p> <ul> <li> <p>Registering a SAML Service provider </p> <ul> <li> <p><code>SP is part of eduGAIN</code> - If the Service Provider is already available in eduGAIN through a participating federation click this checkbox</p> </li> <li> <p><code>SAML2 Entity ID</code> - This textbox is only visible if you have selected that the SP is available in eduGAIN. Provide the SAML2 entityID for the service. </p> </li> <li> <p><code>SAML2 Metadata (URL)</code> - This textbox is only visible if you have NOT selected that the SP is available in eduGAIN. Provide the URL pointing to the SAML2 metadata of the service.</p> </li> </ul> </li> <li> <p>Registering an OIDC Service Provider</p> <ul> <li> <p><code>Flow</code> - Choose the OpenID Connect / OAuth2 flow applicable for your service. Options are Authorization Code and Implicit. The use of Authorization Code is strongly recommended.</p> </li> <li> <p><code>Token Endpoint Authentication Method</code> - Choose the token endpoint authentication method for your service. Options are client_secret_basic and client_secret_post.</p> </li> <li> <p><code>Offline access</code> - If the service requires offline access, check this checkbox. For services connecting to PUHURI proxy will not need this option. </p> </li> <li> <p><code>OIDC Redirect URLs</code> - Enter one or more OIDC redirect URLs for your service</p> </li> </ul> </li> </ul> <p></p>"},{"location":"integration-with-puhuri-aai/#form-submission","title":"Form submission","text":"<p>When you click on the \"Submit\" button, you will see a page confirming your application request. </p> <p>You will get the secret displayed after submitting the registration form. Store that in a secure place as you will need it for configuring.</p> <p>Your application will be reviewed by the eduTEAMS and Puhuri Support team and you will be notified via email.</p>"},{"location":"new_ui_interface/","title":"Interface Introduction","text":""},{"location":"new_ui_interface/#basics","title":"Basics","text":""},{"location":"new_ui_interface/#dashboard","title":"Dashboard","text":"<ul> <li>It is the first page you see (by default) after logging in to Puhuri Portal which provides you with the initial necessary information of your profile, the Organizations and the Projects.</li> </ul>"},{"location":"new_ui_interface/#organization-project-selection","title":"Organization / Project selection:","text":"<ul> <li>You can see the information about the organization only If you are at the organization level. It means if you are only at the project level, you can not go to the organization level.</li> </ul>"},{"location":"new_ui_interface/#sidebar-menu","title":"Sidebar menu:","text":"<ul> <li>This is your main working tool in Puhuri Portal. Here you can manage your organizations, projects and resources (such as LUMI cluster or other HPC resources). The next chapter of this guide will provide the details for each menu item.</li> </ul>"},{"location":"new_ui_interface/#workspace-menu-changes-depending-on-sidebar-menu","title":"Workspace menu (changes depending on sidebar menu):","text":"<ul> <li>Each page in Puhuri Portal has a navigation bar at the top of the screen. It enables a quick access to organization/project info and management.</li> </ul>"},{"location":"new_ui_interface/#workspace","title":"Workspace:","text":"<ul> <li>Shows organization, project or user dashboards related to the selection.</li> </ul>"},{"location":"new_ui_interface/#user-related-actions","title":"User related actions:","text":"<ul> <li>Contains all necessary action fields a user might need.</li> </ul>"},{"location":"new_ui_interface/#issues","title":"Issues","text":"<ul> <li>Displays the list of user related issues. Here by Creating request you can request support.</li> </ul>"},{"location":"new_ui_interface/#favorite-pages","title":"Favorite Pages:","text":"<ul> <li>The opportunity to gather the most visited pages to make them easily reachable.</li> </ul>"},{"location":"new_ui_interface/#pending-confirmations","title":"Pending confirmations:","text":"<ul> <li>Contains the list of requests related to user, resources or project management.</li> </ul>"},{"location":"new_ui_interface/#user-profile","title":"User Profile:","text":"<ul> <li>The main links related to the user actions like User Dashboard, Affiliations, Credentials, Notifications, Language and Color mode of the interface.</li> </ul>"},{"location":"new_ui_interface/#get-help","title":"Get help:","text":"<ul> <li>By clicking Support you can find User Documentation, or reach us by using support email address and also create support request by going to \"Issues\" window.</li> </ul>"},{"location":"new_ui_organization_and_project_management_shared/","title":"Organization and project management","text":""},{"location":"new_ui_organization_and_project_management_shared/#user-guide-for-adding-organizations","title":"User guide for adding organizations","text":"<p>Note</p> <p>Organization creation is only allowed for national resource allocator representatives!</p> <p>Organization in Puhuri Portal context means whatever grouping national resource allocator would like to have. This can mean for example research group, institution, department or working group. Organization has an owner who is project principal investigator (PI). National resource allocator can assign owners to organizations.</p>"},{"location":"new_ui_organization_and_project_management_shared/#create-a-new-organization","title":"Create a new organization","text":"<ol> <li>Click on \"Dashboard\" and then \u201cAdd organization\u201d in the organization selection window.</li> </ol> <ol> <li>Fill the form and click \"Create organization\":<ul> <li>Name - Name of the organization</li> <li>Organization group - Resource Allocator that the organization belongs</li> <li>Contact email - email of the person, who is responsible for the allocations in that organization</li> <li>Contact phone - contact person\u2019s phone (optional)</li> <li>Website URL - url of the organization (optional)</li> <li>Logo - logo of the organization (optional)</li> </ul> </li> </ol>"},{"location":"new_ui_organization_and_project_management_shared/#creation-of-projects","title":"Creation of projects","text":"<p>Project creation is allowed for Principal Investigators (PIs) and Resource Allocators in their organizations.</p> <p>Prerequisites for creating projects:     - User must have a Puhuri account (logged in to Puhuri Portal using MyAccessID)     - Allocator must set PI role to the user in certain organization</p> <ol> <li> <p>Select your home organization.</p> </li> <li> <p>Click on \"Add project\".</p> </li> <li> <p>Fill the necessary fields (fields marked with * are mandatory).</p> <ul> <li>Project name - The original title of the project.</li> <li>Project description - A brief description about the project.</li> <li>OECD FoS code - OECD science field code (more info)</li> <li>End date - this is the end date for using the computational resources.</li> <li>Project image - Profile picture for the project (optional).</li> </ul> </li> </ol>"},{"location":"new_ui_organization_and_project_management_shared/#requesting-an-allocation","title":"Requesting an allocation","text":"<p>To get an allocation via Puhuri Portal, project participants must first request it. Request can be initiated by any user, however it must be approved:</p> <ul> <li>by PI before being sent to Resource Allocator.</li> <li>by Resource Allocator before being sent to Puhuri Core for processing by the service.</li> </ul> <p>Below is an example of requesting an allocation from LUMI supercomputer:</p> <ol> <li> <p>Select \"Add resource\" or \"Go to Marketplace\" from the sidebar menu and select offering that matches your plans.    For LUMI, offerings correspond to access types of EuroHPC:</p> <ul> <li>Extreme Scale Access</li> <li>Regular Access</li> <li>Benchmark Access</li> <li>Development Access</li> <li>Fast Track Access for Academia</li> <li>Fast Track Access for Industry</li> </ul> </li> <li> <p>Write the name for the resource allocation (NOTE: This name will be visible in accounting data.).</p> </li> <li> <p>Select correct plan (LUMI common) and write needed allocation quota (CPU, GPU and Storage).</p> </li> <li> <p>Write short description (optional).</p> </li> <li> <p>Click on the \"Add to cart\".</p> </li> <li> <p>Check once more and click on \"Request an approval\" if you are not a PI in a project or \"Request\" if you are a PI.</p> </li> </ol> <p>After this, Resource allocator will get a request for resource and be able to approve or reject it.</p>"},{"location":"new_ui_organization_and_project_management_shared/#bulk-import","title":"Bulk\u202fImport","text":"<p>Use Bulk\u202fImport to create multiple projects at once.</p> <ol> <li> <p>Open your organization dashboard.</p> </li> <li> <p>In the Projects section, click on \u201cBulk\u202fImport\u201d (right\u2011hand side).</p> </li> <li> <p>Select one of the following:</p> <ul> <li>Projects only \u2013 create projects without any resources.</li> <li>Projects with resources \u2013 create projects and their resources. Choose an offering type, then click on \u201cNext\u201d to generate the correct template.</li> </ul> </li> <li> <p>Download the template, fill in all required fields, and upload it. Click on \u201cNext\u201d.</p> </li> <li> <p>Review the project metadata, then click on \u201cImport\u202f&amp;\u202fcreate\u201d.</p> </li> </ol> <p>Feedback</p> <p>We welcome feedback from our users - it helps us to continually improve. Please send an email with your suggestions to support@puhuri.io.</p>"},{"location":"new_ui_project_approval_shared/","title":"Projects and allocations approval process","text":"<p>Note</p> <p>Following processes are only allowed to national resource allocator representatives!</p>"},{"location":"new_ui_project_approval_shared/#approving-project-and-allocation-creation-update-requests","title":"Approving project and allocation creation, update requests","text":"<ol> <li>Click on  \"Pending confirmations\" button on the top-right side of your Dashboard. In this window, the lists of \"Pending order confirmation\" and \"Pending provider confirmation\", as well as \"Project update requests\" can be found. </li> </ol> <ol> <li>Select the request to click \u201cApprove\u201d or \"Reject\". Also by clicking \"Approve all\" or \"Reject all\", the action can be done for all the requests at once.</li> </ol> <p>Feedback</p> <p>We welcome feedback from our users - it helps us to continually improve. Please send an email with your suggestions to support@puhuri.io.</p>"},{"location":"new_ui_project_membership_management/","title":"Project membership management","text":"<p>Project team contains users with different roles:</p> <ul> <li>Co-Principal Investigator (Co-PI) - An individual recognized by the prime institution and the principal investigator (PI) as someone who shares scientific and administrative leadership responsibilities for a project with the PI.</li> <li>Member - Users who work on one or more phases of the project and involved in doing assigned tasks.</li> <li>Guest - Users who are only able to see project related data, not able to modify it.</li> </ul> <p>Please see this page for User Rights based on Roles in the Organization.</p>"},{"location":"new_ui_project_membership_management/#adding-project-members","title":"Adding project members","text":""},{"location":"new_ui_project_membership_management/#new-user-has-puhuri-account","title":"New user has Puhuri account:","text":"<ol> <li>Open your project in Puhuri Portal.</li> <li>Select \"Team\" from top menu and click on \"Users\".</li> <li> <p>Clicking \"Add member\" opens \"Add project member\" window. \\   </p> </li> <li> <p>Select correct user, set the role and expiration date if necessary.</p> </li> </ol> <p></p> <ol> <li>Finally, click on \"Add\".</li> </ol> <p>Note</p> <p>Invitation is valid for 3 weeks!</p>"},{"location":"new_ui_project_membership_management/#new-user-dont-have-puhuri-account","title":"New user don't have Puhuri account:","text":"<ol> <li>Open project in Puhuri Portal.</li> <li>Select \"Team\" from top menu and click on \"Invitations\".</li> </ol> <ol> <li>Clicking \"Invite user\" opens \"Invite by email\" window.</li> </ol> <ol> <li> <p>Insert user's email and set the role for the new user and continue.</p> </li> <li> <p>Fill in your custom message (if needed) on the right side of the window and send the invitation.</p> </li> </ol> <p></p> <ol> <li>User will now get invitation email with the acceptance link.</li> </ol> <p>Note</p> <p>Invitation is valid for 3 weeks!</p> <p>Feedback</p> <p>We welcome feedback from our users - it helps us to continually improve. Please send an email with your suggestions to support@puhuri.io.</p>"},{"location":"new_ui_project_modification_shared/","title":"Projects and allocations management","text":""},{"location":"new_ui_project_modification_shared/#allocation-update-process","title":"Allocation update process","text":"<p>Note</p> <p>Only (national) resource allocation representative can send allocation update requests. </p> <ol> <li> <p>Select the organization and then project from the \"Organization / Project Selection\" list on the left menu.</p> </li> <li> <p>Select correct allocation you would like to change.</p> </li> <li> <p>Select \"Actions\" and then \"Change limits\".</p> </li> <li> <p>Set new limits and click \"Request for a change\".</p> </li> <li> <p>Now national resource allocator has to approve the changes.</p> </li> </ol>"},{"location":"new_ui_project_modification_shared/#project-end-date-update-process","title":"Project end date update process","text":"<p>Note</p> <p>Only (national) resource allocation representative can send project end date update requests. </p> <ol> <li> <p>Select the organization and then project from the \"Organization / Project Selection\" list on the left menu.</p> </li> <li> <p>Select correct project and click \"Manage\".</p> </li> <li> <p>Update project end date and any other detail if needed, and click \"Update project details\".</p> </li> <li> <p>Now national resource allocator has to approve the changes.</p> </li> </ol> <p>Feedback</p> <p>We welcome feedback from our users - it helps us to continually improve. Please send an email with your suggestions to support@puhuri.io.</p>"},{"location":"new_ui_usage_reports/","title":"Usage reports","text":"<p>Currently, in Puhuri Portal you are able to see allocations monthly usage. Allocation components (CPU, GPU and storage) are displayed on separate charts.</p> <ol> <li> <p>Open your project in Puhuri Portal.</p> </li> <li> <p>Select the allocation (resource) that usage report you would like to see.</p> </li> <li> <p>On this window, \"Usage history\" displays the report for this allocation. Use tabs \"CPU Allocation\", \"GPU Allocation\", and \"Storage Allocation\" to see the details.</p> </li> </ol> <p></p> <p>To check the current resource allocation limit:</p> <ol> <li>On the same window, the plan details for Allocation components (CPU, GPU, and storage) can be found on the top-right side.</li> </ol>"},{"location":"resource-allocators-overview/","title":"Overview","text":"<p>As a Resource Allocator using Puhuri, you can choose between different ways to handle allocations and users:</p> <ul> <li>Custom Portal Integration for National Portals and similar</li> <li>Dedicated Puhuri Portal</li> <li>Shared Puhuri Portal</li> </ul>"},{"location":"resource-allocators-overview/#puhuri-portal-hosting","title":"Puhuri portal hosting","text":"<ul> <li>self-host Puhuri Portal (docker-compose or Helm-based);</li> <li>request a managed version of Puhuri Portal from University of Tartu.</li> </ul> <p>Please reach out to support@puhuri.io if you are interested in either option and we shall assist you with setup.</p>"},{"location":"resource-allocators-overview/#customizing-managed-puhuri-portal","title":"Customizing managed Puhuri Portal","text":""},{"location":"resource-allocators-overview/#custom-languages","title":"Custom languages","text":"<p>In addition to English, Puhuri Portal can be used in additional languages. Currently available options are:</p> <ul> <li>Czech</li> <li>Danish</li> <li>Dutch</li> <li>Estonian</li> <li>French</li> <li>Italian</li> <li>Lithuanian</li> <li>Norwegian</li> <li>Spanish</li> </ul> <p>We try to maintain translations, but feedback from domain specialists and native speakers is very welcome.</p>"},{"location":"resource-allocators-overview/#custom-dns","title":"Custom DNS","text":"<p>If you want to use a custom domain for your Puhuri Portal, e.g. lumi.myorganization.eu, you need to set the DNS records to point to the deployment in University of Tartu.</p> <ul> <li>option a) Add A records to point to <code>193.40.36.55</code> and <code>193.40.36.57</code>.</li> <li>option b) Add CNAME record: <code>IN CNAME web.cs.ut.ee</code>.</li> </ul>"},{"location":"resource-allocators-overview/#allowing-sending-out-email-under-custom-domain","title":"Allowing sending out email under custom domain","text":"<p>Puhuri Portal needs to send out email on different occasions. In order to reduce chance of email being marked as spam, you need to make sure that the following record is added in the DNS:</p> <p><code>TXT \"v=spf1 mx a:mailhost.ut.ee -all\"</code></p>"},{"location":"resource-allocators-overview/#https-certificates","title":"HTTP(S) certificates","text":"<p>Puhuri Portal exposes services on encrypted endpoints, for HTTPS to validate without issues, its certificate must match the domain name.</p> <p>Currently, two options are supported:</p> <ul> <li>Getting certificates using Letsencrypt and http01 validation schema;</li> <li>Using custom certificates provided by the organization. Please reach out to support@puhuri.io for details on secure   transfer of credentials.</li> </ul>"},{"location":"resource-allocators/","title":"Integration guide","text":""},{"location":"resource-allocators/#resource-allocators","title":"Resource allocators","text":"<p>Allocators are external parties that are entitled to manage projects and resource allocations in Puhuri Core. In the scope of Puhuri, resource allocators are typically organizations operating national portals or research communities.</p> <p>Resource allocator is expected to:</p> <ol> <li>Be eligible to share specific resources, e.g. LUMI share.</li> <li>Be aware of the Researcher Access identifiers of the users, aka CUIDs.</li> </ol>"},{"location":"resource-allocators/#terminology","title":"Terminology","text":"<p>Puhuri Core is based on Waldur orchestrator and as such some of the APIs use a different naming than agreed in Puhuri. Below is a mapping to reduce confusion.</p> Puhuri API / Waldur Resource Offering Resource component Offering component Allocation Resource"},{"location":"resource-allocators/#puhuri-core-sdk","title":"Puhuri Core SDK","text":"<p>If you are integrating a python-based application, you might find useful a python wrapper for typical operations.</p>"},{"location":"resource-allocators/#common-operations","title":"Common operations","text":"<p>Almost all operations require authentication. Authentication process is a two-step:</p> <ol> <li>Generation of authentication token using Authentication API.</li> <li>Passing that token in the Authorization header along with all other REST API calls.</li> </ol> <p>Please note that all of the responses to the listing are paginated, by default up to 10 elements are returned. You can request more by passing <code>page_size=&lt;number&gt;</code> argument, number up to 200 will be respected. Information about the whole set is contained in the response headers. Check example of a \"get_all\" function to see how a full traversal can be done.</p>"},{"location":"resource-allocators/#project-management","title":"Project management","text":""},{"location":"resource-allocators/#customer-lookup","title":"Customer lookup","text":"<p>Puhuri Core implements a multi-tenant model to allow different organizations to allocate shared resources simultaneously and independently from each other. Each such organizaton is a customer of Puhuri Core and is able to create its own projects. Project allows us to create new allocations as well as connect users with the project.</p> <p>Hence, to create a project, one needs first to have a reference to the customer. The reference is a stable one and can be cached by a REST API client.</p> <p>Customers are created by Puhuri Core support team. Please reach out to support@puhuri.io if you think you should have one.</p> <p>Examples:</p> <ul> <li>API call for customer lookup</li> </ul>"},{"location":"resource-allocators/#project-creation","title":"Project creation","text":"<p>In order to create a new project in an organization, user needs to provide the following fields:</p> <ul> <li><code>customer</code> - URL of the project's organization</li> <li><code>name</code> - project's name</li> <li><code>description</code> - description of a project description</li> <li><code>end_date</code> - optional date when the project and all allocations it contains will be scheduled for termination.</li> <li><code>backend_id</code> - optional identifier, which is intended to be unique in the resource allocator's project list. Can be   used for connecting Puhuri Core projects with the client's project registry.</li> <li><code>oecd_fos_2007_code</code> - optional OECD Field of Science code. A code is represented by a string with two numbers separated by dot for a corresponding field of science. For example <code>\"1.1\"</code> is code for Mathematics. More information can be found here.</li> </ul> <p>Please note that the project becomes active at the moment of creation!</p> <p>Examples:</p> <ul> <li>API call for project creation</li> <li>Project creation in Puhuri Portal.</li> </ul>"},{"location":"resource-allocators/#project-update","title":"Project update","text":"<p>It is possible to update an existing project using its URL link. Name, description and backend_id can be updated.</p> <p>Examples:</p> <ul> <li>API call for project update</li> </ul>"},{"location":"resource-allocators/#project-lookup","title":"Project lookup","text":"<p>User can list projects and filter them using the following query parameters:</p> <ul> <li><code>name</code> - project's name (uses 'contains' logic for lookup)</li> <li><code>name_exact</code> - project's exact name</li> <li><code>description</code> - project's description (uses 'contains' logic for lookup)</li> <li><code>backend_id</code> - project's exact backend ID</li> </ul> <p>In case API user has access to more than one customer, extra filter by customer properties can be added:</p> <ul> <li><code>customer</code> - exact filter by customer UUID</li> <li><code>customer_name</code> - filter by partial match of the full name of a customer</li> <li><code>abbreviation</code> - filter by partial match of the abbreviation of a customer</li> </ul> <p>Examples:</p> <ul> <li>API call for listing  of projects</li> </ul>"},{"location":"resource-allocators/#project-membership-management","title":"Project membership management","text":""},{"location":"resource-allocators/#puhuri-aai-user-mapping-lookup","title":"Puhuri AAI user mapping lookup","text":"<p>Puhuri Core maintains its own set of user records. Project membership is essentially a link between a project and user, carrying also information about the role name.</p> <p>A mapping from the Puhuri AAI CUID is implemented as a separate call. Resource allocator is able to send the CUID, which would return a link to Puhuri Core user identity or error message, if this was not possible (e.g. CUID is incorrect or connection with Puhuri AAI user registry has failed). Note that endpoint returns UUID, full URL of the user is constructed as Puhuri Core URL + <code>/api/users/USER_UUID/</code>.</p> <p>Examples:</p> <ul> <li>API call for getting a mapping of Puhuri AAI user CUID to Puhuri Core user</li> </ul>"},{"location":"resource-allocators/#membership-management","title":"Membership management","text":"<p>Creating a membership for a user means creating a permission link. While multiple roles of a user per project are allowed, we recommed for clarity to have one active project role per user in a project.</p> <p>The list of fields for creation are:</p> <ul> <li><code>user</code> - a user's UUID, looked up from a previous step.</li> <li><code>role</code> - a role of the user. Both role UUID and name are supported. By default the system roles 'PROJECT.MEMBER', 'PROJECT.ADMIN' and 'PROJECT.MANAGER' are supported. TODO: add reference to Puhuri terminology.</li> <li><code>expiration_time</code> - an optional field, if provided, it should contain date or ISO 8601 datetime.</li> </ul> <p>To remove the permission, REST API client needs to send a HTTP request using the same payload as for permission creation, but to <code>delete_user</code> endpoint .</p> <p>It is also possible to list available project permissions along with a <code>role</code> filter.</p> <p>Examples:</p> <ul> <li>API call for allocating members to a project</li> <li>API call for removing members from a project</li> <li>API call to listing project permissions</li> </ul>"},{"location":"resource-allocators/#resource-allocation-management","title":"Resource allocation management","text":"<p>Creating and managing resource allocations in Puhuri Core follows ordering logic.</p> <p>All operations on resources, which lead to changes in allocations - e.g. creation, modification of allocated limits or termination - are wrapped in an order.</p>"},{"location":"resource-allocators/#listing-offerings","title":"Listing offerings","text":"<p>To create a new Allocation, one must first choose a specific Offering from available. Offering corresponds to a specific part of a shared resource that Resource Allocator can allocate. For example, it can be a national share of LUMI resources. Offerings can be visible to multiple allocators, however in the first iteration we plan to limit allocators with access to only their owned shares.</p> <p>User can fetch offerings and filter them by the following fields:</p> <ul> <li><code>name</code> - offering's name</li> <li><code>name_exact</code> - offering's exact name</li> <li><code>customer</code> - organization's URL</li> <li><code>customer_uuid</code> - organization's UUID</li> </ul> <p>Generally Offering has a stable UUID, which can be used in Puhuri Core client configuration. Offering defines inputs that are required to provision an instance of the offering, available accounting plans (at least one should be present) as well as attributes that can or should be provided with each request.</p> <p>Each Offering contains one or more plans, you will need to provide a reference (URL) to the plan when creating an allocation.</p> <p>API examples:</p> <ul> <li>Getting a list of offerings available for allocation</li> </ul>"},{"location":"resource-allocators/#selecting-an-offering-lumi-specific","title":"Selecting an offering (LUMI specific)","text":"<p>In case of LUMI allocation, there are several offerings available for each allocator corresponding to the access types defined by EuroHPC JU.</p> <p>Offerings types are:</p> <ul> <li>Extreme Scale Access</li> <li>Regular Access</li> <li>Benchmark Access</li> <li>Development Access</li> <li>Fast Track Access for Academia</li> <li>Fast Track Access for Industry Access</li> </ul> <p>During the integration period for convenience we use the following convention for offering names: <code>LUMI &lt;Country name&gt; / &lt;access type&gt;</code>, e.g. <code>LUMI Sweden / Extreme Scale Access</code> or <code>LUMI Finland / Regular Access</code>. Each of the offering will include a single plan.</p> <p>Full details of the Offering contain expected attributes that should be passed when creating an allocation.</p>"},{"location":"resource-allocators/#orders-and-resources","title":"Orders and resources","text":"<p>To create a new allocation, an order must be created with requested attributes: project as well as details about the allocations.</p> <p>Order might require additional approvals - in this case upon creation its status will be <code>pending-consumer</code> or <code>pending-provider</code>, which can transition to <code>REJECTED</code> if order is rejected. Otherwise it will be switched to <code>EXECUTING</code>, ending either in <code>DONE</code> if all is good or <code>ERRED</code>, if error happens during the processing.</p> <p>Resource UUID is available as a <code>marketplace_resource_uuid</code> field of the creation order.</p> <p>In addition, <code>accepting_terms_of_service</code> flag must be provided as a lightweight confirmation that allocator is aware and agreeing with Terms of services of a specific Offering.</p> <p>Example of the order payload sent with <code>POST</code> to <code>https://puhuri-core-beta.neic.no/api/marketplace-orders/</code>:</p> <pre><code>{\n   \"project\": \"https://puhuri-core-beta.neic.no/api/projects/72fff2b5f09643bdb1fa30684427336b/\",\n   \"offering\": \"https://puhuri-core-beta.neic.no/api/marketplace-public-offerings/0980e9426d5247a0836ccfd64769d900/\",\n   \"attributes\": {\n      \"name\": \"test20\",\n   },\n   \"limits\":{\n      \"gb_k_hours\": 30,\n      \"cpu_k_hours\": 1,\n      \"gpu_k_hours\": 20\n   },\n   \"plan\": \"https://puhuri-core-beta.neic.no/api/marketplace-public-plans/14b28e3a1cbe44b395bad48de9f934d8/\",\n   \"accepting_terms_of_service\": true\n}\n</code></pre>"},{"location":"resource-allocators/#change-resource-limits","title":"Change resource limits","text":"<p>Send <code>POST</code> request to <code>https://puhuri-core-beta.neic.no/api/marketplace-resources/&lt;UUID_OF_A_RESOURCE&gt;/update_limits/</code> providing the new values of limits, for example:</p> <pre><code>{\n   \"limits\": {\n      \"gb_k_hours\": 35,\n      \"cpu_k_hours\": 6,\n      \"gpu_k_hours\": 200\n   }\n}\n</code></pre>"},{"location":"resource-allocators/#resource-termination","title":"Resource termination","text":"<p>Send <code>POST</code> request to <code>https://puhuri-core-beta.neic.no/api/marketplace-resources/&lt;UUID_OF_A_RESOURCE&gt;/terminate/</code>.</p> <p>API examples:</p> <ul> <li>Creation of a resource allocation</li> <li>Modification of a resource allocation</li> <li>Termination of a resource allocation</li> </ul> <p>Example integrations:</p> <ul> <li>Lookup of available offerings in Puhuri Portal.</li> <li>Creation of a resource in Puhuri Portal.</li> <li>Changing allocated limits in Puhuri Portal.</li> <li>Deletion of a resource allocation in Puhuri Portal.</li> </ul>"},{"location":"resource-allocators/#advanced","title":"Advanced","text":"<p>Information about Puhuri resources in Puhuri Core can change over time, for example, new components could be added. Puhuri Portal implements a method for dynamic import and upkeep of that information from Puhuri Core.</p> <p>As this is a more advanced topic, please check implementation. If you have questions, we will be happy to help out! Please reach out to support@puhuri.io.</p>"},{"location":"resource-allocators/#reporting","title":"Reporting","text":""},{"location":"resource-allocators/#getting-usage-data-of-a-specific-resource-allocation","title":"Getting usage data of a specific resource allocation","text":"<p>To get reported usage for resources, send  <code>GET</code> request to <code>https://puhuri-core-beta.neic.no/api/marketplace-component-usages/</code>. If you want to get usage data of a specific resource, please add a filter, e.g. <code>https://puhuri-core-beta.neic.no/api/marketplace-component-usages/?resource_uuid=&lt;UUID_OF_A_RESOURCE&gt;</code>. Note that responses are paginated.</p> <p>Additional filters that can be used:</p> <ul> <li><code>date_before</code> - date of the returned usage records should be before or equal to provided, format YYYY-MM-DD, e.g. 2021-03-01.</li> <li><code>date_after</code> - date of the returned usage records should be later or equal to provided, format YYYY-MM-DD, e.g. 2021-03-01.</li> <li><code>offering_uuid</code> - return usage records only for a specified offering.</li> <li><code>type</code> - type of the usage record to return, e.g. 'cpu_k_hours'.</li> </ul> <p>Response will contain a list of usage records with a separate record for each component per month, for example:</p> <pre><code>  {\n    \"uuid\": \"15a7a55fc78d44f995a6735b1f0f0c86\",\n    \"created\": \"2021-11-26T20:30:21.348221Z\",\n    \"description\": \"\",\n    \"type\": \"cpu_k_hours\",\n    \"name\": \"CPU allocation\",\n    \"measured_unit\": \"CPU kH\",\n    \"usage\": 12,\n    \"date\": \"2021-11-26T20:30:21.342018Z\",\n    \"resource_name\": \"Sample allocation\",\n    \"resource_uuid\": \"4e4b8910b3df4ca0969871922eed8f3d\",\n    \"offering_name\": \"LUMI UoI / Fast Track Access for Industry Access\",\n    \"offering_uuid\": \"abe3c5e7cbe14d97a3208c56a22251f4\",\n    \"project_name\": \"University of Iceland / Sample project\",\n    \"project_uuid\": \"e1ffec53fd494d438fcb71daee1ae375\",\n    \"customer_name\": \"University of Iceland\",\n    \"customer_uuid\": \"6b4aba63ed47472e9cee84dac500cf11\",\n    \"recurring\": false,\n    \"billing_period\": \"2021-11-01\"\n  },\n  {\n    \"uuid\": \"2b90e7f5f91d41b7838bc0d45093dd23\",\n    \"created\": \"2021-11-26T20:30:21.383305Z\",\n    \"description\": \"\",\n    \"type\": \"gb_k_hours\",\n    \"name\": \"Storage allocation\",\n    \"measured_unit\": \"GB kH\",\n    \"usage\": 34,\n    \"date\": \"2021-11-26T20:30:21.342018Z\",\n    \"resource_name\": \"Sample allocation\",\n    \"resource_uuid\": \"4e4b8910b3df4ca0969871922eed8f3d\",\n    \"offering_name\": \"LUMI UoI / Fast Track Access for Industry Access\",\n    \"offering_uuid\": \"abe3c5e7cbe14d97a3208c56a22251f4\",\n    \"project_name\": \"University of Iceland / Sample project\",\n    \"project_uuid\": \"e1ffec53fd494d438fcb71daee1ae375\",\n    \"customer_name\": \"University of Iceland\",\n    \"customer_uuid\": \"6b4aba63ed47472e9cee84dac500cf11\",\n    \"recurring\": false,\n    \"billing_period\": \"2021-11-01\"\n  }\n</code></pre>"},{"location":"service-providers/","title":"Integration Guide","text":"<p>A Service Provider (SP) can operate over resources as well as manage resource allocations requested by other organizations.</p> <p>A typical flow of operations is as follows:</p> <ol> <li>Organization representing allocation body creates allocation in a certain project. Allocations are created in 'Creating' state.</li> <li>Service provider polls for new allocations and users with access to them, processes them and marks allocations as approved or rejected. Service provider also reports to Puhuri Core local username created for the user accounts as well as local references to allocations.</li> <li>Service provider regularly reports back accounting data as well as can provide status report for allocation (a semi-structured report visible to end-users).</li> </ol> <p>SDK Guide provides description for resource allocation management methods performed via Python 3 SDK for Puhuri Core.</p>"},{"location":"service-providers/#management-of-resource-allocators","title":"Management of Resource Allocators","text":"<p>Service Provider is in charge of managing Resource Allocators for its resources. Representative of the Service Provider should submit the initial list as well as updates to the support channel of Puhuri Core operator: support@puhuri.io.</p> <p>The following information must be provided for each Resource Allocator:</p> <ol> <li>Name</li> <li>Abbreviation</li> <li>Subnet in CIDR format from where access to Puhuri Core will be done</li> <li>Contact email</li> <li>Contact phone</li> <li>URL of organization</li> </ol> <p>Contact email will be used for establishing a communication channel from operator to allocator for providing and managing integration accounts. Contact phone will be used for emergencies only. URL of organization is optional and will be used for better understanding of the background of the allocator.</p>"},{"location":"service-providers/#lumi-use-case","title":"LUMI Use-case","text":"<p>TODO: Add interactions between components.</p> <p></p>"},{"location":"shared-puhuri-portal/","title":"Shared Puhuri Portal","text":"<p>Shared Puhuri Portal is meant for resource allocators, who are not able to host allocation portal themselves or do not have a national allocation portal for resource management.</p> <p>Shared portal provides less customized version (like fixed access url, own privacy policy etc not included) compared to the Puhuri dedicated portal to fit the needs of several resource allocators.</p>"},{"location":"terminology/","title":"Terminology","text":""},{"location":"terminology/#puhuri-terminology","title":"Puhuri Terminology","text":"Puhuri Term Puhuri Core API Term Definition AAI - Authentication and Authorisation Infrastructure (AAI)  (also used alternative term IAM). A set of various services to register a user to get a Puhuri ID, authenticate (i.e. to get the user identity) to use the integrated Resources (services). Accepted Terms of Service - A boolean value indicating if the Person has accepted the terms of service for a given resource Access - A boolean value indicating if a User Account or Service Account has the right to use a resource. This includes that the user has accepted the Terms of Use of the resource to which they have been given access. This is not visible to the end user. Accounting - A set consisting of the aggregation of the allocation of resource components to a project, and the actual consumption of consumable units of allocated resource components within a project Allocation Resource The right to access a resource and use of a resource component from a start date to an end date and to an extent of a number of consumable units as defined in a project Allocation Strategy - Defines the process by which resources are allocated in a Call. API - Application Programming Interface. An interface for machine-to-machine data transfer. Authentication - Process to get information regarding who the user is. Call - A Call represents a possibility to apply for a project on a certain\u00a0resource(s). Different sets of resources with total available\u00a0consumable units, min/max for requested\u00a0allocation,\u00a0are available in different calls.\u00a0Call-objects only live in the portal parts of Puhuri, or outside of Puhuri if the national stakeholders have their process set up in that way. Call Manager - A person(s) who can act as the head of the Call Manager Organisation\u2019s allocation committee and manage calls and allocate resources, which are related to the Call Manager Organisation. Call Manager Organisation Customer (organisation) An entity which decides on the allocation of the resources from a specific call and is represented by the Call Manager. co-PI - Also sometimes referred to as proxy-PI. A person who can act as a PI of a project and manage that project on behalf of a PI. Consumable unit Resource limits Consumable units that can be allocated to projects. These units are resource-specific. Different resources and resource components may consume these at different rates. Consumable units and their rate of consumption are defined for all resources that have accountable resources. Lifespan - The time period over which a project may have an allocation on one or more resources. The Lifespan has a start date and an end date, not that a Project may have no associated allocation Marketplace - Collection of Service offerings, which are available and can be ordered by the users. Member - A member is a person who has the right to consume the consumable units allocated to a project. The person is then a member of that project National Portal - A National Portal is an existing portal that can communicate with Puhuri Core through an API and by which researchers can apply for the use of, and be given access to, a resource. If present, it is to be used instead of the Puhuri portal Observer - A person who represents the Call Manager organisation and who can have read-only access to submitted Applications and Calls. Principal Investigator (PI) - A principal investigator (PI) is a person responsible for, and manager of, a Proposal and a Project Project - A project is an object with one or more allocations of one or more resources. The project has a number of consumable units assigned for each of the allocations. It is assigned to a PI, has one or more optional co-PIs and one or more members. The project is time-limited by its lifespan. Proposal - A formal request, which is submitted via the portal to get access to services provided by the Service Provider. The application may contain information about the justification for using the services, team members' information. A proposal is made to a round within a call organised by a call managing organisation, and in accordance with the policy of the call managing organisation. Puhuri Account - A representation of a unique real person with a unique identifier within Puhuri Core. It contains the contact information and institutional details for the person. A person can have multiple Resource Accounts Puhuri Core - The central database that keeps track of the components of the Puhuri Services, with information on, for example, resources, projects, Puhuri accounts, usage, etc.. Puhuri Portal - The portal to be used in the absence of a National Portal with at least the minimal functionality to allocate resources and manage project membership. Puhuri Services - The aggregation of Puhuri Core, Puhuri Stats, Puhuri Portal, Service desk, and corresponding APIs. Puhuri Stats - The service aggregates and presents the utilisation of the resources to service providers and resource allocators. Reporting - The process by which the utilisation of allocated resource components in terms of consumable units within a project by members of the project is presented to stakeholders. Resource Offering A Resource object represents a compute cluster, storage system, or cloud resource. Resource Account - Unique identifier for a Puhuri Account on a resource. (Username or similar) Resource Component Offering component An allocated part of a resource with a type and a unit. Example: GPU part of LUMI. Review - Outcome of the Proposal evaluation by Reviewer. Review Strategy - Defines the process, how proposals are reviewed: after submission/after the round end date. Defined by the allocating body Reviewer - Person, who is assigned by the Call Manager and who performs the evaluation of the proposal. Can be technical and/or scientific. Robot Account - A User Account which is not representing a real person, but a machine. However, it must have associated contact information for the responsible persons. Role - A specific set of access permissions to perform certain activities in the portal. Round - is connected to a specific call and defines the period during which Applications can be submitted. Every call can have one or more rounds. Service Offering - A specific set of services (like a compute cluster, storage system, or cloud resource), which a Service Provider provides to its customers or clients. Service Offering Component - An allocatable part of a Service Offering with a type, a unit and a max limit. Service Offering Manager - A person within the Service Provider organisation, who is responsible for delivering specific services to customers. Service Provider - Entity that has computational or any other resources, which can be allocated by Resource Allocators. Submitter - Person who submits the Application. Can be PI or another administrative person. User ID - A user is the entity (a real person or a machine) that uses the Resource. A User can belong to zero, one, or more Projects."},{"location":"toms/","title":"Technical and Organizational Measures of Puhuri Core and Puhuri Portal","text":"<ol> <li>Overview</li> </ol> <p>The University of Tartu is hosting the Puhuri Core and Puhuri Portal instances, the functions of which are described in the Service Description. This document describes technical and organisational measures to ensure information security and protect Personal Data in the High-Performance Computing Center (hereinafter: UTHPC) of the University of Tartu (hereinafter: University). </p> <p>Security standards In providing the service, the UTHPC will comply with the requirements of the E-ITS.</p> <ol> <li> <p>Introduction and scope </p> <ol> <li>UTHPC technical and organisational measures are based on the requirements and rules established by the University and the obligations arising from the Contract.  </li> <li>The basis for ensuring information security at UTHPC is the continuous assessment and implementation of information security measures and the training of UTHPC employees.  </li> <li>All UTHPC employees must familiarise themselves and follow UTHPC technical and organisational measures.  </li> <li>Technical and organisational measures apply to all data and information assets belonging to UTHPC that UTHPC uses to achieve its objectives or that are connected to networks managed by UTHPC.   </li> </ol> </li> <li> <p>Principles </p> <ol> <li>UTHPC, as the owner of the information assets, selects adequate and appropriate measures to protect them.  </li> <li>Data and information assets shall be protected following the policies and laws of the UTHPC and the University, particularly those relating to data protection, human rights and freedom of information.  </li> <li>Each information asset must have a designated lead user responsible for implementing appropriate security measures to protect the information asset.  </li> <li>Non-public information shall be made available only to those with a legitimate right to access that information.  </li> <li>Everyone granted access to information assets and data shall be responsible for their proper handling following confidentiality.  </li> <li>Data and information assets must be protected from unauthorised access.  </li> <li>Information assets are only available to those with the right to use them.  </li> <li>UTHPC will provide necessary security training for its employees.  </li> </ol> </li> <li> <p>Obligation of confidentiality </p> <ol> <li>The confidentiality requirement applies to confidential information and UTHPC employees due to legislation and agreements.  </li> <li>Information that is accessed by contract or law or that has been declared non-public on any other basis is considered confidential.  </li> <li>All UTHPC employees who come into contact with confidential data shall, as a minimum:  <ol> <li>not disclose confidential information which has become known to him or her unless it is required by law or necessary for the performance of his or her duties;  </li> <li>comply with applicable data protection legislation and procedures;  </li> <li>comply with the requirements of the obligation of confidentiality both during and after the employment relationship.  </li> </ol> </li> <li>If a third party performs the contractual obligation:  <ol> <li>there must be a contract between the University and a third party, which parties sign before the contractor is granted access to the information assets;  </li> <li>The contract must contain provisions on confidentiality requirements.  </li> </ol> </li> <li>Confidential data is processed on the UTHPC servers, and data transportation on data carriers is prohibited.  </li> </ol> </li> <li> <p>Access Control </p> <ol> <li>Access rights are determined based on the minimum principle, which means that access is granted only to information assets to which access is necessary for the performance of work or use of the Services.  </li> <li>Granting, modifying and removing UTHPC employees' access rights is governed by the UTHPC Access Rights Rules.  </li> <li>The access rights of UTHPC employees shall be audited regularly, at least once a year, and the audit result shall be recorded.  </li> <li>When UTHPC employees' work responsibilities change, the access rights of the respective employees are reviewed, and the rights that are not necessary for the performance of the new job responsibilities are removed.  </li> <li>Upon termination of employment of a UTHPC employee, all rights of the respective employee will be removed, and the account will be closed immediately.  </li> <li>Administrative access to UTHPC resources is restricted to UTHPC employees.  </li> <li>Separated network and firewall rules and strong access credentials protect unauthorised access.  </li> <li>All UTHPC resource users have user roles that restrict their access to data related to their projects.  </li> <li>UTHPC resource user representatives have access, read and necessary modification permissions to their resources to make necessary changes to resources.  </li> <li>UTHPC resource user representative's access is limited via the firewall.  </li> <li>UTHPC internal and external support teams have read access to the resources they provide support.  </li> </ol> </li> <li> <p>System operations </p> <ol> <li>UTHPC shall ensure that the service platform and components are updated.  </li> <li>Operating systems and applications are actively maintained. Unnecessary services are disabled or put behind the firewall.  </li> <li>UTHPC uses audit software to electronically monitor its networks, servers, routers, firewalls, and/or other UTHPC systems.  </li> <li>When making changes to hardware or software, the requirements established by the University and the rules established by UTHPC are followed.  </li> </ol> </li> <li> <p>Physical security </p> <ol> <li>The University hosts all UTHPC network devices and servers in a closed Data centre.  </li> <li>Only authorised necessary UTHPC personnel with a special permit have physical access to the data centre.  </li> <li>The data centre is behind two locked fireproof doors that can only be opened with a personal smart card.  </li> <li>The data centre is under electronic surveillance, and when entering the Data centre, the security must be deactivated using a personal code.  </li> <li>Data centre electronic surveillance can only be deactivated if someone is physically in the server room.  </li> <li>All Data centre entries and electronic security deactivations/activations are logged.  </li> <li>To ensure fire safety, the university must follow the fire safety rules.  </li> </ol> </li> <li> <p>Availability and integrity </p> <ol> <li>Maintenance of security measures, periodic reviews of regulations, daily monitoring of the working environment, periodic compliance checks of information security, response to changes and handling of information security incidents are necessary to ensure the continued appropriateness of security measures.  </li> <li>Continuity and disaster recovery processes are documented and reviewed yearly.  </li> </ol> </li> <li> <p>Security incidents </p> <ol> <li>Security incidents are managed following the University's information security policy and the UTHPC security incident procedures.  </li> <li>Security incidents must be handled to minimise the damage that may occur during the incidents.  </li> <li>The information collected while resolving an incident will be documented and analysed to prevent similar incidents from occurring in the future and to decide on the need for additional security measures.  </li> <li>If signs of a criminal offence, misdemeanour or disciplinary offence or breach of an employment contract are discovered while resolving a security incident, the case shall be processed to an institution or person entitled to conduct the respective proceedings.  </li> <li>The security incident handling process and the selection of security measures shall be reviewed annually and/or after each incident identified as having failed or deficiencies in preventing and handling security incidents.  </li> </ol> </li> <li> <p>Emergency </p> <ol> <li>An emergency is an incident that goes far beyond UTHPC jurisdiction - particularly fire, flood, bomb threat, long-term disruption of core services, or any other significant damage that UTHPC alone cannot be expected to repair.  </li> <li>The University's fire safety rules, evacuation plans, and other rules governing emergencies will apply in an emergency.  </li> <li>Recovery from significant physical damage (fire, flood, burglary, etc.) is based on the relevant University guidelines.  </li> <li>If necessary and possible, UTHPC will provide assistance in resolving the emergency.  </li> <li>After an emergency, the UTHPC manager organises the restoration of UTHPC working conditions in cooperation with the head of the Institute of Computer Science, ITO (Information Technology Department of Univeristy ) and other University units.  </li> <li>When recovering from an emergency, services will be restored in order of priority.  </li> <li>UTHPC users are temporarily directed to use the resources of UTHPC partners, if possible and necessary.  </li> <li>If it is not possible to use the UTHPC office premises for work, the work will be continued remotely.  </li> </ol> </li> <li> <p>Back-up </p> <ol> <li>Back-up ensures that data is preserved during data loss due to failure or human error.  </li> <li>The UTHPC manager is responsible for organising and operating the backups for UTHPC resources.  </li> <li>The backup type is incremental, which means only changed information is backed up.  </li> <li>A tape robot is used for backup, physically located in another location.  </li> <li>The backup system is located in another Data centre, the backup tapes are not physically removed from the tape robot, except in special cases (eg. data transport, etc,).  </li> <li>The tape robot database marks the backup data (backup time, files to be backed up, etc.).  </li> <li>If the data volume of the backup system increases to 80% of the maximum volume, an expansion or replacement of the backup system will be arranged.  </li> <li>Systems are in an automatic backup process and are backed up every night.  </li> <li>System logs are backed up along with the backup of the log servers.  </li> <li>Back-ups are kept under the time limits laid down in the contracts.  </li> <li>Discarded backup data will be deleted, and the media will be reused.  </li> <li>A dedicated service provider physically destroys discarded tapes.  </li> <li>Until destruction, the tapes are kept in the tape robot\u2019s room.  </li> <li>The data on the tapes will be erased before destruction.  </li> <li>The operation of the backup system is constantly checked.  </li> <li>The backup system is monitored internally and by a system independent of the backup server.  </li> </ol> </li> <li> <p>Personnel </p> <ol> <li>UTHPC will ensure sufficient employees to ensure that services are running and available in the event of planned and unplanned absences.</li> </ol> </li> </ol>"},{"location":"API%20guide/authentication/","title":"Authentication","text":"<p>Puhuri Core exposes REST API for all of its operations. Below are examples of typical operations performed against APIs. To run the examples, we are using a HTTPie.</p> <p>Almost all of the operations with API require an authentication token. Below we list two methods on how to get it.</p>"},{"location":"API%20guide/authentication/#authentication-with-usernamepassword","title":"Authentication with username/password","text":"<p>If your account is allowed to use username/password and the method is enabled (e.g. in dev environment), you can get a new token by submitting a username/password as JSON to a specific endpoint.</p> <pre><code>$ http -v POST https://puhuri-core-beta.neic.no/api-auth/password/ username=admin password=puhuridemoadmin\nPOST /api-auth/password/ HTTP/1.1\nUser-Agent: HTTPie/2.4.0\nAccept-Encoding: gzip, deflate\nAccept: application/json, */*;q=0.5\nConnection: keep-alive\nContent-Type: application/json\nContent-Length: 52\nHost: puhuri-core-beta.neic.no\n\n{\"username\": \"admin\", \"password\": \"puhuridemoadmin\"}\n\nHTTP/1.1 200 OK\nDate: Fri, 09 Apr 2021 09:28:41 GMT\nContent-Type: application/json\nContent-Length: 52\nAllow: POST, OPTIONS\nX-Frame-Options: SAMEORIGIN\nVary: Accept-Language, Cookie\nContent-Language: en\nAccess-Control-Allow-Credentials: true\nAccess-Control-Allow-Headers: Accept, Accept-Encoding, Authorization, Content-Type, Origin, User-Agent, X-CSRFToken, X-Requested-With\nAccess-Control-Allow-Methods: DELETE, GET, OPTIONS, PATCH, POST, PUT\nAccess-Control-Allow-Origin: *\nAccess-Control-Expose-Headers: Link, X-Result-Count\nStrict-Transport-Security: max-age=31536000; preload\nX-Content-Type-Options: nosniff\nX-XSS-Protection: 1; mode=block\nReferrer-Policy: no-referrer-when-downgrade\nContent-Security-Policy: report-uri csp.hpc.ut.ee; form-action 'self';\n\n{\"token\":\"787de6b7c581ab6d9d42fe9ec12ac9f1811c5811\"}\n</code></pre>"},{"location":"API%20guide/authentication/#authentication-token-management","title":"Authentication Token management","text":"<p>You are also able to get token from the Puhuri Core web interface. Select the user profile in the top-right corner and select Credentials and then API token:</p> <p></p> <p>Click on the 'eye' icon in the API token field to display the token. You can also select the token lifetime on this page.</p> <p></p>"},{"location":"API%20guide/common/","title":"Common","text":"<p>Generic API usage</p>"},{"location":"API%20guide/common/#pagination","title":"Pagination","text":"<p>All responses from Puhuri Core / Portal APIs are paginated. By default, 10 responses are returned. You can request more by passing <code>page_size=XXX</code> as query attribute. XXX can go up to 200.</p> <p>Pagination information is provided in Link headers.</p> <p>Check example of getting the full listing.</p>"},{"location":"API%20guide/common/#field-selection","title":"Field selection","text":"<p>In order to get a specific field from the response, you can use <code>field=field_name</code> selector in the query parameters.</p>"},{"location":"API%20guide/listing-users-resources/","title":"Listing associations between users and resources","text":"<p>To list the created associations between users and resources, the service provider should use <code>list_remote_offering_users</code> method. It receives an optional <code>filters</code> argument, a dictionary containing filters for the associations. The possible items are:</p> <ul> <li><code>user_uuid</code> - UUID of a user associated with resources belonging to SP</li> <li><code>offering</code> - SP resource URL</li> <li><code>offering_uuid</code> - UUID of a resource</li> <li><code>created</code> - date after what the association was created; the format is <code>YYYY-MM-DD</code>, e.g. <code>2022-01-30</code></li> <li><code>modified</code> - date after what the association was modified; the format is the same as for the <code>created</code> field</li> </ul> <p>In case if SDK usage is not possible, HTTP request can be sent:</p> <pre><code>GET &lt;API-URL&gt;/marketplace-offering-users/?user_uuid=&lt;USER_UUID&gt;&amp;offering_uuid=&lt;OFFERING_UUID&gt;&amp;created=2022-01-10&amp;modified=2022-01-30\n\n&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n\n{\n    \"created\": \"2022-01-19T19:40:10.328758Z\", # When the association has been created\n    \"modified\": \"2022-01-31T18:02:10.328758Z\", #\n    \"offering\": \"&lt;API-URL&gt;/marketplace-provider-offerings/&lt;OFFERING_UUID&gt;/\", # URL of the offering\n    \"offering_name\": \"Remote offering\", # Name of the offering\n    \"offering_uuid\": \"&lt;OFFERING_UUID&gt;\", # UUID of the offering\n    \"user\": \"http://localhost:8000/api/users/&lt;USER_UUID&gt;/\", # URL of the user\n    \"user_username\": \"&lt;USER_USERNAME&gt;\", # Username of the user\n    \"user_uuid\": \"&lt;USER_UUID&gt;\", # UUID of the user\n    \"username\": \"&lt;USERNAME&gt;\" # Username used in the association\n}\n</code></pre> <p>Example:</p> <pre><code>&gt; http -v --pretty all GET http://puhuri.example.com/api/marketplace-offering-users/ user_uuid==&lt;USER_UUID&gt; offering_uuid==&lt;OFFERING_UUID&gt; created==2021-08-17 Authorization:\"Token &lt;TOKEN&gt;\"\n\nGET /api/marketplace-offering-users/?user_uuid=&lt;USER_UUID&gt;&amp;offering_uuid=&lt;OFFERING_UUID&gt;&amp;created=2021-08-17 HTTP/1.1\nAccept: */*\nAccept-Encoding: gzip, deflate\nAuthorization: Token abc\nConnection: keep-alive\nHost: api.etais.ee\nUser-Agent: HTTPie/2.4.0\n\n\n\nHTTP/1.1 200 OK\nAccess-Control-Allow-Credentials: true\nAccess-Control-Allow-Headers: Accept, Accept-Encoding, Authorization, Content-Type, Origin, User-Agent, X-CSRFToken, X-Requested-With\nAccess-Control-Allow-Methods: DELETE, GET, OPTIONS, PATCH, POST, PUT\nAccess-Control-Allow-Origin: *\nAccess-Control-Expose-Headers: Link, X-Result-Count\nAllow: GET, POST, HEAD, OPTIONS\nContent-Language: en\nContent-Length: 436\nContent-Security-Policy: report-uri csp.hpc.ut.ee; form-action 'self';\nContent-Type: application/json\nDate: Wed, 16 Feb 2022 12:03:49 GMT\nLink: &lt;http://puhuri.example.com/api/marketplace-offering-users/?created=2021-08-17&amp;offering_uuid=&lt;OFFERING_UUID&gt;&amp;user_uuid=&lt;USER_UUID&gt;&gt;; rel=\"first\", &lt;http://puhuri.example.com/api/marketplace-offering-users/?created=2021-08-17&amp;offering_uuid=&lt;OFFERING_UUID&gt;&amp;user_uuid=&lt;USER_UUID&gt;&gt;; rel=\"last\"\nReferrer-Policy: no-referrer-when-downgrade\nStrict-Transport-Security: max-age=31536000; preload\nVary: Accept-Language, Cookie\nX-Content-Type-Options: nosniff\nX-Frame-Options: DENY\nX-Result-Count: 1\nX-XSS-Protection: 1; mode=block\n\n[\n    {\n        \"created\": \"2021-08-18T10:33:21.433472Z\",\n        \"modified\": \"2022-02-04T19:35:19.382943Z\",\n        \"offering\": \"http://puhuri.example.com/api/marketplace-provider-offerings/&lt;OFFERING_UUID&gt;/\",\n        \"offering_name\": \"&lt;OFFERING_NAME&gt;\",\n        \"offering_uuid\": \"&lt;OFFERING_UUID&gt;\",\n        \"user\": \"http://puhuri.example.com/api/users/&lt;USER_UUID&gt;/\",\n        \"user_username\": \"&lt;USER_USERNAME&gt;\",\n        \"user_uuid\": \"&lt;USER_UUID&gt;\",\n        \"username\": \"&lt;USERNAME&gt;\"\n    }\n]\n</code></pre>"},{"location":"API%20guide/project-permissions/","title":"Project permissions","text":""},{"location":"API%20guide/project-permissions/#getting-a-mapping-of-aai-user-to-core-user","title":"Getting a mapping of AAI user to Core user","text":"<p>To get Puhuri Core User UUID mapping from Puhuri AAI CUID, service providers should pass CUID as a parameter to the endpoint below.</p> <pre><code>http POST https://puhuri-core-beta.neic.no/api/remote-eduteams/ Authorization:\"Token 32e7682378fa394b0f8b2538c444b60129ebfb47\" cuid=\"01cfb7d6b76d400d12b8c8e0e33e36c5ef4562c1@acc.researcher-access.org\"\nHTTP/1.1 200 OK\nAccess-Control-Allow-Credentials: true\nAccess-Control-Allow-Headers: Accept, Accept-Encoding, Authorization, Content-Type, Origin, User-Agent, X-CSRFToken, X-Requested-With\nAccess-Control-Allow-Methods: DELETE, GET, OPTIONS, PATCH, POST, PUT\nAccess-Control-Allow-Origin: *\nAccess-Control-Expose-Headers: Link, X-Result-Count\nAllow: POST, OPTIONS\nContent-Language: en\nContent-Length: 43\nContent-Security-Policy: report-uri csp.hpc.ut.ee; form-action 'self';\nContent-Type: application/json\nDate: Wed, 14 Apr 2021 09:32:37 GMT\nReferrer-Policy: no-referrer-when-downgrade\nStrict-Transport-Security: max-age=31536000; preload\nVary: Accept-Language, Cookie\nX-Content-Type-Options: nosniff\nX-Frame-Options: SAMEORIGIN\nX-XSS-Protection: 1; mode=block\n\n{\n    \"uuid\": \"bc9db26ff9984f8fa972fc071bfd008e\"\n}\n</code></pre> <p>Example of error message if user information could not have been retrieved.</p> <pre><code>http POST https://puhuri-core-beta.neic.no/api/remote-eduteams/ Authorization:\"Token 32e7682378fa394b0f8b2538c444b60129ebfb47\" cuid=\"asdasd\"\nHTTP/1.1 401 Unauthorized\nAccess-Control-Allow-Credentials: true\nAccess-Control-Allow-Headers: Accept, Accept-Encoding, Authorization, Content-Type, Origin, User-Agent, X-CSRFToken, X-Requested-With\nAccess-Control-Allow-Methods: DELETE, GET, OPTIONS, PATCH, POST, PUT\nAccess-Control-Allow-Origin: *\nAccess-Control-Expose-Headers: Link, X-Result-Count\nAllow: POST, OPTIONS\nContent-Language: en\nContent-Length: 53\nContent-Security-Policy: report-uri csp.hpc.ut.ee; form-action 'self';\nContent-Type: application/json\nDate: Wed, 14 Apr 2021 09:31:40 GMT\nReferrer-Policy: no-referrer-when-downgrade\nStrict-Transport-Security: max-age=31536000; preload\nVary: Accept-Language, Cookie\nX-Content-Type-Options: nosniff\nX-Frame-Options: SAMEORIGIN\nX-XSS-Protection: 1; mode=block\n\n{\n    \"detail\": \"Eduteams error: Unable to get user info.\"\n}\n</code></pre> <p>The calls to the mapping endpoint are only allowed to users with identity manager role!</p> <pre><code>$ http POST https://puhuri-core-beta.neic.no/api/remote-eduteams/ Authorization:\"Token 32e7682378fa394b0f8b2538c444b60129ebfb47\"\nHTTP/1.1 403 Forbidden\nAccess-Control-Allow-Credentials: true\nAccess-Control-Allow-Headers: Accept, Accept-Encoding, Authorization, Content-Type, Origin, User-Agent, X-CSRFToken, X-Requested-With\nAccess-Control-Allow-Methods: DELETE, GET, OPTIONS, PATCH, POST, PUT\nAccess-Control-Allow-Origin: *\nAccess-Control-Expose-Headers: Link, X-Result-Count\nAllow: POST, OPTIONS\nContent-Language: en\nContent-Length: 56\nContent-Security-Policy: report-uri csp.hpc.ut.ee; form-action 'self';\nContent-Type: application/json\nDate: Wed, 14 Apr 2021 09:28:05 GMT\nReferrer-Policy: no-referrer-when-downgrade\nStrict-Transport-Security: max-age=31536000; preload\nVary: Accept-Language, Cookie\nX-Content-Type-Options: nosniff\nX-Frame-Options: SAMEORIGIN\nX-XSS-Protection: 1; mode=block\n\n\"Only identity manager is allowed to sync remote users.\"\n</code></pre>"},{"location":"API%20guide/project-permissions/#project-members-permissions-allocation","title":"Project members permissions allocation","text":"<p>User creates a role for a user in a project.</p> <pre><code>$ http --pretty=format -v POST https://puhuri-core-beta.neic.no/api/projects/2477fb6fad594922ac2f5ba195807502/add_user/ Authorization:\"Token b0dd9a5eb32a158b2739d57d2b359aeb30aef246\" role=PROJECT.ADMIN user=d213b473874c44d0bb5e2588b091160d\nPOST /api/projects/2477fb6fad594922ac2f5ba195807502/add_user/ HTTP/1.1\nAccept: application/json, */*;q=0.5\nAccept-Encoding: gzip, deflate\nAuthorization: Token b0dd9a5eb32a158b2739d57d2b359aeb30aef246\nConnection: keep-alive\nContent-Length: 69\nContent-Type: application/json\nHost: puhuri-core-beta.neic.no\nUser-Agent: HTTPie/3.2.2\n\n{\n    \"role\": \"PROJECT.ADMIN\",\n    \"user\": \"d213b473874c44d0bb5e2588b091160d\"\n}\n\nHTTP/1.1 201 Created\naccess-control-allow-credentials: true\naccess-control-allow-headers: Accept, Accept-Encoding, Authorization, Content-Type, Origin, User-Agent, X-CSRFToken, X-Requested-With, sentry-trace, baggage\naccess-control-allow-methods: DELETE, GET, OPTIONS, PATCH, POST, PUT\naccess-control-allow-origin: *\naccess-control-expose-headers: Link, X-Result-Count\nallow: POST, OPTIONS\ncontent-language: en\ncontent-length: 24\ncontent-security-policy: report-uri https://csp.hpc.ut.ee/log; form-action 'self'; frame-ancestors 'self';\ncontent-type: application/json\ndate: Sun, 08 Oct 2023 17:28:49 GMT\nreferrer-policy: strict-origin-when-cross-origin\nstrict-transport-security: max-age=31536000; preload\nvary: Accept-Language, Cookie\nx-content-type-options: nosniff\nx-frame-options: DENY\nx-xss-protection: 1; mode=block\n\n{\n    \"expiration_time\": null\n}\n</code></pre>"},{"location":"API%20guide/project-permissions/#list-project-permissions","title":"List project permissions","text":"<pre><code>$ http --pretty=format -v https://puhuri-core-beta.neic.no/api/projects/2477fb6fad594922ac2f5ba195807502/list_users/ Authorization:\"Token b0dd9a5eb32a158b2739d57d2b359aeb30aef246\" \nGET /api/projects/2477fb6fad594922ac2f5ba195807502/list_users/ HTTP/1.1\nAccept: */*\nAccept-Encoding: gzip, deflate\nAuthorization: Token b0dd9a5eb32a158b2739d57d2b359aeb30aef246\nConnection: keep-alive\nHost: puhuri-core-beta.neic.no\nUser-Agent: HTTPie/3.2.2\n\n\n\nHTTP/1.1 200 OK\naccess-control-allow-credentials: true\naccess-control-allow-headers: Accept, Accept-Encoding, Authorization, Content-Type, Origin, User-Agent, X-CSRFToken, X-Requested-With, sentry-trace, baggage\naccess-control-allow-methods: DELETE, GET, OPTIONS, PATCH, POST, PUT\naccess-control-allow-origin: *\naccess-control-expose-headers: Link, X-Result-Count\nallow: GET, HEAD, OPTIONS\ncontent-language: en\ncontent-length: 484\ncontent-security-policy: report-uri https://csp.hpc.ut.ee/log; form-action 'self'; frame-ancestors 'self';\ncontent-type: application/json\ndate: Sun, 08 Oct 2023 17:29:53 GMT\nlink: &lt;https://puhuri-core-beta.neic.no/api/projects/2477fb6fad594922ac2f5ba195807502/list_users/&gt;; rel=\"first\", &lt;https://puhuri-core-beta.neic.no/api/projects/2477fb6fad594922ac2f5ba195807502/list_users/&gt;; rel=\"last\"\nreferrer-policy: strict-origin-when-cross-origin\nstrict-transport-security: max-age=31536000; preload\nvary: Accept-Language, Cookie\nx-content-type-options: nosniff\nx-frame-options: DENY\nx-result-count: 1\nx-xss-protection: 1; mode=block\n\n[\n    {\n        \"created\": \"2023-10-08T17:28:49.565755Z\",\n        \"created_by_full_name\": \"Demo User\",\n        \"created_by_uuid\": \"d213b473874c44d0bb5e2588b091160d\",\n        \"expiration_time\": null,\n        \"role_name\": \"PROJECT.ADMIN\",\n        \"role_uuid\": \"f734dc56c95e4f8880293defef00079e\",\n        \"user_email\": \"demo.user@example.com\",\n        \"user_full_name\": \"Demo User\",\n        \"user_image\": null,\n        \"user_username\": \"1af2bdea-73db-4790-baa5-5b487b6625f5@myaccessid.org\",\n        \"user_uuid\": \"d213b473874c44d0bb5e2588b091160d\",\n        \"uuid\": \"afdda66296c9490ebed72fce4a00d27a\"\n    }\n]\n</code></pre>"},{"location":"API%20guide/project-permissions/#removal-of-members-from-a-project","title":"Removal of members from a project","text":"<p>User can remove the permissions calling DELETE verb on permission's URL.</p> <pre><code>$ http --pretty=format -v POST https://puhuri-core-beta.neic.no/api/projects/2477fb6fad594922ac2f5ba195807502/delete_user/ Authorization:\"Token b0dd9a5eb32a158b2739d57d2b359aeb30aef246\" role=PROJECT.ADMIN user=d213b473874c44d0bb5e2588b091160d\nPOST /api/projects/2477fb6fad594922ac2f5ba195807502/delete_user/ HTTP/1.1\nAccept: application/json, */*;q=0.5\nAccept-Encoding: gzip, deflate\nAuthorization: Token b0dd9a5eb32a158b2739d57d2b359aeb30aef246\nConnection: keep-alive\nContent-Length: 69\nContent-Type: application/json\nHost: puhuri-core-beta.neic.no\nUser-Agent: HTTPie/3.2.2\n\n{\n    \"role\": \"PROJECT.ADMIN\",\n    \"user\": \"d213b473874c44d0bb5e2588b091160d\"\n}\n\nHTTP/1.1 200 OK\naccess-control-allow-credentials: true\naccess-control-allow-headers: Accept, Accept-Encoding, Authorization, Content-Type, Origin, User-Agent, X-CSRFToken, X-Requested-With, sentry-trace, baggage\naccess-control-allow-methods: DELETE, GET, OPTIONS, PATCH, POST, PUT\naccess-control-allow-origin: *\naccess-control-expose-headers: Link, X-Result-Count\nallow: POST, OPTIONS\ncontent-language: en\ncontent-length: 0\ncontent-security-policy: report-uri https://csp.hpc.ut.ee/log; form-action 'self'; frame-ancestors 'self';\ndate: Sun, 08 Oct 2023 17:31:32 GMT\nreferrer-policy: strict-origin-when-cross-origin\nstrict-transport-security: max-age=31536000; preload\nvary: Accept-Language, Cookie\nx-content-type-options: nosniff\nx-frame-options: DENY\nx-xss-protection: 1; mode=block\n</code></pre>"},{"location":"API%20guide/project/","title":"Project","text":""},{"location":"API%20guide/project/#lookup-allocator-customers-available-to-a-user","title":"Lookup allocator customers available to a user","text":"<p>In most cases integration user can see only one allocating organization (or Puhuri Core \"customer\"), however it is possible that the same account is used for allocating different shares, e.g. national share and community specific. Projects are always created in the context of a specific customer, so as a first thing you need to lookup a specific customer you want to use. Customer is a stable entity, so it's URL / UUID can be cached.</p> <pre><code>$ http --pretty=format -v https://puhuri-core-beta.neic.no/api/customers/ field==url field==name Authorization:\"Token 787de6b7c581ab6d9d42fe9ec12ac9f1811c5811\"\nGET /api/customers/?field=url&amp;field=name HTTP/1.1\nAccept: */*\nAccept-Encoding: gzip, deflate\nAuthorization: Token 787de6b7c581ab6d9d42fe9ec12ac9f1811c5811\nConnection: keep-alive\nHost: puhuri-core-beta.neic.no\nUser-Agent: HTTPie/2.4.0\n\n\n\nHTTP/1.1 200 OK\nAccess-Control-Allow-Credentials: true\nAccess-Control-Allow-Headers: Accept, Accept-Encoding, Authorization, Content-Type, Origin, User-Agent, X-CSRFToken, X-Requested-With\nAccess-Control-Allow-Methods: DELETE, GET, OPTIONS, PATCH, POST, PUT\nAccess-Control-Allow-Origin: *\nAccess-Control-Expose-Headers: Link, X-Result-Count\nAllow: GET, POST, HEAD, OPTIONS\nContent-Language: en\nContent-Length: 1188\nContent-Security-Policy: report-uri csp.hpc.ut.ee; form-action 'self';\nContent-Type: application/json\nDate: Fri, 09 Apr 2021 09:28:42 GMT\nLink: &lt;https://puhuri-core-beta.neic.no/api/customers/?field=url&amp;field=name&gt;; rel=\"first\", &lt;https://puhuri-core-beta.neic.no/api/customers/?field=url&amp;field=name&gt;; rel=\"last\"\nReferrer-Policy: no-referrer-when-downgrade\nStrict-Transport-Security: max-age=31536000; preload\nVary: Accept-Language, Cookie\nX-Content-Type-Options: nosniff\nX-Frame-Options: SAMEORIGIN\nX-Result-Count: 9\nX-XSS-Protection: 1; mode=block\n\n[\n    {\n        \"name\": \"Danish e-Infrastructure Cooperation\",\n        \"url\": \"https://puhuri-core-beta.neic.no/api/customers/d42a18b6b8ba4c2bb0591b3ff8fb181d/\"\n    },\n    {\n        \"name\": \"Estonian Scientific Computing Infrastructure\",\n        \"url\": \"https://puhuri-core-beta.neic.no/api/customers/33541d82c56c4eca8dbb1dabee54b3b9/\"\n    },\n    {\n        \"name\": \"IT CENTER FOR SCIENCE LTD\",\n        \"url\": \"https://puhuri-core-beta.neic.no/api/customers/29f29e6b65004bff9e831dec7c953177/\"\n    },\n    {\n        \"name\": \"Swedish National Infrastructure for Computing\",\n        \"url\": \"https://puhuri-core-beta.neic.no/api/customers/479843b7d15543bba6c0596bf408df63/\"\n    },\n    {\n        \"name\": \"Swiss National Supercomputing Centre\",\n        \"url\": \"https://puhuri-core-beta.neic.no/api/customers/f7b91251f991485999f423529fcdc1ad/\"\n    },\n    {\n        \"name\": \"The IT4Innovations\",\n        \"url\": \"https://puhuri-core-beta.neic.no/api/customers/9a8891e0327b460dbce61f9dda74d679/\"\n    },\n    {\n        \"name\": \"The Polish Grid Infrastructure\",\n        \"url\": \"https://puhuri-core-beta.neic.no/api/customers/c11b0d4e95144bd5964a09a294d30196/\"\n    },\n    {\n        \"name\": \"UNINETT Sigma2 AS\",\n        \"url\": \"https://puhuri-core-beta.neic.no/api/customers/918594bae69449bb8d011a4c5987515d/\"\n    },\n    {\n        \"name\": \"VLAAMS SUPERCOMPUTER CENTRUM\",\n        \"url\": \"https://puhuri-core-beta.neic.no/api/customers/b5fd863c7159484b8b9009aac1833cd3/\"\n    }\n]\n</code></pre>"},{"location":"API%20guide/project/#create-a-new-project","title":"Create a new project","text":"<pre><code>$ http --pretty=format -v POST https://puhuri-core-beta.neic.no/api/projects/ Authorization:\"Token 787de6b7c581ab6d9d42fe9ec12ac9f1811c5811\" customer=https://puhuri-core-beta.neic.no/api/customers/d42a18b6b8ba4c2bb0591b3ff8fb181d/ name=\"Project name\" description=\"Project description\" backend_id=\"My unique string\" oecd_fos_2007_code=\"1.1\"\nPOST /api/projects/ HTTP/1.1\nAccept: application/json, */*;q=0.5\nAccept-Encoding: gzip, deflate\nAuthorization: Token 787de6b7c581ab6d9d42fe9ec12ac9f1811c5811\nConnection: keep-alive\nContent-Length: 192\nContent-Type: application/json\nHost: puhuri-core-beta.neic.no\nUser-Agent: HTTPie/2.4.0\n\n{\n    \"backend_id\": \"My unique string\",\n    \"customer\": \"https://puhuri-core-beta.neic.no/api/customers/d42a18b6b8ba4c2bb0591b3ff8fb181d/\",\n    \"description\": \"Project description\",\n    \"name\": \"Project name\",\n    \"oecd_fos_2007_code\": \"1.1\"\n}\n\nHTTP/1.1 201 Created\nAccess-Control-Allow-Credentials: true\nAccess-Control-Allow-Headers: Accept, Accept-Encoding, Authorization, Content-Type, Origin, User-Agent, X-CSRFToken, X-Requested-With\nAccess-Control-Allow-Methods: DELETE, GET, OPTIONS, PATCH, POST, PUT\nAccess-Control-Allow-Origin: *\nAccess-Control-Expose-Headers: Link, X-Result-Count\nAllow: GET, POST, HEAD, OPTIONS\nContent-Language: en\nContent-Length: 604\nContent-Security-Policy: report-uri csp.hpc.ut.ee; form-action 'self';\nContent-Type: application/json\nDate: Fri, 09 Apr 2021 09:40:52 GMT\nLocation: https://puhuri-core-beta.neic.no/api/projects/4475ac77fa3a491aacb3fb3a6dfadadf/\nReferrer-Policy: no-referrer-when-downgrade\nStrict-Transport-Security: max-age=31536000; preload\nVary: Accept-Language, Cookie\nX-Content-Type-Options: nosniff\nX-Frame-Options: SAMEORIGIN\nX-XSS-Protection: 1; mode=block\n\n{\n    \"backend_id\": \"My unique string\",\n    \"billing_price_estimate\": {\n        \"current\": 0,\n        \"tax\": 0,\n        \"tax_current\": 0,\n        \"total\": 0.0\n    },\n    \"created\": \"2021-04-09T09:40:51.832870Z\",\n    \"customer\": \"https://puhuri-core-beta.neic.no/api/customers/d42a18b6b8ba4c2bb0591b3ff8fb181d/\",\n    \"customer_abbreviation\": \"DeiC\",\n    \"customer_name\": \"Danish e-Infrastructure Cooperation\",\n    \"customer_native_name\": \"\",\n    \"customer_uuid\": \"d42a18b6b8ba4c2bb0591b3ff8fb181d\",\n    \"description\": \"Project description\",\n    \"name\": \"Project name\",\n    \"oecd_fos_2007_code\": \"1.1\",\n    \"type\": null,\n    \"url\": \"https://puhuri-core-beta.neic.no/api/projects/4475ac77fa3a491aacb3fb3a6dfadadf/\",\n    \"uuid\": \"4475ac77fa3a491aacb3fb3a6dfadadf\"\n}\n</code></pre>"},{"location":"API%20guide/project/#update-an-existing-project","title":"Update an existing project","text":"<pre><code>$ http --pretty=format -v PUT https://puhuri-core-beta.neic.no/api/projects/4475ac77fa3a491aacb3fb3a6dfadadf/ Authorization:\"Token 787de6b7c581ab6d9d42fe9ec12ac9f1811c5811\" name=\"New project name\" customer=https://puhuri-core-beta.neic.no/api/customers/d42a18b6b8ba4c2bb0591b3ff8fb181d/\nPUT /api/projects/4475ac77fa3a491aacb3fb3a6dfadadf/ HTTP/1.1\nAccept: application/json, */*;q=0.5\nAccept-Encoding: gzip, deflate\nAuthorization: Token 787de6b7c581ab6d9d42fe9ec12ac9f1811c5811\nConnection: keep-alive\nContent-Length: 124\nContent-Type: application/json\nHost: puhuri-core-beta.neic.no\nUser-Agent: HTTPie/2.4.0\n\n{\n    \"customer\": \"https://puhuri-core-beta.neic.no/api/customers/d42a18b6b8ba4c2bb0591b3ff8fb181d/\",\n    \"name\": \"New project name\"\n}\n\nHTTP/1.1 200 OK\nAccess-Control-Allow-Credentials: true\nAccess-Control-Allow-Headers: Accept, Accept-Encoding, Authorization, Content-Type, Origin, User-Agent, X-CSRFToken, X-Requested-With\nAccess-Control-Allow-Methods: DELETE, GET, OPTIONS, PATCH, POST, PUT\nAccess-Control-Allow-Origin: *\nAccess-Control-Expose-Headers: Link, X-Result-Count\nAllow: GET, PUT, PATCH, DELETE, HEAD, OPTIONS\nContent-Language: en\nContent-Length: 608\nContent-Security-Policy: report-uri csp.hpc.ut.ee; form-action 'self';\nContent-Type: application/json\nDate: Fri, 09 Apr 2021 09:45:16 GMT\nReferrer-Policy: no-referrer-when-downgrade\nStrict-Transport-Security: max-age=31536000; preload\nVary: Accept-Language, Cookie\nX-Content-Type-Options: nosniff\nX-Frame-Options: SAMEORIGIN\nX-XSS-Protection: 1; mode=block\n\n{\n    \"backend_id\": \"My unique string\",\n    \"billing_price_estimate\": {\n        \"current\": 0,\n        \"tax\": 0,\n        \"tax_current\": 0,\n        \"total\": 0.0\n    },\n    \"created\": \"2021-04-09T09:40:51.832870Z\",\n    \"customer\": \"https://puhuri-core-beta.neic.no/api/customers/d42a18b6b8ba4c2bb0591b3ff8fb181d/\",\n    \"customer_abbreviation\": \"DeiC\",\n    \"customer_name\": \"Danish e-Infrastructure Cooperation\",\n    \"customer_native_name\": \"\",\n    \"customer_uuid\": \"d42a18b6b8ba4c2bb0591b3ff8fb181d\",\n    \"description\": \"Project description\",\n    \"name\": \"New project name\",\n    \"type\": null,\n    \"url\": \"https://puhuri-core-beta.neic.no/api/projects/4475ac77fa3a491aacb3fb3a6dfadadf/\",\n    \"uuid\": \"4475ac77fa3a491aacb3fb3a6dfadadf\"\n}\n</code></pre>"},{"location":"API%20guide/project/#list-projects","title":"List projects","text":"<pre><code>$ http --pretty=format -v https://puhuri-core-beta.neic.no/api/projects/ Authorization:\"Token 787de6b7c581ab6d9d42fe9ec12ac9f1811c5811\"\nGET /api/projects/ HTTP/1.1\nAccept: */*\nAccept-Encoding: gzip, deflate\nAuthorization: Token 787de6b7c581ab6d9d42fe9ec12ac9f1811c5811\nConnection: keep-alive\nHost: puhuri-core-beta.neic.no\nUser-Agent: HTTPie/2.4.0\n\n\n\nHTTP/1.1 200 OK\nAccess-Control-Allow-Credentials: true\nAccess-Control-Allow-Headers: Accept, Accept-Encoding, Authorization, Content-Type, Origin, User-Agent, X-CSRFToken, X-Requested-With\nAccess-Control-Allow-Methods: DELETE, GET, OPTIONS, PATCH, POST, PUT\nAccess-Control-Allow-Origin: *\nAccess-Control-Expose-Headers: Link, X-Result-Count\nAllow: GET, POST, HEAD, OPTIONS\nContent-Language: en\nContent-Length: 7129\nContent-Security-Policy: report-uri csp.hpc.ut.ee; form-action 'self';\nContent-Type: application/json\nDate: Fri, 09 Apr 2021 09:46:41 GMT\nLink: &lt;https://puhuri-core-beta.neic.no/api/projects/&gt;; rel=\"first\", &lt;https://puhuri-core-beta.neic.no/api/projects/?page=2&gt;; rel=\"next\", &lt;https://puhuri-core-beta.neic.no/api/projects/?page=2&gt;; rel=\"last\"\nReferrer-Policy: no-referrer-when-downgrade\nStrict-Transport-Security: max-age=31536000; preload\nVary: Accept-Language, Cookie\nX-Content-Type-Options: nosniff\nX-Frame-Options: SAMEORIGIN\nX-Result-Count: 20\nX-XSS-Protection: 1; mode=block\n\n[\n    {\n        \"backend_id\": \"\",\n        \"billing_price_estimate\": {\n            \"current\": 0,\n            \"tax\": 0,\n            \"tax_current\": 0,\n            \"total\": 0.0\n        },\n        \"created\": \"2021-03-26T10:57:02.640605Z\",\n        \"customer\": \"https://puhuri-core-beta.neic.no/api/customers/29f29e6b65004bff9e831dec7c953177/\",\n        \"customer_abbreviation\": \"CSC\",\n        \"customer_name\": \"IT CENTER FOR SCIENCE LTD\",\n        \"customer_native_name\": \"\",\n        \"customer_uuid\": \"29f29e6b65004bff9e831dec7c953177\",\n        \"description\": \"CSC test project description\",\n        \"name\": \"CSC test project\",\n        \"type\": \"https://puhuri-core-beta.neic.no/api/project-types/c588e4bc82fa4cf0b97e545e117c4c21/\",\n        \"type_name\": \"Name of project type\",\n        \"url\": \"https://puhuri-core-beta.neic.no/api/projects/8cb53568cbed40c584029cb43cc540f6/\",\n        \"uuid\": \"8cb53568cbed40c584029cb43cc540f6\"\n    },\n    {\n        \"backend_id\": \"\",\n        \"billing_price_estimate\": {\n            \"current\": 0,\n            \"tax\": 0,\n            \"tax_current\": 0,\n            \"total\": 0.0\n        },\n        \"created\": \"2021-03-30T06:06:30.911124Z\",\n        \"customer\": \"https://puhuri-core-beta.neic.no/api/customers/29f29e6b65004bff9e831dec7c953177/\",\n        \"customer_abbreviation\": \"CSC\",\n        \"customer_name\": \"IT CENTER FOR SCIENCE LTD\",\n        \"customer_native_name\": \"\",\n        \"customer_uuid\": \"29f29e6b65004bff9e831dec7c953177\",\n        \"description\": \"CSC test project 10 description\",\n        \"name\": \"CSC test project 10\",\n        \"type\": \"https://puhuri-core-beta.neic.no/api/project-types/c588e4bc82fa4cf0b97e545e117c4c21/\",\n        \"type_name\": \"Name of project type\",\n        \"url\": \"https://puhuri-core-beta.neic.no/api/projects/a6241bd8342c4fb4b8ea9507ea03d658/\",\n        \"uuid\": \"a6241bd8342c4fb4b8ea9507ea03d658\"\n    },\n    {\n        \"backend_id\": \"\",\n        \"billing_price_estimate\": {\n            \"current\": 0,\n            \"tax\": 0,\n            \"tax_current\": 0,\n            \"total\": 0.0\n        },\n        \"created\": \"2021-03-30T06:06:43.645113Z\",\n        \"customer\": \"https://puhuri-core-beta.neic.no/api/customers/29f29e6b65004bff9e831dec7c953177/\",\n        \"customer_abbreviation\": \"CSC\",\n        \"customer_name\": \"IT CENTER FOR SCIENCE LTD\",\n        \"customer_native_name\": \"\",\n        \"customer_uuid\": \"29f29e6b65004bff9e831dec7c953177\",\n        \"description\": \"CSC test project 11 description\",\n        \"name\": \"CSC test project 11\",\n        \"type\": \"https://puhuri-core-beta.neic.no/api/project-types/c588e4bc82fa4cf0b97e545e117c4c21/\",\n        \"type_name\": \"Name of project type\",\n        \"url\": \"https://puhuri-core-beta.neic.no/api/projects/d21ccbb0033f49fa928dc6bcc739cd8e/\",\n        \"uuid\": \"d21ccbb0033f49fa928dc6bcc739cd8e\"\n    },\n    {\n        \"backend_id\": \"\",\n        \"billing_price_estimate\": {\n            \"current\": 0,\n            \"tax\": 0,\n            \"tax_current\": 0,\n            \"total\": 0.0\n        },\n        \"created\": \"2021-03-30T06:07:03.472114Z\",\n        \"customer\": \"https://puhuri-core-beta.neic.no/api/customers/29f29e6b65004bff9e831dec7c953177/\",\n        \"customer_abbreviation\": \"CSC\",\n        \"customer_name\": \"IT CENTER FOR SCIENCE LTD\",\n        \"customer_native_name\": \"\",\n        \"customer_uuid\": \"29f29e6b65004bff9e831dec7c953177\",\n        \"description\": \"CSC test project 12 description\",\n        \"name\": \"CSC test project 12\",\n        \"type\": \"https://puhuri-core-beta.neic.no/api/project-types/c588e4bc82fa4cf0b97e545e117c4c21/\",\n        \"type_name\": \"Name of project type\",\n        \"url\": \"https://puhuri-core-beta.neic.no/api/projects/09119652d1f24a068ec8a6d29da1016a/\",\n        \"uuid\": \"09119652d1f24a068ec8a6d29da1016a\"\n    },\n    {\n        \"backend_id\": \"\",\n        \"billing_price_estimate\": {\n            \"current\": 0,\n            \"tax\": 0,\n            \"tax_current\": 0,\n            \"total\": 0.0\n        },\n        \"created\": \"2021-03-30T06:07:22.023662Z\",\n        \"customer\": \"https://puhuri-core-beta.neic.no/api/customers/29f29e6b65004bff9e831dec7c953177/\",\n        \"customer_abbreviation\": \"CSC\",\n        \"customer_name\": \"IT CENTER FOR SCIENCE LTD\",\n        \"customer_native_name\": \"\",\n        \"customer_uuid\": \"29f29e6b65004bff9e831dec7c953177\",\n        \"description\": \"CSC test project 13 description\",\n        \"name\": \"CSC test project 13\",\n        \"type\": \"https://puhuri-core-beta.neic.no/api/project-types/c588e4bc82fa4cf0b97e545e117c4c21/\",\n        \"type_name\": \"Name of project type\",\n        \"url\": \"https://puhuri-core-beta.neic.no/api/projects/adf45385e57749c4b636d09b127039ea/\",\n        \"uuid\": \"adf45385e57749c4b636d09b127039ea\"\n    },\n    {\n        \"backend_id\": \"\",\n        \"billing_price_estimate\": {\n            \"current\": 0,\n            \"tax\": 0,\n            \"tax_current\": 0,\n            \"total\": 0.0\n        },\n        \"created\": \"2021-03-30T06:07:37.658803Z\",\n        \"customer\": \"https://puhuri-core-beta.neic.no/api/customers/29f29e6b65004bff9e831dec7c953177/\",\n        \"customer_abbreviation\": \"CSC\",\n        \"customer_name\": \"IT CENTER FOR SCIENCE LTD\",\n        \"customer_native_name\": \"\",\n        \"customer_uuid\": \"29f29e6b65004bff9e831dec7c953177\",\n        \"description\": \"CSC test project 14 description\",\n        \"name\": \"CSC test project 14\",\n        \"type\": \"https://puhuri-core-beta.neic.no/api/project-types/c588e4bc82fa4cf0b97e545e117c4c21/\",\n        \"type_name\": \"Name of project type\",\n        \"url\": \"https://puhuri-core-beta.neic.no/api/projects/4b3ff8e4dfe84c8ab83834715c757e47/\",\n        \"uuid\": \"4b3ff8e4dfe84c8ab83834715c757e47\"\n    },\n    {\n        \"backend_id\": \"\",\n        \"billing_price_estimate\": {\n            \"current\": 0,\n            \"tax\": 0,\n            \"tax_current\": 0,\n            \"total\": 0.0\n        },\n        \"created\": \"2021-03-30T06:07:52.235226Z\",\n        \"customer\": \"https://puhuri-core-beta.neic.no/api/customers/29f29e6b65004bff9e831dec7c953177/\",\n        \"customer_abbreviation\": \"CSC\",\n        \"customer_name\": \"IT CENTER FOR SCIENCE LTD\",\n        \"customer_native_name\": \"\",\n        \"customer_uuid\": \"29f29e6b65004bff9e831dec7c953177\",\n        \"description\": \"CSC test project 15 description\",\n        \"name\": \"CSC test project 15\",\n        \"type\": \"https://puhuri-core-beta.neic.no/api/project-types/c588e4bc82fa4cf0b97e545e117c4c21/\",\n        \"type_name\": \"Name of project type\",\n        \"url\": \"https://puhuri-core-beta.neic.no/api/projects/19cb4c0825ec4333adcdf3fce9382fac/\",\n        \"uuid\": \"19cb4c0825ec4333adcdf3fce9382fac\"\n    },\n    {\n        \"backend_id\": \"\",\n        \"billing_price_estimate\": {\n            \"current\": 0,\n            \"tax\": 0,\n            \"tax_current\": 0,\n            \"total\": 0.0\n        },\n        \"created\": \"2021-03-30T05:44:25.730256Z\",\n        \"customer\": \"https://puhuri-core-beta.neic.no/api/customers/29f29e6b65004bff9e831dec7c953177/\",\n        \"customer_abbreviation\": \"CSC\",\n        \"customer_name\": \"IT CENTER FOR SCIENCE LTD\",\n        \"customer_native_name\": \"\",\n        \"customer_uuid\": \"29f29e6b65004bff9e831dec7c953177\",\n        \"description\": \"CSC test project 2 description\",\n        \"name\": \"CSC test project 2\",\n        \"type\": \"https://puhuri-core-beta.neic.no/api/project-types/c588e4bc82fa4cf0b97e545e117c4c21/\",\n        \"type_name\": \"Name of project type\",\n        \"url\": \"https://puhuri-core-beta.neic.no/api/projects/62808e67ca734d6c9710f7d1dd35a299/\",\n        \"uuid\": \"62808e67ca734d6c9710f7d1dd35a299\"\n    },\n    {\n        \"backend_id\": \"\",\n        \"billing_price_estimate\": {\n            \"current\": 0,\n            \"tax\": 0,\n            \"tax_current\": 0,\n            \"total\": 0.0\n        },\n        \"created\": \"2021-03-30T05:44:50.921959Z\",\n        \"customer\": \"https://puhuri-core-beta.neic.no/api/customers/29f29e6b65004bff9e831dec7c953177/\",\n        \"customer_abbreviation\": \"CSC\",\n        \"customer_name\": \"IT CENTER FOR SCIENCE LTD\",\n        \"customer_native_name\": \"\",\n        \"customer_uuid\": \"29f29e6b65004bff9e831dec7c953177\",\n        \"description\": \"CSC test project 3 description\",\n        \"name\": \"CSC test project 3\",\n        \"type\": \"https://puhuri-core-beta.neic.no/api/project-types/c588e4bc82fa4cf0b97e545e117c4c21/\",\n        \"type_name\": \"Name of project type\",\n        \"url\": \"https://puhuri-core-beta.neic.no/api/projects/03a57d26bc5c448f96ccaf6e1ce2a91d/\",\n        \"uuid\": \"03a57d26bc5c448f96ccaf6e1ce2a91d\"\n    },\n    {\n        \"backend_id\": \"\",\n        \"billing_price_estimate\": {\n            \"current\": 0,\n            \"tax\": 0,\n            \"tax_current\": 0,\n            \"total\": 0.0\n        },\n        \"created\": \"2021-03-30T05:45:07.739197Z\",\n        \"customer\": \"https://puhuri-core-beta.neic.no/api/customers/29f29e6b65004bff9e831dec7c953177/\",\n        \"customer_abbreviation\": \"CSC\",\n        \"customer_name\": \"IT CENTER FOR SCIENCE LTD\",\n        \"customer_native_name\": \"\",\n        \"customer_uuid\": \"29f29e6b65004bff9e831dec7c953177\",\n        \"description\": \"CSC test project 4 description\",\n        \"name\": \"CSC test project 4\",\n        \"type\": \"https://puhuri-core-beta.neic.no/api/project-types/c588e4bc82fa4cf0b97e545e117c4c21/\",\n        \"type_name\": \"Name of project type\",\n        \"url\": \"https://puhuri-core-beta.neic.no/api/projects/ed75f213306740588854ea3e973c7fb5/\",\n        \"uuid\": \"ed75f213306740588854ea3e973c7fb5\"\n    }\n]\n</code></pre>"},{"location":"API%20guide/resource-allocation-management/","title":"Resource allocation management","text":""},{"location":"API%20guide/resource-allocation-management/#getting-a-list-of-offerings","title":"Getting a list of offerings","text":"<p>User can fetch offerings and filter them by the following fields:</p> <ul> <li><code>name</code> - offering's name</li> <li><code>name_exact</code> - offering's exact name</li> <li><code>customer</code> - organization's URL</li> <li><code>customer_uuid</code> - organization's UUID</li> <li><code>allowed_customer_uuid</code> - allowed organization's UUID</li> <li><code>service_manager_uuid</code> - service manager's UUID</li> <li><code>attributes</code> - a set of attributes (key-value pairs) identifying the allocation. Check below for LUMI specific attributes.</li> <li><code>state</code> - offering's state (<code>Active</code>, <code>Draft</code>, <code>Paused</code>, <code>Archived</code>), should be <code>Active</code></li> <li><code>category_uuid</code> - category's UUID</li> <li><code>billable</code> - signalizing if an offering is billable or not, should be <code>true</code></li> <li><code>shared</code> - signalizing if an offering is public or not, should be <code>true</code></li> <li><code>type</code> - offering's type</li> </ul> <pre><code>$ http --pretty=format -v https://puhuri-core-beta.neic.no/api/marketplace-public-offerings/ Authorization:\"Token 787de6b7c581ab6d9d42fe9ec12ac9f1811c5811\" state==Active shared==true\nGET /api/marketplace-public-offerings/?state=Active&amp;shared=true HTTP/1.1\nAccept: */*\nAccept-Encoding: gzip, deflate\nAuthorization: Token 787de6b7c581ab6d9d42fe9ec12ac9f1811c5811\nConnection: keep-alive\nHost: puhuri-core-beta.neic.no\nUser-Agent: HTTPie/2.4.0\n\n\n\nHTTP/1.1 200 OK\nAccess-Control-Allow-Credentials: true\nAccess-Control-Allow-Headers: Accept, Accept-Encoding, Authorization, Content-Type, Origin, User-Agent, X-CSRFToken, X-Requested-With\nAccess-Control-Allow-Methods: DELETE, GET, OPTIONS, PATCH, POST, PUT\nAccess-Control-Allow-Origin: *\nAccess-Control-Expose-Headers: Link, X-Result-Count\nAllow: GET, POST, HEAD, OPTIONS\nContent-Language: en\nContent-Length: 4779\nContent-Security-Policy: report-uri csp.hpc.ut.ee; form-action 'self';\nContent-Type: application/json\nDate: Fri, 09 Apr 2021 12:49:06 GMT\nLink: &lt;https://puhuri-core-beta.neic.no/api/marketplace-public-offerings/?shared=true&amp;state=Active&gt;; rel=\"first\", &lt;https://puhuri-core-beta.neic.no/api/marketplace-public-offerings/?shared=true&amp;state=Active&gt;; rel=\"last\"\nReferrer-Policy: no-referrer-when-downgrade\nStrict-Transport-Security: max-age=31536000; preload\nVary: Accept-Language, Cookie\nX-Content-Type-Options: nosniff\nX-Frame-Options: SAMEORIGIN\nX-Result-Count: 1\nX-XSS-Protection: 1; mode=block\n\n[\n    {\n        \"attributes\": {},\n        \"backend_id\": \"\",\n        \"billable\": true,\n        \"category\": \"https://puhuri-core-beta.neic.no/api/marketplace-categories/5b61d0811cfe4ed6a004119795a4c532/\",\n        \"category_title\": \"HPC\",\n        \"category_uuid\": \"5b61d0811cfe4ed6a004119795a4c532\",\n        \"citation_count\": -1,\n        \"components\": [\n            {\n                \"article_code\": \"\",\n                \"billing_type\": \"usage\",\n                \"default_limit\": null,\n                \"description\": \"\",\n                \"disable_quotas\": false,\n                \"factor\": null,\n                \"is_boolean\": false,\n                \"limit_amount\": null,\n                \"limit_period\": null,\n                \"max_value\": null,\n                \"measured_unit\": \"CPU kH\",\n                \"min_value\": null,\n                \"name\": \"CPU allocation\",\n                \"type\": \"cpu_k_hours\",\n                \"use_limit_for_billing\": false\n            },\n            {\n                \"article_code\": \"\",\n                \"billing_type\": \"usage\",\n                \"default_limit\": null,\n                \"description\": \"\",\n                \"disable_quotas\": false,\n                \"factor\": null,\n                \"is_boolean\": false,\n                \"limit_amount\": null,\n                \"limit_period\": null,\n                \"max_value\": null,\n                \"measured_unit\": \"CPU kH\",\n                \"min_value\": null,\n                \"name\": \"GPU allocation\",\n                \"type\": \"gpu_k_hours\",\n                \"use_limit_for_billing\": false\n            },\n            {\n                \"article_code\": \"\",\n                \"billing_type\": \"usage\",\n                \"default_limit\": null,\n                \"description\": \"\",\n                \"disable_quotas\": false,\n                \"factor\": null,\n                \"is_boolean\": false,\n                \"limit_amount\": null,\n                \"limit_period\": null,\n                \"max_value\": null,\n                \"measured_unit\": \"GB kH\",\n                \"min_value\": null,\n                \"name\": \"Storage allocation\",\n                \"type\": \"gb_k_hours\",\n                \"use_limit_for_billing\": false\n            }\n        ],\n        \"created\": \"2021-03-09T10:27:47.170024Z\",\n        \"customer\": \"https://puhuri-core-beta.neic.no/api/customers/d42a18b6b8ba4c2bb0591b3ff8fb181d/\",\n        \"customer_name\": \"Danish e-Infrastructure Cooperation\",\n        \"customer_uuid\": \"d42a18b6b8ba4c2bb0591b3ff8fb181d\",\n        \"datacite_doi\": \"\",\n        \"description\": \"LUMI share of Denmark\",\n        \"files\": [],\n        \"full_description\": \"&lt;h2&gt;Overview&lt;/h2&gt;One of the most powerful supercomputers in the world, LUMI, will start its operations in CSC\u2019s data center in Kajaani, Finland, next year. The peak performance of LUMI is an astonishing 552 petaflop/s. To date, the world\u2019s fastest computer, Fugaku in Japan, reaches peak performance of 513 petaflop/s. When LUMI\u2019s operations start next year, it will be one of the world\u2019s fastest supercomputers\",\n        \"google_calendar_is_public\": null,\n        \"latitude\": 64.2310486,\n        \"longitude\": 27.7040942,\n        \"name\": \"LUMI Denmark\",\n        \"native_description\": \"\",\n        \"native_name\": \"\",\n        \"options\": {},\n        \"order_count\": 1.0,\n        \"paused_reason\": \"\",\n        \"plans\": [\n            {\n                \"archived\": false,\n                \"article_code\": \"\",\n                \"description\": \"Default plan for all LUMI\",\n                \"init_price\": 0,\n                \"is_active\": true,\n                \"max_amount\": null,\n                \"name\": \"LUMI Common\",\n                \"prices\": {\n                    \"cpu_k_hours\": 0.1,\n                    \"gb_k_hours\": 0.001,\n                    \"gpu_k_hours\": 0.5\n                },\n                \"quotas\": {\n                    \"cpu_k_hours\": 0,\n                    \"gb_k_hours\": 0,\n                    \"gpu_k_hours\": 0\n                },\n                \"switch_price\": 0,\n                \"unit\": \"month\",\n                \"unit_price\": \"0.0000000\",\n                \"url\": \"https://puhuri-core-beta.neic.no/api/marketplace-public-plans/c0fb33c79e9b48f69fcb6da26db5a28b/\",\n                \"uuid\": \"c0fb33c79e9b48f69fcb6da26db5a28b\"\n            }\n        ],\n        \"plugin_options\": {\n            \"auto_approve_in_service_provider_projects\": true\n        },\n        \"quotas\": null,\n        \"rating\": 5,\n        \"scope\": null,\n        \"screenshots\": [],\n        \"secret_options\": {},\n        \"shared\": true,\n        \"state\": \"Active\",\n        \"terms_of_service\": \"\",\n        \"thumbnail\": null,\n        \"type\": \"Marketplace.Basic\",\n        \"url\": \"https://puhuri-core-beta.neic.no/api/marketplace-provider-offerings/073a0ddd6eba4ff4a90b943ae3e1b7c9/\",\n        \"uuid\": \"073a0ddd6eba4ff4a90b943ae3e1b7c9\",\n        \"vendor_details\": \"\"\n    }\n]\n</code></pre>"},{"location":"API%20guide/resource-allocation-management/#creation-of-a-resource-allocation","title":"Creation of a resource allocation","text":"<p>User can create an order providing requested allocation parameters.</p> <ul> <li><code>project</code> - project's UUID</li> <li><code>offering</code> - respectful offering's URL</li> <li><code>attributes</code> - specific attributes for the offering</li> <li><code>plan</code> - plan's URL (if offering is billable)</li> <li><code>limits</code> - a set of resource limits for an allocation</li> </ul> <pre><code>$ http --pretty=format -v POST https://puhuri-core-beta.neic.no/api/marketplace-orders/ Authorization:\"Token 32e7682378fa394b0f8b2538c444b60129ebfb47\" &lt;&lt;&lt; '{\n    \"project\": \"https://puhuri-core-beta.neic.no/api/projects/4475ac77fa3a491aacb3fb3a6dfadadf/\",\n    \"offering\": \"https://puhuri-core-beta.neic.no/api/marketplace-public-offerings/073a0ddd6eba4ff4a90b943ae3e1b7c9/\",\n    \"attributes\": {\n        \"name\": \"Resource allocation1\",\n        \"used_ai_tech\": [\n            \"Deep Learning\",\n            \"Machine Learning\"\n        ],\n        \"is_industry\": true,\n        \"is_commercial\": false,\n        \"is_training\": false\n    },\n    \"plan\": \"https://puhuri-core-beta.neic.no/api/marketplace-public-plans/c0fb33c79e9b48f69fcb6da26db5a28b/\",\n    \"limits\": {\n        \"gb_k_hours\": 1,\n        \"gpu_k_hours\": 2,\n        \"cpu_k_hours\": 3\n    }\n}'\n\nPOST /api/marketplace-orders/ HTTP/1.1\nAccept: application/json, */*;q=0.5\nAccept-Encoding: gzip, deflate\nAuthorization: Token 32e7682378fa394b0f8b2538c444b60129ebfb47\nConnection: keep-alive\nContent-Length: 730\nContent-Type: application/json\nHost: puhuri-core-beta.neic.no\nUser-Agent: HTTPie/2.4.0\n\n{\n    \"attributes\": {\n        \"name\": \"Resource allocation1\",\n        \"used_ai_tech\": [\n            \"Deep Learning\",\n            \"Machine Learning\"\n        ],\n        \"is_industry\": true,\n        \"is_commercial\": false,\n        \"is_training\": false\n    },\n    \"limits\": {\n        \"cpu_k_hours\": 3,\n        \"gb_k_hours\": 1,\n        \"gpu_k_hours\": 2\n    },\n    \"offering\": \"https://puhuri-core-beta.neic.no/api/marketplace-public-offerings/073a0ddd6eba4ff4a90b943ae3e1b7c9/\",\n    \"plan\": \"https://puhuri-core-beta.neic.no/api/marketplace-public-plans/c0fb33c79e9b48f69fcb6da26db5a28b/\",\n    \"project\": \"https://puhuri-core-beta.neic.no/api/projects/4475ac77fa3a491aacb3fb3a6dfadadf/\",\n}\n\nHTTP/1.1 201 Created\nAccess-Control-Allow-Credentials: true\nAccess-Control-Allow-Headers: Accept, Accept-Encoding, Authorization, Content-Type, Origin, User-Agent, X-CSRFToken, X-Requested-With\nAccess-Control-Allow-Methods: DELETE, GET, OPTIONS, PATCH, POST, PUT\nAccess-Control-Allow-Origin: *\nAccess-Control-Expose-Headers: Link, X-Result-Count\nAllow: GET, POST, HEAD, OPTIONS\nContent-Language: en\nContent-Length: 2114\nContent-Security-Policy: report-uri csp.hpc.ut.ee; form-action 'self';\nContent-Type: application/json\nDate: Wed, 21 Apr 2021 16:03:08 GMT\nLocation: https://puhuri-core-beta.neic.no/api/marketplace-orders/d4ba1c23c3de47d6b0ad61bbfbaeed05/\nReferrer-Policy: no-referrer-when-downgrade\nStrict-Transport-Security: max-age=31536000; preload\nVary: Accept-Language, Cookie\nX-Content-Type-Options: nosniff\nX-Frame-Options: SAMEORIGIN\nX-XSS-Protection: 1; mode=block\n\n{\n    \"approved_at\": \"2021-04-21T16:03:08.430238Z\",\n    \"approved_by\": \"https://puhuri-core-beta.neic.no/api/users/3f2cadfbb2b145fd8cf18d549dcd7329/\",\n    \"approved_by_full_name\": \"Demo Staff\",\n    \"approved_by_username\": \"admin\",\n    \"created\": \"2021-04-21T16:03:08.389589Z\",\n    \"created_by\": \"https://puhuri-core-beta.neic.no/api/users/3f2cadfbb2b145fd8cf18d549dcd7329/\",\n    \"created_by_full_name\": \"Demo Staff\",\n    \"created_by_username\": \"admin\",\n    \"customer_uuid\": \"d42a18b6b8ba4c2bb0591b3ff8fb181d\",\n    \"attributes\": {\n        \"name\": \"Resource allocation1\",\n        \"used_ai_tech\": [\n            \"Deep Learning\",\n            \"Machine Learning\"\n        ],\n        \"is_industry\": true,\n        \"is_commercial\": false,\n        \"is_training\": false\n    },\n    \"category_title\": \"HPC\",\n    \"category_uuid\": \"5b61d0811cfe4ed6a004119795a4c532\",\n    \"cost\": \"1.3010000000\",\n    \"created\": \"2021-04-21T16:03:08.402139Z\",\n    \"error_message\": \"\",\n    \"error_traceback\": \"\",\n    \"limits\": {\n        \"cpu_k_hours\": 3,\n        \"gb_k_hours\": 1,\n        \"gpu_k_hours\": 2\n    },\n    \"modified\": \"2021-04-21T16:03:08.402139Z\",\n    \"offering\": \"https://puhuri-core-beta.neic.no/api/marketplace-public-offerings/073a0ddd6eba4ff4a90b943ae3e1b7c9/\",\n    \"offering_billable\": true,\n    \"offering_description\": \"LUMI share of Denmark\",\n    \"offering_name\": \"LUMI Denmark\",\n    \"offering_shared\": true,\n    \"offering_terms_of_service\": \"\",\n    \"offering_thumbnail\": null,\n    \"offering_type\": \"Marketplace.Basic\",\n    \"offering_uuid\": \"073a0ddd6eba4ff4a90b943ae3e1b7c9\",\n    \"output\": \"\",\n    \"plan\": \"https://puhuri-core-beta.neic.no/api/marketplace-public-plans/c0fb33c79e9b48f69fcb6da26db5a28b/\",\n    \"plan_description\": \"Default plan for all LUMI\",\n    \"plan_name\": \"LUMI Common\",\n    \"plan_unit\": \"month\",\n    \"plan_uuid\": \"c0fb33c79e9b48f69fcb6da26db5a28b\",\n    \"provider_name\": \"Danish e-Infrastructure Cooperation\",\n    \"provider_uuid\": \"d42a18b6b8ba4c2bb0591b3ff8fb181d\",\n    \"state\": \"pending-provider\",\n    \"type\": \"Create\",\n    \"uuid\": \"f980c6ae5dc746c5bf5bbf1e31ff7d7e\"\n    \"project\": \"https://puhuri-core-beta.neic.no/api/projects/4475ac77fa3a491aacb3fb3a6dfadadf/\",\n    \"project_uuid\": \"4475ac77fa3a491aacb3fb3a6dfadadf\",\n    \"total_cost\": \"1.3010000000\",\n    \"url\": \"https://puhuri-core-beta.neic.no/api/marketplace-orders/d4ba1c23c3de47d6b0ad61bbfbaeed05/\",\n    \"uuid\": \"d4ba1c23c3de47d6b0ad61bbfbaeed05\"\n}\n</code></pre> <p>If a token belongs to a staff user, the order can be approved automatically. Otherwise, there is additional need for manual approval.</p> <p>After that, order should be pulled until resource UUID is present (<code>marketplace_resource_uuid</code> field).</p> <pre><code>$ http --pretty=format -v https://puhuri-core-beta.neic.no/api/marketplace-orders/f980c6ae5dc746c5bf5bbf1e31ff7d7e/ Authorization:\"Token 32e7682378fa394b0f8b2538c444b60129ebfb47\"\nGET /api/marketplace-orders/f980c6ae5dc746c5bf5bbf1e31ff7d7e/ HTTP/1.1\nAccept: */*\nAccept-Encoding: gzip, deflate\nAuthorization: Token 32e7682378fa394b0f8b2538c444b60129ebfb47\nConnection: keep-alive\nHost: puhuri-core-beta.neic.no\nUser-Agent: HTTPie/2.4.0\n\n\n\nHTTP/1.1 200 OK\nAccess-Control-Allow-Credentials: true\nAccess-Control-Allow-Headers: Accept, Accept-Encoding, Authorization, Content-Type, Origin, User-Agent, X-CSRFToken, X-Requested-With\nAccess-Control-Allow-Methods: DELETE, GET, OPTIONS, PATCH, POST, PUT\nAccess-Control-Allow-Origin: *\nAccess-Control-Expose-Headers: Link, X-Result-Count\nAllow: GET, PUT, PATCH, DELETE, HEAD, OPTIONS\nContent-Language: en\nContent-Length: 1948\nContent-Security-Policy: report-uri csp.hpc.ut.ee; form-action 'self';\nContent-Type: application/json\nDate: Wed, 21 Apr 2021 16:04:53 GMT\nReferrer-Policy: no-referrer-when-downgrade\nStrict-Transport-Security: max-age=31536000; preload\nVary: Accept-Language, Cookie\nX-Content-Type-Options: nosniff\nX-Frame-Options: SAMEORIGIN\nX-XSS-Protection: 1; mode=block\n\n{\n    \"activation_price\": 0,\n    \"attributes\": {\n        \"name\": \"Resource allocation1\",\n        \"used_ai_tech\": [\n            \"Deep Learning\",\n            \"Machine Learning\"\n        ],\n        \"is_industry\": true,\n        \"is_commercial\": false,\n        \"is_training\": false\n    },\n    \"can_terminate\": false,\n    \"category_title\": \"HPC\",\n    \"category_uuid\": \"5b61d0811cfe4ed6a004119795a4c532\",\n    \"cost\": \"1.3010000000\",\n    \"created\": \"2021-04-21T16:03:08.402139Z\",\n    \"created_by_civil_number\": null,\n    \"created_by_full_name\": \"Demo Staff\",\n    \"customer_name\": \"Danish e-Infrastructure Cooperation\",\n    \"customer_uuid\": \"d42a18b6b8ba4c2bb0591b3ff8fb181d\",\n    \"error_message\": \"\",\n    \"error_traceback\": \"\",\n    \"fixed_price\": 0,\n    \"issue\": null,\n    \"limits\": {\n        \"cpu_k_hours\": 3,\n        \"gb_k_hours\": 1,\n        \"gpu_k_hours\": 2\n    },\n    \"marketplace_resource_uuid\": \"7b0dc0323ce94ebda8670d76a40ebe99\",\n    \"modified\": \"2021-04-21T16:03:08.542428Z\",\n    \"new_cost_estimate\": 1.301,\n    \"new_plan_name\": \"LUMI Common\",\n    \"new_plan_uuid\": \"c0fb33c79e9b48f69fcb6da26db5a28b\",\n    \"offering\": \"https://puhuri-core-beta.neic.no/api/marketplace-public-offerings/073a0ddd6eba4ff4a90b943ae3e1b7c9/\",\n    \"offering_billable\": true,\n    \"offering_description\": \"LUMI share of Denmark\",\n    \"offering_name\": \"LUMI Denmark\",\n    \"offering_shared\": true,\n    \"offering_terms_of_service\": \"\",\n    \"offering_thumbnail\": null,\n    \"offering_type\": \"Marketplace.Basic\",\n    \"offering_uuid\": \"073a0ddd6eba4ff4a90b943ae3e1b7c9\",\n    \"old_cost_estimate\": 1.301,\n    \"order_approved_at\": \"2021-04-21T16:03:08.430238Z\",\n    \"order_approved_by\": \"Demo Staff\",\n    \"output\": \"\",\n    \"plan\": \"https://puhuri-core-beta.neic.no/api/marketplace-public-plans/c0fb33c79e9b48f69fcb6da26db5a28b/\",\n    \"plan_description\": \"Default plan for all LUMI\",\n    \"plan_name\": \"LUMI Common\",\n    \"plan_unit\": \"month\",\n    \"plan_uuid\": \"c0fb33c79e9b48f69fcb6da26db5a28b\",\n    \"project_name\": \"New project name\",\n    \"project_uuid\": \"4475ac77fa3a491aacb3fb3a6dfadadf\",\n    \"provider_name\": \"Danish e-Infrastructure Cooperation\",\n    \"provider_uuid\": \"d42a18b6b8ba4c2bb0591b3ff8fb181d\",\n    \"resource_name\": \"Resource allocation1\",\n    \"resource_type\": null,\n    \"resource_uuid\": null,\n    \"state\": \"done\",\n    \"type\": \"Create\",\n    \"uuid\": \"f980c6ae5dc746c5bf5bbf1e31ff7d7e\"\n}\n</code></pre>"},{"location":"API%20guide/resource-allocation-management/#order-approval-and-rejection","title":"Order approval and rejection","text":"<p>In order to approve order by consumer, you shall issue POST request against <code>/api/marketplace-orders/{UUID}/approve_by_consumer/</code> endpoint. Similarly in order to approve order by provider, you shall issue POST request against <code>/api/marketplace-orders/{UUID}/approve_by_provider/</code> endpoint. Otherwise, you shall issue POST request against <code>/api/marketplace-orders/{UUID}/reject_by_consumer/</code> or <code>/api/marketplace-orders/{UUID}/reject_by_provider/</code> endpoint.</p> <p>Of course, these endpoints are available only if you have service provider or service consumer permission against corresponding offerings.</p>"},{"location":"API%20guide/resource-allocation-management/#modification-of-a-resource-allocation","title":"Modification of a resource allocation","text":"<pre><code>$ http --pretty=format -v PUT https://puhuri-core-beta.neic.no/api/marketplace-resources/b97e82d0fc2445d493cf5659a3085608/ Authorization:\"Token 787de6b7c581ab6d9d42fe9ec12ac9f1811c5811\" name=\"New resource name\" description=\"New resource description\"\nPUT /api/marketplace-resources/b97e82d0fc2445d493cf5659a3085608/ HTTP/1.1\nAccept: application/json, */*;q=0.5\nAccept-Encoding: gzip, deflate\nAuthorization: Token 787de6b7c581ab6d9d42fe9ec12ac9f1811c5811\nConnection: keep-alive\nContent-Length: 72\nContent-Type: application/json\nHost: puhuri-core-beta.neic.no\nUser-Agent: HTTPie/2.4.0\n\n{\n    \"description\": \"New resource description\",\n    \"name\": \"New resource name\"\n}\n\nHTTP/1.1 200 OK\nAccess-Control-Allow-Credentials: true\nAccess-Control-Allow-Headers: Accept, Accept-Encoding, Authorization, Content-Type, Origin, User-Agent, X-CSRFToken, X-Requested-With\nAccess-Control-Allow-Methods: DELETE, GET, OPTIONS, PATCH, POST, PUT\nAccess-Control-Allow-Origin: *\nAccess-Control-Expose-Headers: Link, X-Result-Count\nAllow: GET, PUT, PATCH, DELETE, HEAD, OPTIONS\nContent-Language: en\nContent-Length: 69\nContent-Security-Policy: report-uri csp.hpc.ut.ee; form-action 'self';\nContent-Type: application/json\nDate: Fri, 09 Apr 2021 15:21:23 GMT\nReferrer-Policy: no-referrer-when-downgrade\nStrict-Transport-Security: max-age=31536000; preload\nVary: Accept-Language, Cookie\nX-Content-Type-Options: nosniff\nX-Frame-Options: SAMEORIGIN\nX-XSS-Protection: 1; mode=block\n\n{\n    \"description\": \"New resource description\",\n    \"name\": \"New resource name\"\n}\n</code></pre>"},{"location":"API%20guide/resource-allocation-management/#modification-of-resource-allocation-options","title":"Modification of resource allocation options","text":"<p>As an RA, you can update options of an allocations. Update happens through a special endpoint on a resource. Check below for LUMI specific attributes.</p> <pre><code>http -v POST https://puhuri-core-beta.neic.no/api/marketplace-resources/b97e82d0fc2445d493cf5659a3085608/update_options/ Authorization:\"Token 787de6b7c581ab6d9d42fe9ec12ac9f1811c5811\" &lt;&lt;&lt; '{\n    \"options\": {\n        \"used_ai_tech\": [\n            \"Deep Learning\",\n            \"Machine Learning\"\n        ],\n        \"is_training\": false\n    }\n}'\nPOST /api/marketplace-resources/53cb5c0a34cc41f5ad36b74c760e39f6/update_options/ HTTP/1.1\nAccept: application/json, */*;q=0.5\nAccept-Encoding: gzip, deflate\nAuthorization: Token 787de6b7c581ab6d9d42fe9ec12ac9f1811c5811\nConnection: keep-alive\nContent-Length: 153\nContent-Type: application/json\nHost: puhuri-portal-demo.neic.no\nUser-Agent: HTTPie/3.2.2\n\n{\n    \"options\": {\n        \"is_training\": false,\n        \"used_ai_tech\": [\n            \"Deep Learning\",\n            \"Machine Learning\"\n        ]\n    }\n}\n\n\nHTTP/1.1 200 OK\naccess-control-allow-credentials: true\naccess-control-allow-headers: Accept, Accept-Encoding, Authorization, Content-Type, Origin, User-Agent, X-CSRFToken, X-Requested-With, X-Impersonated-User-Uuid, sentry-trace, baggage\naccess-control-allow-methods: DELETE, GET, OPTIONS, PATCH, POST, PUT\naccess-control-allow-origin: *\naccess-control-expose-headers: Link, X-Result-Count\nallow: POST, OPTIONS\ncontent-language: en\ncontent-length: 43\ncontent-security-policy: report-uri https://csp.hpc.ut.ee/log; form-action 'self'; frame-ancestors 'self';\ncontent-type: application/json\ndate: Tue, 27 Aug 2024 09:18:29 GMT\nreferrer-policy: strict-origin-when-cross-origin\nstrict-transport-security: max-age=31536000; preload\nvary: Accept-Language, Cookie\nx-content-type-options: nosniff\nx-frame-options: DENY\nx-rate-limit-limit: 500\nx-rate-limit-remaining: 488\nx-xss-protection: 1; mode=block\n\n{\n    \"status\": \"Resource options are submitted\"\n}\n</code></pre>"},{"location":"API%20guide/resource-allocation-management/#termination-of-a-resource-allocation","title":"Termination of a resource allocation","text":"<p>Termination uses a special short-cut action <code>/terminate</code> and returns UUID of a generated order.</p> <pre><code>$ http -v POST https://puhuri-core-beta.neic.no/api/marketplace-resources/8887243fa8d0458c970eeb6be28ff4f7/terminate/ Authorization:\"Token 32e7682378fa394b0f8b2538c444b60129ebfb47\"\nPOST /api/marketplace-resources/8887243fa8d0458c970eeb6be28ff4f7/terminate/ HTTP/1.1\nAccept: */*\nAccept-Encoding: gzip, deflate\nAuthorization: Token 32e7682378fa394b0f8b2538c444b60129ebfb47\nConnection: keep-alive\nContent-Length: 0\nHost: puhuri-core-beta.neic.no\nUser-Agent: HTTPie/2.4.0\n\n\n\nHTTP/1.1 200 OK\nAccess-Control-Allow-Credentials: true\nAccess-Control-Allow-Headers: Accept, Accept-Encoding, Authorization, Content-Type, Origin, User-Agent, X-CSRFToken, X-Requested-With\nAccess-Control-Allow-Methods: DELETE, GET, OPTIONS, PATCH, POST, PUT\nAccess-Control-Allow-Origin: *\nAccess-Control-Expose-Headers: Link, X-Result-Count\nAllow: POST, OPTIONS\nContent-Language: en\nContent-Length: 49\nContent-Security-Policy: report-uri csp.hpc.ut.ee; form-action 'self';\nContent-Type: application/json\nDate: Wed, 14 Apr 2021 22:28:07 GMT\nReferrer-Policy: no-referrer-when-downgrade\nStrict-Transport-Security: max-age=31536000; preload\nVary: Accept-Language, Cookie\nX-Content-Type-Options: nosniff\nX-Frame-Options: SAMEORIGIN\nX-XSS-Protection: 1; mode=block\n\n{\n    \"order_uuid\": \"7c73504611d741749b3a3a538979e74a\"\n}\n</code></pre>"},{"location":"API%20guide/resource-allocation-management/#lumi-resource-options","title":"LUMI Resource Options","text":"<p>LUMI has agreed on the following schema for the resource options. The attributes can be passed during creation of the resource or by updating existing resources.</p> <ol> <li><code>is_industry</code>, possible values: true/false; true if the PI or a member of a project is from a company;</li> <li><code>is_training</code>, possible values: true/false; true if aimed at training of the users;</li> <li><code>used_ai_tech</code>, (AI methods used in the calculations), choices:<ul> <li>\"Audio (speech recognition/speech synthesis/etc)\",</li> <li>\"Decision management: Classified and statistical learning methods\",</li> <li>\"Deep Learning\",</li> <li>\"Generative Language Modeling\",</li> <li>\"Machine Learning\",</li> <li>\"Natural Language Processing\",</li> <li>\"Other\",</li> <li>\"Robotic process automation\",</li> <li>\"Virtual agents\",</li> <li>\"Vision (image recognition/image generation/text recognition OCR/etc)\"</li> </ul> </li> <li><code>is_commercial</code>, possible values: true/false; true if aimed at commercial usage (commercial projects are pay-per-use industrial projects).</li> </ol>"},{"location":"SDK%20guide/allocation-management-sp/","title":"Allocation Lifecycle Management by Service Provider","text":"<p>This page describes operations to be performed by service provider.</p>"},{"location":"SDK%20guide/allocation-management-sp/#prerequisites","title":"Prerequisites","text":"<p>Please, read initial setup for Puhuri Core SDK and please reach out to support email to get credentials for Puhuri Core.</p>"},{"location":"SDK%20guide/allocation-management-sp/#getting-a-list-of-users","title":"Getting a list of users","text":"<p><code>list_users</code> method is used to fetch all users in Puhuri Core.</p> <pre><code>result = client.list_users()\n\n# result =&gt;[\n# {'affiliations': [],\n#   'agreement_date': None,\n#   'civil_number': None,\n#   'competence': '',\n#   'customer_permissions': [],\n#   'date_joined': '2021-06-23T07:59:59.511681Z',\n#   'description': '',\n#   'email': 'arto.tuomi@csc.fi',\n#   'first_name': 'PUHURI',\n#   'full_name': 'PUHURI Test User 100',\n#   'is_active': True,\n#   'is_staff': False,\n#   'is_support': False,\n#   'job_title': '',\n#   'last_name': 'Test User 100',\n#   'native_name': '',\n#   'organization': '',\n#   'phone_number': '',\n#   'preferred_language': '',\n#   'project_permissions': [{'customer_name': 'IT CENTER FOR SCIENCE LTD',\n#                            'pk': 9,\n#                            'project_name': 'Project from CSC',\n#                            'project_uuid': 'c3be1c35f36448068cb57e278b788318',\n#                            'role': 'manager',\n#                            'url': 'https://puhuri-core-beta.neic.no/api/project-permissions/9/'}],\n#   'registration_method': 'eduteams',\n#   'requested_email': None,\n#   'url': 'https://puhuri-core-beta.neic.no/api/users/f8347a45f2f4409ea6be2034edc5e91b/',\n#   'username': '01cfb7d6b76d400d12b8c8e0e33e36c5ef4562c1@acc.researcher-access.org',\n#   'uuid': 'f8347a45f2f4409ea6be2034edc5e91b'}]\n</code></pre>"},{"location":"SDK%20guide/allocation-management-sp/#getting-a-list-of-ssh-keys","title":"Getting a list of SSH keys","text":"<p><code>list_ssh_keys</code> method is used to fetch all SSH keys in Puhuri Core.</p> <pre><code>result = client.list_ssh_keys()\n\n# result =&gt;\n[{'fingerprint': '...',\n  'is_shared': False,\n  'name': 'new key',\n  'public_key': '... '\n                '...'\n                '...',\n  'type': 'ssh-ed25519',\n  'url': '...',\n  'user_uuid': '31165878c7a04a4197f282924c1a2418',\n  'uuid': '8ae5c9bdbafd44c78250bc98c9783fad'},\n</code></pre>"},{"location":"SDK%20guide/allocation-management-sp/#getting-a-list-of-resource-allocations","title":"Getting a list of resource allocations","text":"<p><code>list_marketplace_resources</code> method is used to fetch resources related to offerings, which belong to user's service provider.</p> <p>Possible filter options for allocations (each one is optional):</p> <ul> <li><code>provider_uuid</code> - UUID of a service provider organization;</li> <li><code>state</code> - current state of a resource allocation; valid values: <code>Creating</code>, <code>OK</code>, <code>Erred</code>, <code>Updating</code>, <code>Terminating</code>, <code>Terminated</code>;</li> <li><code>offering_uuid</code> - UUID of a related resource;</li> <li><code>fields</code> - list of fields to return.</li> </ul> <pre><code>result = client.list_marketplace_resources(\n    provider_uuid='&lt;provider-uuid&gt;',\n    state='Creating',\n    offering_uuid='&lt;offering-uuid&gt;',\n    fields=['name', 'offering', 'state', 'limits', 'plan', 'project', 'url']\n)\n\n# result =&gt; {\n#   'limits': {'cpu_k_hours': 1000, 'gb_k_hours': 3000, 'gpu_k_hours': 1000},\n#   'name': 'Sample resource',\n#   'offering': 'https://puhuri-core-beta.neic.no/api/marketplace-provider-offerings/cf4eb9c29fc74af4ade667fcb53633d5/',\n#   'plan': 'https://puhuri-core-beta.neic.no/api/marketplace-public-plans/1537de6e94f9427cafb74cb63fa21c72/',\n#   'project': 'https://puhuri-core-beta.neic.no/api/projects/8a158ebf1abf4c74a431b9c65a0d7829/',\n#   'state': 'Creating',\n#   'url': 'https://puhuri-core-beta.neic.no/api/marketplace-resources/a1916bd53fd04b1ab1a4e700c926607b/'\n# }\n</code></pre>"},{"location":"SDK%20guide/allocation-management-sp/#approvingrejecting-allocation-order-by-service-provider","title":"Approving/rejecting allocation order by service provider","text":"<p>The service provider can either approve or reject order using <code>marketplace_order_approve_by_provider</code> and <code>marketplace_order_reject_by_provider</code> correspondingly. Both of these methods expect as its only argument UUID of an order for the allocation.</p> <p>For example, a consumer requested an allocation using <code>Order</code> with <code>CREATE</code> type. After that, an empty allocation with <code>CREATING</code> state has appeared. A service provider can change the state to <code>ok</code> (created successfully) using <code>marketplace_order_approve_by_provider</code> or <code>rejected</code> (creation rejected) using <code>marketplace_order_reject_by_provider</code>. In order to get a proper order, SP owner can use <code>list_orders</code> method. This action is for order listing and supports filtering by state and allocation.</p> <pre><code>orders = client.list_orders(\n    {\n        'state': 'executing',\n        'resource_uuid': '&lt;allocation-uuid&gt;'\n    }\n)\n\norder = orders[0]\n\nclient.marketplace_order_approve_by_provider(order['uuid'])\n</code></pre>"},{"location":"SDK%20guide/allocation-management-sp/#cancellation-of-orders-for-allocations","title":"Cancellation of orders for allocations","text":"<p>A consumer can also cancel created order and subsequently interrupt the requested operation over allocation. For example, this option is suitable if the customer wants to cancel allocation deletion. For this, <code>marketplace_order_cancel</code> method should be used. It changes the state of the order to <code>canceled</code>. NB: this transition is possible only if the order's state is equal to <code>pending-consumer</code> or <code>pending-provider</code> and offering type is basic or support.</p> <pre><code>orders = client.list_orders(\n    {\n        'state': 'executing',\n        'resource_uuid': '&lt;allocation-uuid&gt;',\n        'type': 'Terminate',\n    }\n)\n\norder = orders[0]\n\nresult = client.marketplace_order_cancel(order['uuid'])\n\n# result =&gt; {\n#   'details': 'order termination has been scheduled.'\n#}\n</code></pre>"},{"location":"SDK%20guide/allocation-management-sp/#updating-resource-allocation-with-local-reference-setting-backend_id-field","title":"Updating resource allocation with local reference (setting <code>backend_id</code> field)","text":"<p>Each allocation can have a link to a service provider's internal reference using <code>backend_id</code> field. Only users with service provider owner and manager roles can set this value using <code>marketplace_resource_set_backend_id</code> method of the client. It requires the following arguments:</p> <ul> <li><code>resource_uuid</code> - UUID of a resource allocation;</li> <li><code>backend_id</code> - id of an external entity.</li> </ul> <pre><code>result = client.marketplace_resource_set_backend_id(\n    resource_uuid='&lt;resource-uuid&gt;',\n    backend_id='&lt;some-backend-id&gt;'\n)\n\n# result =&gt; {\n#   'status': 'Resource backend_id has been changed.'\n# }\n</code></pre> <p>In case if SDK usage is not possible, HTTP request can be sent:</p> <pre><code>POST &lt;API-URL&gt;/marketplace-resources/&lt;resource-uuid&gt;/\n\n{\n    \"backend_id\": \"&lt;some-backend-id&gt;\"\n}\n\n&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n\n{\n    \"status\": \"Resource backend_id has been changed.\"\n}\n</code></pre>"},{"location":"SDK%20guide/allocation-management-sp/#providing-additional-access-detail-for-resource-allocation","title":"Providing additional access detail for resource allocation","text":"<p>For additional details related to allocation access, <code>report</code> field is used. In order to provide this information, owners and managers can use <code>marketplace_resource_submit_report</code> method. It requires the following arguments:</p> <ul> <li><code>resource_uuid</code> - UUID of a resource allocation;</li> <li><code>report</code> - list of <code>ResourceReportRecord</code> instances.</li> </ul> <pre><code>from waldur_client import WaldurClient, ResourceReportRecord\n\nresult = client.marketplace_resource_submit_report(\n    resource_uuid='&lt;resource-uuid&gt;',\n    report=[\n        ResourceReportRecord(header='Header1', body='Body1'),\n        ResourceReportRecord(header='Header2', body='Body2')\n    ]\n)\n\n# result =&gt; {\n#   'status': 'Report is submitted'\n# }\n</code></pre>"},{"location":"SDK%20guide/allocation-management-sp/#getting-a-list-of-members-in-a-project-with-active-resource-allocations","title":"Getting a list of members in a project with active resource allocations","text":"<p>Service provider owners and managers can list project members using a resource allocation with <code>marketplace_resource_get_team</code> method. It requires the following arguments:</p> <ul> <li><code>resource_uuid</code> - UUID of a resource allocation.</li> </ul> <pre><code>result = client.marketplace_resource_get_team(\n    resource_uuid='&lt;resource-uuid&gt;'\n)\n\n# result =&gt; {\n# [\n#  {'email': 'CSC_api_user@example.com',\n#   'expiration_time': None,\n#   'full_name': 'Integration user (CSC)',\n#   'permission': 'https://puhuri-core-beta.neic.no/api/project-permissions/10/',\n#   'role': 'admin',\n#   'url': 'https://puhuri-core-beta.neic.no/api/users/bb235c67dcb44470a45d4e0f94e0ed00/',\n#   'username': 'CSC_api_user',\n#   'uuid': 'bb235c67dcb44470a45d4e0f94e0ed00'},\n#  {'email': 'ETAIS_api_user@example.com',\n#   'expiration_time': None,\n#   'full_name': 'Integration user (ETAIS)',\n#   'permission': 'https://puhuri-core-beta.neic.no/api/project-permissions/3/',\n#   'role': 'member',\n#   'url': 'https://puhuri-core-beta.neic.no/api/users/0cc72de4ebb840d98fef133e4433ec9a/',\n#   'username': 'ETAIS_api_user',\n#   'uuid': '0cc72de4ebb840d98fef133e4433ec9a'}]\n# }\n</code></pre>"},{"location":"SDK%20guide/allocation-management-sp/#reporting-usage-for-a-resource-allocation","title":"Reporting usage for a resource allocation","text":"<p>A usage of a resource allocation can be submitted by a corresponding service provider. For this, the following methods are used:</p> <ul> <li> <p><code>get_marketplace_offering</code> - getting offering with components info. Arguments:</p> <ul> <li><code>offering_uuid</code> - UUID of an offering</li> </ul> </li> <li> <p><code>marketplace_resource_get_plan_periods</code> - getting current plan periods for resource allocation. Arguments:</p> <ul> <li><code>resource_uuid</code> - UUID of a resource</li> </ul> </li> <li> <p><code>create_component_usages</code> - creating or updating components usage for the current plan. Arguments:</p> <ul> <li><code>usages</code> - list of <code>ComponentUsage</code> instances</li> <li><code>resource</code> - UUID of a resource</li> </ul> </li> </ul> <pre><code>from waldur_client import ComponentUsage\n\noffering = client.get_marketplace_offering(offering_uuid='&lt;offering-uuid&gt;')\ncomponent_types = [component['type'] for component in offering['components']]\ncomponent_usages = [ComponentUsage(type=comp_type, amount=10, description='Usage') for comp_type in component_types]\n\nclient.create_component_usages(\n    usages=component_usages,\n    resource='&lt;resource-uuid&gt;',\n)\n\nresult = client.marketplace_resource_get_plan_periods('&lt;resource-uuid&gt;')\n\n# result =&gt; {\n# [{'components': [{'created': '2021-08-11T15:36:45.562440Z',\n#                   'date': '2021-08-11T15:37:30.556830Z',\n#                   'description': 'Usage',\n#                   'measured_unit': 'units',\n#                   'name': 'CPU',\n#                   'type': 'cpu',\n#                   'usage': 10,\n#                   'uuid': '080066bebf9547d5ad3279f7c353b023'},\n#                  {'created': '2021-08-11T15:36:45.842385Z',\n#                   'date': '2021-08-11T15:37:30.556830Z',\n#                   'description': 'Usage',\n#                   'measured_unit': 'units',\n#                   'name': 'GPU',\n#                   'type': 'gpu',\n#                   'usage': 10,\n#                   'uuid': 'e8d745049bff4410b60f517e56daf421'}],\n#   'end': None,\n#   'plan_name': 'sample-plan',\n#   'plan_uuid': '9f7b1d113f464214bb195db38c217cf9',\n#   'start': '2021-08-11T15:20:25.762775Z',\n#   'uuid': 'fb36ce56e53b43e59b3d963354d0467c'}]\n# }\n</code></pre>"},{"location":"SDK%20guide/allocation-management-sp/#granting-user-access-to-resource","title":"Granting user access to resource","text":"<p>An access to a resource can be granted by service provider for a particular user with specification of username. A result is represented by triplet [user, resource, username]. For this purpose, <code>create_remote_offering_user</code> should be invoked. This method requires the following arguments:</p> <ul> <li><code>offering</code> - UUID or URL of a target offering;</li> <li><code>user</code> - UUID or URL of a target user;</li> <li><code>username</code> - username for the user.</li> </ul> <pre><code>result = client.create_remote_offering_user(\n    offering='&lt;offering-uuid-or-url&gt;',\n    user='&lt;user-uuid-or-url&gt;',\n    username='&lt;username&gt;'\n)\n\n# result =&gt; {\n#  'created': '2021-08-12T15:22:18.993586Z',\n#  'offering': 'http://localhost:8000/api/marketplace-provider-offerings/d47ca5bce71144579df29da3c290027e/',\n#  'offering_name': 'Remote offering (really)',\n#  'offering_uuid': 'd47ca5bce71144579df29da3c290027e',\n#  'user': 'http://localhost:8000/api/users/db157a5cf7f247eba161cd90eba9ac63/',\n#  'user_uuid': 'db157a5cf7f247eba161cd90eba9ac63',\n#  'username': 'abc'\n# }\n</code></pre> <p>In case if SDK usage is not possible, HTTP request can be sent:</p> <pre><code>POST &lt;API-URL&gt;/marketplace-offering-users/\n\n{\n    \"offering\": \"&lt;offering-uuid-or-url&gt;\",\n    \"user\": \"&lt;user-uuid-or-url&gt;\",\n    \"username\": \"&lt;username&gt;\"\n}\n\n&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n\n{\n    \"created\": \"2021-08-12T15:22:18.993586Z\",\n    \"offering\": \"http://localhost:8000/api/marketplace-provider-offerings/d47ca5bce71144579df29da3c290027e/\",\n    \"offering_name\": \"Remote offering (really)\",\n    \"offering_uuid\": \"d47ca5bce71144579df29da3c290027e\",\n    \"user\": \"http://localhost:8000/api/users/db157a5cf7f247eba161cd90eba9ac63/\",\n    \"user_uuid\": \"db157a5cf7f247eba161cd90eba9ac63\",\n    \"username\": \"abc\"\n}\n</code></pre>"},{"location":"SDK%20guide/allocation-management-sp/#granting-user-access-to-corresponding-resources-in-batch-manner","title":"Granting user access to corresponding resources in batch manner","text":"<p>A service provider can grant access mentioned in the previous section to all resources used in projects including a target user. For such access creation or update, <code>set_offerings_username</code> is used. The method requires the following arguments:</p> <ul> <li>service_provider_uuid - UUID of a target service provider;</li> <li>user_uuid - UUID of a target user;</li> <li>username - the new username.</li> </ul> <pre><code>result = client.set_offerings_username(\n    service_provider_uuid='&lt;service-provider-uuid&gt;',\n    user_uuid='&lt;user-uuid&gt;',\n    username='&lt;username&gt;',\n)\n\n# result =&gt;  {\n#  'detail': 'Offering users have been set.'\n# }\n</code></pre>"},{"location":"SDK%20guide/allocation-management-sp/#getting-service-provider-for-an-organization","title":"Getting service provider for an organization","text":"<p>A user can get service provider details using <code>list_service_providers</code> with corresponding filter. This method is guaranteed to return a list with at most one service provider record.</p> <pre><code>service_providers = client.list_service_providers({'customer_uuid': '&lt;organization_uuid&gt;'})\nlumi_service_provider = service_providers[0]\n\n# lumi_service_provider =&gt; {\n#     'created': '2021-09-24T13:42:05.448269Z',\n#     'customer': 'https://puhuri-core-beta.neic.no/api/customers/ad3fec96141a41e2958a9836a5bc1dae/',\n#     'customer_abbreviation': 'LUMI',\n#     'customer_country': 'FI',\n#     'customer_image': None,\n#     'customer_name': 'Large Unified Modern Infrastructure',\n#     'customer_native_name': '',\n#     'customer_uuid': 'ad3fec96141a41e2958a9836a5bc1dae',\n#     'description': '',\n#     'division': None,\n#     'enable_notifications': False,\n#     'image': None,\n#     'url': 'https://puhuri-core-beta.neic.no/api/marketplace-service-providers/08904a1c2e704f208e5146bef93e3220/',\n#     'uuid': '08904a1c2e704f208e5146bef93e3220'\n# }\n</code></pre>"},{"location":"SDK%20guide/allocation-management-sp/#listing-users-of-service-providers-resources","title":"Listing users of service provider's resources","text":"<p>A service provider owner can list users currently using its resources. For this, <code>list_service_provider_users</code> should be used. It accepts service_provider_uuid, which can be fetched using list_service_providers.</p> <pre><code>service_providers = client.list_service_providers({'customer_uuid': '&lt;customer_uuid&gt;'})\nservice_provider = service_providers[0]\nservice_provider_uuid = service_provider['uuid']\n\nresult = client.list_service_provider_users(service_provider_uuid)\n\n# result =&gt; [\n#   ...\n#   {\n#       ...\n#       'first_name': 'John',\n#       'full_name': 'John Doe',\n#       'is_active': True,\n#       'is_staff': False,\n#       'is_support': False,\n#       'job_title': '...',\n#       'last_name': 'Doe',\n#       ...\n#   }\n#   ...\n# ]\n</code></pre>"},{"location":"SDK%20guide/allocation-management-sp/#listing-ssh-key-for-users-of-service-providers-resources","title":"Listing ssh key for users of service provider's resources","text":"<p>A service provider owner can list ssh keys of users currently using its resources. For this, <code>list_service_provider_ssh_keys</code> should be used. It accepts service_provider_uuid, which can be fetched using list_service_providers.</p> <pre><code>service_providers = client.list_service_providers({'customer_uuid': '&lt;customer_uuid&gt;'})\nservice_provider = service_providers[0]\nservice_provider_uuid = service_provider['uuid']\n\nresult = client.list_service_provider_ssh_keys(service_provider_uuid)\n\n# result =&gt; [\n#   ...\n#   {\n#        'fingerprint': '...',\n#        'is_shared': False,\n#        'name': 'key',\n#        'public_key': 'ssh-rsa ...',\n#        'type': 'ssh-rsa',\n#        'url': '&lt;key_url&gt;',\n#        'user_uuid': '&lt;user_uuid&gt;',\n#        'uuid': '&lt;key_uuid&gt;'\n#   }\n#   ...\n# ]\n</code></pre>"},{"location":"SDK%20guide/allocation-management-sp/#listing-projects-with-service-providers-resources","title":"Listing projects with service provider's resources","text":"<p>A service provider owner can list all projects, which have its resources. For this, <code>list_service_provider_projects</code> should be used. It accepts service_provider_uuid, which can be fetched using list_service_providers.</p> <pre><code>service_providers = client.list_service_providers({'customer_uuid': '&lt;customer_uuid&gt;'})\nservice_provider = service_providers[0]\nservice_provider_uuid = service_provider['uuid']\n\nresult = client.list_service_provider_projects(service_provider_uuid)\n\n# result =&gt; [\n#   ...\n#   {\n#       'backend_id': '',\n#       'billing_price_estimate': {...},\n#       'created': '...',\n#       'customer': '&lt;customer_url&gt;',\n#       'customer_abbreviation': '&lt;customer_abbreviation&gt;',\n#       'customer_name': '&lt;customer_name&gt;',\n#       'customer_native_name': '&lt;customer_native_name&gt;',\n#       'customer_uuid': '&lt;customer_uuid&gt;',\n#       'description': '&lt;customer_description&gt;',\n#       'end_date': '...',\n#       'name': '&lt;project_name&gt;',\n#       'oecd_fos_2007_code': '&lt;oecd_fos_2007_code&gt;',\n#       'type': '&lt;project_type&gt;',\n#       'url': '&lt;project_url&gt;',\n#       'uuid': '&lt;project_uuid&gt;'\n#   }\n#   ...\n# ]\n</code></pre>"},{"location":"SDK%20guide/allocation-management-sp/#listing-project-permissions-in-projects-using-service-providers-resources","title":"Listing project permissions in projects using service provider's resources","text":"<p>A service provider owner can also list all active projects permissions in projects, which have its resources. For this, <code>list_service_provider_project_permissions</code> should be used. It accepts service_provider_uuid, which can be fetched using list_service_providers.</p> <pre><code>service_providers = client.list_service_providers({'customer_uuid': '&lt;customer_uuid&gt;'})\nservice_provider = service_providers[0]\nservice_provider_uuid = service_provider['uuid']\n\nresult = client.list_service_provider_project_permissions(service_provider_uuid)\n\n# result =&gt; [\n#   ...\n#   {\n#       'created': '...',\n#       'created_by': '...',\n#       'customer_name': '&lt;customer_name&gt;',\n#       'expiration_time': '...',\n#       'pk': ...,\n#       'project': '&lt;project_url&gt;',\n#       'project_name': '&lt;project_name&gt;',\n#       'project_uuid': '&lt;project_uuid&gt;',\n#       'role': '...',\n#       'url': '&lt;permission_url&gt;',\n#       'user': '&lt;user_url&gt;',\n#       'user_email': '&lt;user_email&gt;',\n#       'user_full_name': 'John Doe',\n#       'user_native_name': 'John Doe',\n#       'user_username': 'john-doe',\n#       'user_uuid': '&lt;user_uuid&gt;'\n#   }\n#   ...\n# ]\n</code></pre>"},{"location":"SDK%20guide/initial-setup/","title":"Initial setup","text":""},{"location":"SDK%20guide/initial-setup/#installation","title":"Installation","text":"<p>Puhuri Core is based on Waldur, which exposes REST API. Puhuri Core SDK is a python wrapper for typical REST operations.</p> <p>It is packaged as a Python module and published in PyPI, so you can install it with standard tools like:</p> <pre><code>pip install git+https://github.com/waldur/python-waldur-client.git@master\n</code></pre> <p>In order to perform operations, a user needs to create an instance of <code>WaldurClient</code> class:</p> <pre><code>from waldur_client import WaldurClient\n\nclient = WaldurClient('&lt;api-url&gt;', '&lt;api-token&gt;')\n</code></pre> <p>This instance provides interface for further interaction with Puhuri Core and will be used across examples in related documentation.</p>"},{"location":"SDK%20guide/initial-setup/#error-handling","title":"Error handling","text":"<p>If the client fails to perform an operation, it raises <code>WaldurClientException</code>. This can be handles using <code>try...except</code> block. Example:</p> <pre><code>from waldur_client import WaldurClient, WaldurClientException\nimport pprint\n\nclient = WaldurClient('https://abc.example.com/api', 'some-token')\n\ntry:\n    client.list_marketplace_resources()\nexcept WaldurClientException as e:\n    pprint.pprint(e)\n\n# WaldurClientException(\"HTTPSConnectionPool(host='abc.example.com', port=443):\n# Max retries exceeded with url: /api/marketplace-resources/?page_size=200\n# (Caused by NewConnectionError('&lt;urllib3.connection.VerifiedHTTPSConnection object at 0x110636430&gt;:\n# Failed to establish a new connection: [Errno 8] nodename nor servname provided, or not known'))\")\n</code></pre>"},{"location":"SDK%20guide/order-api-changes/","title":"Order api changes","text":""},{"location":"SDK%20guide/order-api-changes/#breaking-change-in-order-api","title":"Breaking change in Order API","text":"<p>In December 2023 a change affecting order management API will be released. The exact date will be announced once integrations with service providers are validated.</p>"},{"location":"SDK%20guide/order-api-changes/#changes","title":"Changes","text":"<ul> <li>OrderItem API is removed. </li> <li>Order is not a container of OrderItems any more, and has received new states, which now look like this:<ul> <li>PENDING_CONSUMER</li> <li>PENDING_PROVIDER</li> <li>EXECUTING</li> <li>DONE</li> <li>ERRED</li> <li>CANCELED</li> <li>REJECTED</li> </ul> </li> </ul>"},{"location":"SDK%20guide/order-api-changes/#migration","title":"Migration","text":"<ul> <li>If you are using python-waldur-client, make sure you upgrade to 0.2.9+.<ul> <li>New functions introduced: <code>marketplace_order_approve_by_provider</code>, <code>marketplace_order_reject_by_provider</code> </li> <li>Removed deprecated functions: <code>list_order_items</code></li> </ul> </li> <li>If you integrate directly with APIs and use Order API:<ul> <li>Order approval from consumer side has been made explicit:<ul> <li><code>/marketplace-orders/order_uuid/approve_by_consumer/</code></li> <li><code>/marketplace-orders/order_uuid/reject_by_provider/</code></li> </ul> </li> </ul> </li> </ul>"},{"location":"documents/statistics_pp/","title":"Privacy Policy of the Puhuri statistics webpage","text":"<p>This privacy policy applies between you, the User of Puhuri statistics webpage on https://puhuri-stats.neic.no, hereinafter Website) and the University of Tartu, the owner and provider of this Website. This privacy policy applies to our use of any Data collected by us or provided by you in relation to your use of the Website. Please read this privacy policy carefully.</p> <p>We process personal data only if there is a legal basis for it and only as long as necessary to achieve the objective of processing or to comply with legal obligations. The processor applies all relevant organizational, physical and technical security measures to protect the personal data that are at the university\u2019s disposal from unauthorized and non-compliant use, disclosure or damage.</p> <ol> <li> <p>Definitions and interpretation</p> <ol> <li> <p>In this privacy policy, the following definitions are used:</p> <ol> <li>Data - collectively any information that we will collect and you submit to the University of Tartu via the Website. This definition incorporates, where applicable, the definitions provided in General Data Protection Regulation (GDPR);</li> <li>Cookies - a small text file placed on your computer by this Website when you visit certain parts of the Website and/or when you use certain features of the Website. Details of the cookies used by this Website are set out in the clause below (Cookies);</li> <li>the University of Tartu, we or us -  the University of Tartu,  \u00dclikooli 18, 50090 Tartu, Estonia;</li> <li>UK and EU Cookie Law - the Privacy and Electronic Communications (EC Directive) Regulations 2003 as amended by the Privacy and Electronic Communications (EC Directive) (Amendment) Regulations 2011;</li> <li>User or you - any third party that accesses the Website and is not either (i) employed by  the University of Tartu and acting in the course of their employment or (ii) engaged as a consultant or otherwise providing services to the University of Tartu and accessing the Website in connection with the provision of such services; </li> <li>Website - Puhuri statistics webpage (https://puhuri-stats.neic.no) and any sub-domains of this site unless expressly excluded by their own privacy policy.</li> <li>LUMI Consortium - LUMI is one of the EuroHPC pre-exascale supercomputers, which is hosted by the LUMI consortium. Consortium provides a high-quality, cost-efficient and environmentally sustainable HPC ecosystem based on true European collaboration.</li> </ol> </li> <li> <p>In this privacy policy, unless the context requires a different interpretation:</p> <ol> <li>the singular includes the plural and vice versa;</li> <li>references to sub-clauses, clauses, schedules or appendices are to sub-clauses, clauses, schedules or appendices of this privacy policy;</li> <li>a reference to a person includes firms, companies, government entities, trusts and partnerships;</li> <li>\"including\" is understood to mean \"including without limitation\";</li> <li>reference to any statutory provision includes any modification or amendment of it.</li> </ol> </li> </ol> </li> <li> <p>Scope of this privacy policy</p> <ol> <li>This privacy policy describes how we collect, use, share and retain your Data during and after your engagement or relationship with us.</li> <li>We are committed to ensuring that any Data we receive is protected and handled in accordance with applicable data protection laws.</li> <li>This privacy policy applies only to the actions of the University of Tartu and Users with respect to this Website. It does not extend to any websites that can be accessed from this Website including, but not limited to, any links we may provide to social media websites.</li> </ol> </li> <li> <p>Data collected</p> <ol> <li>We may collect the following Data, which includes personal Data, from you or your Home Organisation via MyAccessID:<ol> <li>Name and surname;</li> <li>Contact Information such as email addresses;</li> <li>Unique user identifier (MyAccessID CUID);</li> <li>IP address (automatically collected);</li> <li>Web browser type and version (automatically collected);</li> <li>Operating system (automatically collected);</li> <li>in each case, in accordance with this privacy policy.</li> </ol> </li> </ol> </li> <li> <p>Data sharing</p> <ol> <li>We do not sell, trade, or otherwise transfer to third parties your Data, unless we have prior written consent from you or we are required to do so under applicable law.</li> <li>This does not include LUMI Consortium who helps us provide you with the services.</li> </ol> </li> <li> <p>Links to other websites</p> <ol> <li>The data protection policy does not deal with the way the processor processes data of legal persons or how other persons process personal data. Nor does the policy cover the processing of personal data on external websites to which there are links on the portal\u2019s web pages.</li> </ol> </li> <li> <p>Changes in business ownership and control</p> <ol> <li>The University of Tartu may, from time to time, expand or reduce our business and this may involve the sale and/or the transfer of control of all or part of the University of Tartu. Data provided by Users will, where it is relevant to any part of our business so transferred, be transferred along with that part and the new owner or newly controlling party will, under the terms of this privacy policy, be permitted to use the Data for the purposes for which it was originally supplied to us.</li> <li>In the above instances, we will take steps with the aim of ensuring your privacy is protected and this privacy policy will be updated accordingly to reflect those changes.</li> </ol> </li> <li> <p>Your Rights</p> <ol> <li>You may not transfer any of your rights under this privacy policy to any other person. </li> <li>You have the right to receive a confirmation on whether or not we are processing your Personal Data.</li> <li>You have the right to withdraw your consent at any time if the personal Data is processed on the basis of data subject\u2019s consent. This does not affect the lawfulness of Data processing that occurred before the consent was withdrawn.</li> <li>You have the right to ask for a copy of any of your personal Data held by the University of Tartu (where such Data is held). The first copy is free of charge, the following copies may incur a small fee, which will not exceed 20 EUR.</li> <li>You have the right to request the erasure of your Data and if the processing of your Data is based on your consent, the right to withdraw your consent. If you request the erasure of your Data or withdraw your consent, we will delete the Data unless there are other legal grounds for the processing or unless we have a statutory obligation to store the Data. In any case, we will delete your Data after the retention period has ended.</li> <li>If you find out that the way we are processing your Data is against the law, you have the right to submit a claim to the national Data Protection Authority (DPA).</li> </ol> </li> <li> <p>Security</p> <ol> <li>Data security is of great importance to the University of Tartu and to protect your Data we have put in place suitable physical, electronic and managerial procedures to safeguard and secure Data collected via this Website.</li> <li>If password access is required for certain parts of the Website, you are responsible for keeping this password confidential.</li> <li>We endeavor to do our best to protect your Personal Data. However, the transmission of information over the internet is not entirely secure and is done at your own risk. We cannot ensure the security of your Data transmitted to the Website.</li> </ol> </li> <li> <p>Cookies</p> <ol> <li>You may restrict your internet browser's use of Cookies.</li> <li>This Website may place and access certain Cookies on your computer. The University of Tartu uses Cookies to improve your experience of using the Website and to improve our range of services. The University of Tartu has carefully chosen these Cookies and has taken steps to ensure that your privacy is protected and respected at all times.</li> <li>All Cookies used by this Website are used in accordance with current UK and EU Cookie Law.</li> <li>Before the Website places Cookies on your computer, you will be presented with a message bar requesting your consent to set those Cookies. By giving your consent to the placing of Cookies, you are enabling the University of Tartu to provide a better experience and service to you. You may, if you wish, deny consent to the placing of Cookies; however certain features of the Website may not function fully or as intended.</li> <li>This Website may place the following Cookies:<ol> <li>Strictly necessary cookies - These are cookies that are required for the operation of our Website. They include, for example, cookies that enable you to log into secure areas of our Website, use a shopping cart or make use of e-billing services.</li> <li>Analytical/performance cookies - They allow us to recognize and count the number of visitors and to see how visitors move around our Website when they are using it. This helps us to improve the way our Website works, for example, by ensuring that users are finding what they are looking for easily.</li> <li>Functionality cookies - These are used to recognize you when you return to our Website. This enables us to personalize our content for you, greet you by name and remember your preferences (for example, your choice of language or region).</li> </ol> </li> <li>You can choose to enable or disable Cookies in your internet browser. By default, most internet browsers accept Cookies but this can be changed. For further details, please consult the help menu in your internet browser.</li> <li>You can choose to delete Cookies at any time; however, you may lose any information that enables you to access the Website more quickly and efficiently including, but not limited to, personalization settings.</li> <li>It is recommended that you ensure that your internet browser is up-to-date and that you consult the help and guidance provided by the developer of your internet browser if you are unsure about adjusting your privacy settings.</li> </ol> </li> <li> <p>Data Protection Regulation</p> <ol> <li>Your personal data will be protected and processed according to European GDPR regulation 2016/679.</li> <li>Your personal data will be protected according to the Code of Conduct for Service Providers, a common standard for the research and higher education sector to protect your privacy.</li> </ol> </li> <li> <p>Changes to this privacy policy</p> <ol> <li>The University of Tartu reserves the right to change this privacy policy as we may deem necessary from time to time or as may be required by law. The most recent version of the privacy policy is posted on the Website and you are deemed to have accepted the terms of the privacy policy on your first use of the Website following the alterations.</li> <li>We encourage you to review this privacy policy often to stay informed of changes that may affect you.</li> </ol> </li> <li> <p>Contacting Us</p> <ul> <li>If you have any questions regarding this privacy policy or you would like to receive any stored Data we have about you, please contact us by email at support@puhuri.io.</li> </ul> </li> </ol>"},{"location":"documents/statistics_tos/","title":"Terms of Use of the Puhuri statistics webpage","text":"<p>The University of Tartu reserves the right to change, add or remove portions of these Terms of Use, at any time. It is your responsibility to check these Terms of Use periodically for changes. The most recent version of the Terms of Use is posted on this website and you are deemed to have accepted the Terms of Use on your first use of the https://puhuri-stats.neic.no following the alterations.</p> <ol> <li> <p>Definitions and interpretation</p> <ol> <li> <p>In this Terms of Use, the following definitions are used:</p> <ol> <li>The University of Tartu, we or us or service - the University of Tartu, \u00dclikooli 18, 50090 Tartu, Estonia;</li> <li>https://puhuri-stats.neic.no \u2013 our webpage through which we offer our Service;</li> <li>Service \u2013 any or all of the services we offer and which the User can use through https://puhuri-stats.neic.no.</li> <li>User or you - any third party that accesses the https://puhuri-stats.neic.no and is not either (i) employed by the University of Tartu and acting in the course of their employment or (ii) engaged as a consultant or otherwise providing services to the University of Tartu and accessing the https://puhuri-stats.neic.no in connection with the provision of such services.</li> </ol> </li> <li> <p>In this Terms of Use, unless the context requires a different interpretation:</p> <ol> <li>the singular includes the plural and vice versa;</li> <li>references to sub-clauses, clauses, schedules or appendices are to sub-clauses, clauses, schedules or appendices of this Terms of Use;</li> <li>a reference to a person includes firms, companies, government entities, trusts and partnerships;</li> <li>\"including\" is understood to mean \"including without limitation\";</li> <li>reference to any statutory provision includes any modification or amendment of it.</li> </ol> </li> </ol> </li> <li> <p>Who can use Services?     The main purpose of the Service is to provide statistics of the used computational resources, which are allocated using Puhuri, to the national resource allocators.</p> </li> <li> <p>How to use Services?     To gain access to the Service you have to register yourself by creating an account in https://puhuri-stats.neic.no. For that, you must identify yourself with the MyAccessID (Access Management Service provided by GEANT) authentication system.     Private organizations who cannot identify themselves with MyAccessID please contact us at support@puhuri.io</p> </li> <li> <p>Service providers\u2019 rights and responsibilities</p> <ol> <li>Users\u2019 personal data will be processed in accordance with the Privacy Policy.</li> <li>The service provider can restrict or suspend Users access to Services, for administrative, operational, or security reasons, without prior notice and without compensation.</li> <li>The service provider can restrict access of Users who have violated the Terms of Use.</li> <li>The service provider provides users with user guides (published on the website) and additional guidance (by email, phone, in-person) when needed.</li> </ol> </li> <li> <p>Users\u2019 rights and responsibilities</p> <ol> <li>Users must follow the Terms of Use, read and accept the Privacy Policy and follow all legal acts of Estonia and EU without exception when using Services.</li> <li>Users shall show consideration towards other users including by not causing harm to the Services.</li> <li>Users have an obligation to collaborate in the resolution of issues arising from your use of the Services.</li> <li>Users shall only use the Services for lawful purposes and not breach, attempt to breach, nor circumvent administrative or security controls.</li> <li>Users must keep their login data private (e.g. passwords, private keys). Sharing of login credentials is strictly forbidden and also accessing Services with someone else's login credentials is strictly forbidden.</li> <li>Users shall keep their registered information correct and up to date.</li> <li>Users shall promptly report known or suspected security breaches, credential compromises and report any compromised credentials to the University of Tartu staff.</li> <li>Users may not probe, scan or test the vulnerability of the Services.</li> <li>Users may not reverse look-up, trace or seek to trace any information on any other Users of the Services.</li> <li>Users are accountable for their actions and the consequences of those actions. Violations of Terms of Use, Privacy Policy, procedure, and security rules may result in applicable administrative sanctions or legal actions.</li> </ol> </li> </ol>"},{"location":"idp_integration/","title":"Integrating Identity Providers with Puhuri AAI","text":""},{"location":"idp_integration/#overview","title":"Overview","text":"<p>Puhuri AAI uses MyAccessID platform as an integration point for all IdPs. MyAccessID is published in eduGAIN as a Service Provider and will consume IdPs available in eduGAIN through the metadata exchange mechanism. MyAccessID can on request integrate IdPs in the case they are not available in eduGAIN.</p> <p></p>"},{"location":"idp_integration/#integration-of-idps","title":"Integration of IdPs","text":"<p>Depending on whether IdP is available in eduGAIN, following possibilities exist:</p> <ul> <li> <p>IdPs that are available in eduGAIN will be automatically integrated. Please refer to   Requirements for IdPs integrated through eduGAIN for further   specification on requirements. You can check if your IdP is registered at   https://release-check.edugain.org/.</p> </li> <li> <p>IdPs that are not available in eduGAIN will be integrated on a request basis. National   LUMI integration contacts should get in touch with Puhuri to request integration and exchange   the integration end points. Please refer to Requirements for directly integrated IdPs   for further specification on requirements.</p> </li> </ul>"},{"location":"idp_integration/#questions","title":"Questions?","text":"<p>Contact email for additional information: support@puhuri.io</p>"},{"location":"idp_integration/#technical-details","title":"Technical details","text":"<ul> <li>Puhuri AAI - Production Environment</li> <li>Puhuri AAI - Acceptance Environment</li> <li>MyAccessID AAI - Production Environment</li> <li>MyAccessID AAI - Acceptance Environment</li> <li>GEANT Support</li> <li>Profile management at MyAccessID - Production Environment</li> <li>Profile management at MyAccessID - Acceptance Environment</li> <li>Demo SP for attribute release check</li> <li>Registration of a new client in Production</li> <li>Registration of a new client in Acceptance</li> </ul>"},{"location":"idp_integration/#puhuri-core-specifics","title":"Puhuri CORE specifics","text":"<ul> <li>A miniscript for getting refresh token. Replace client_id / client_secret with actual values.</li> </ul>"},{"location":"idp_integration/attributes/","title":"Attributes","text":"<p>Depending on which protocol the IdP is using, SAML or OIDC, attributes need to be released in the following format, respectively. </p>"},{"location":"idp_integration/attributes/#saml-attribute-names","title":"SAML Attribute Names","text":"<p>SAML Attributes MUST be sent using urn:oasis:namesSAML:2.0:attrname-format:uri NameFormat. Below is the list of the canonical names of the SAML attributes:</p> <ul> <li>Subject ID<ul> <li>SAML attribute: urn:oasis:namesSAML:attribute:subject-id</li> </ul> </li> <li>Pairwise ID<ul> <li>SAML attribute: urn:oasis:namesSAML:attribute:pairwise-id</li> </ul> </li> <li>Community Identifier<ul> <li>SAML attribute: urn:oid:1.3.6.1.4.1.25178.4.1.6 (voPersonID)</li> </ul> </li> <li>Email<ul> <li>SAML attribute: urn:oid:0.9.2342.19200300.100.1.3 (email)</li> </ul> </li> <li>Common Name<ul> <li>SAML attribute: urn:oid:2.5.4.3</li> </ul> </li> <li>Display Name<ul> <li>SAML attribute:  urn:oid:2.16.840.1.113730.3.1.241 (displayName)</li> </ul> </li> <li>Given Name<ul> <li>SAML attribute: urn:oid:2.5.4.42 (givenName)</li> </ul> </li> <li>Family Name<ul> <li>SAML attribute: urn:oid:2.5.4.4 (surname)</li> </ul> </li> <li>Affiliation<ul> <li>SAML attribute: urn:oid:1.3.6.1.4.1.5923.1.1.1.9 (eduPersonScopedAffiliation)</li> <li>SAML attribute: urn:oid:1.3.6.1.4.1.25178.4.1.11 (voPersonExternalAffiliation)</li> </ul> </li> <li>Home Organization<ul> <li>SAML attribute: urn:oid:1.3.6.1.4.1.25178.1.2.9 (schacHomeOrganization)</li> </ul> </li> <li>Assurance<ul> <li>SAML attribute: urn:oid:1.3.6.1.4.1.5923.1.1.1.11 (eduPersonAssurance)</li> <li>Assurance attribute will become mandatory (date TBD).</li> <li>The following letter was sent to the federations:   Assurance letter</li> </ul> </li> </ul>"},{"location":"idp_integration/attributes/#oidc-claim-names","title":"OIDC Claim Names","text":"<ul> <li>Subject ID<ul> <li>OIDC claim: subject-id</li> </ul> </li> <li>Community Identifier<ul> <li>OIDC claim: voperson_id</li> </ul> </li> <li>Email<ul> <li>OIDC claim: email</li> </ul> </li> <li>Display Name<ul> <li>OIDC claim: name</li> </ul> </li> <li>Given Name<ul> <li>OIDC claim: given_name</li> </ul> </li> <li>Family Name<ul> <li>OIDC claim: family_name</li> </ul> </li> <li>Affiliation<ul> <li>OIDC claim: eduperson_scoped_affiliation</li> <li>OIDC claim: voperson_external_affiliation</li> </ul> </li> <li>Home Organization<ul> <li>OIDC claim: schac_home_organization</li> </ul> </li> <li>Assurance<ul> <li>OIDC claim: eduperson_assurance</li> <li>Assurance attribute will become mandatory (date TBD).</li> <li>The following letter was sent to the federations:   Assurance letter</li> </ul> </li> </ul>"},{"location":"idp_integration/requirements-direct/","title":"Requirements for IdPs integrated directly","text":"<p>If the IdP is connected to one of the R&amp;E Federations but is not published in eduGAIN, then please advise the IdP operator to request their IdP to be published to the eduGAIN metadata.</p> <p>IdPs that are not connected to an R&amp;E federation, need to be in one of the eligible categories in order to be integrated on MyAccessID:</p> <ul> <li>Recognised community platforms that require access to resources using MyAccessID;</li> <li>High Performance Computing facilities which operate their Identity Management Systems.</li> </ul> <p>If the IdP you wish to integrate is not connected to an R&amp;E Federation and does not fit in any of the above categories, please contact us.</p>"},{"location":"idp_integration/requirements-direct/#supported-protocols","title":"Supported Protocols","text":"<p>The IdP MUST support one of the following protocols:</p> <ul> <li>OIDC</li> <li>SAML2</li> </ul>"},{"location":"idp_integration/requirements-direct/#attribute-release-requirements","title":"Attribute release requirements","text":"<p>IdPs must release the following attributes for users to successfully complete registration and use MyAccessID and consequently PUHURI:</p> <ul> <li>Email </li> <li>Name, that can be sent as :</li> <li>Common Name or </li> <li>Display Name or</li> <li>Given Name and Family Name</li> <li>Identifier, that can be sent as: </li> <li>subject-id or</li> <li>pairwise-id or</li> <li>persistent name-id or</li> </ul> <p>IdPs are required to release also the following attributes for users to successfully use services connected to PUHURI:</p> <ul> <li>Affiliation</li> <li>Home Organization</li> <li>Assurance  - attribute will become mandatory</li> <li>Community Identifier</li> </ul> <p>Please refer to Attribute formats for specification of accepted attribute formats.</p>"},{"location":"idp_integration/requirements-direct/#level-of-assurance-requirements","title":"Level of Assurance requirements","text":"<p>Access to services connected to PUHURI is allowed only with use of identities that fulfil certain identity assurance criteria. To express the required assurance levels, the REFEDS Assurance suite is used. </p> <p>Requirements are defined for two aspects of identity assurance: </p> <ul> <li>Identifier uniqueness to ensure unambiguous identification of users</li> <li>Identity proofing and credential issuance, renewal, and replacement to ensure that identity trustworthy represents right natural person </li> </ul> <p>Level of assurance for an identity issued to a user is expressed at the time of user authentication by the IdP sending eduPersonAssurance attribute with following values:</p> <ul> <li>https://refeds.org/assurance/ID/UNIQUE; or https://refeds.org/assurance/ID/eppn-unique-no-reassign, and</li> <li>https://refeds.org/assurance/IAP/medium or https://refeds.org/assurance/IAP/high</li> </ul>"},{"location":"idp_integration/requirements-edugain/","title":"Requirements for IdPs integrated through eduGAIN","text":"<p>In order for IdPs available in eduGAIN to be successfully integrated with MyAccessID and PUHURI, they must fulfil requirements described in this page.</p>"},{"location":"idp_integration/requirements-edugain/#supported-protocols","title":"Supported Protocols","text":"<p>IdPs from eduGAIN MUST use the SAML2 protocol. </p>"},{"location":"idp_integration/requirements-edugain/#attribute-release-requirements","title":"Attribute release requirements","text":"<p>IdPs MUST release the following attributes for user to successfully complete registration and use MyAccessID:</p> <ul> <li>Email </li> <li>Name, that can be sent as :<ul> <li>Common Name,or </li> <li>Display Name, or</li> <li>Given Name and Family Name</li> </ul> </li> <li>Identifier, that can be sent as: <ul> <li>subject-id, or</li> <li>pairwise-id, or</li> <li>persistent name-id, or</li> <li>eduPersonPrincipalName*, or</li> <li>eduPersonTargetedID</li> </ul> </li> </ul> <p>IdPs are required to release also the following attributes for users to successfully use services connected to PUHURI: </p> <ul> <li>Affiliation </li> <li>Home Organization</li> <li>Assurance - attribute will become mandatory</li> </ul> <p>Please refer to Attribute formats  for specification of accepted attribute formats. </p> <p>*Note: In the case the IdP release only eduPersonPrincipalName as the user's identifier, then the IdP MUST either publish the R&amp;S Entity Category in its metadata or release the eduPersonAssurance attribute with value of https://refeds.org/assurance/ID/eppn-unique-no-reassign or the federation in which the IdP has registered has a policy that prohibits the reassignment of the value of the eduPersonPrincipalName attribute.</p>"},{"location":"idp_integration/requirements-edugain/#level-of-assurance-requirements","title":"Level of Assurance requirements","text":"<p>Access to services connected to PUHURI is allowed only with use of identities that fulfil certain identity assurance criteria. To express the required assurance levels, the REFEDS Assurance suite is used. </p> <p>Requirements are defined for two aspects of identity assurance: </p> <ul> <li>Identifier uniqueness to ensure unambiguous identification of users;</li> <li>Identity proofing and credential issuance, renewal, and replacement to ensure that identity trustworthy represents   right natural person.</li> </ul> <p>Level of assurance for an identity issued to a user is expressed at the time of user authentication by the IdP sending eduPersonAssurance attribute with following values: </p> <ul> <li>https://refeds.org/assurance/ID/UNIQUE or https://refeds.org/assurance/ID/eppn-unique-no-reassign and</li> <li>https://refeds.org/assurance/IAP/medium or https://refeds.org/assurance/IAP/high</li> </ul>"},{"location":"idp_integration/requirements-edugain/#entity-categories","title":"Entity categories","text":"<p>IdPs are expected to support the following entity categories:</p> <ul> <li>REFEDS R&amp;S and</li> <li>GEANT CoCo </li> </ul>"},{"location":"idp_integration/use-cases/keycloak-integration/","title":"Integration with KeyCloak","text":""},{"location":"idp_integration/use-cases/keycloak-integration/#background","title":"Background","text":"<p>KeyCloak is a popular open-source identity and access management  server. It supports integration with external identity federations over SAML and OIDC protocols.</p> <p>KeyCloak can be used as a local identity proxy enriching MyAccessID identities with local information or applying local policies.</p>"},{"location":"idp_integration/use-cases/keycloak-integration/#overview","title":"Overview","text":"<ol> <li> <p>Register your KeyCloak instance with Puhuri AAI proxy as an OIDC client.</p> </li> <li> <p>Setup KeyCloak identity provider corresponding to MyAccessID.</p> </li> </ol>"},{"location":"idp_integration/use-cases/keycloak-integration/#configuration-of-keycloak","title":"Configuration of Keycloak","text":"<ol> <li> <p>Open KeyCloak realm where you want to add MyAccessID and go to Identity providers.</p> </li> <li> <p>Click add new provider and select OpenID Connect v1.0</p> </li> </ol>"},{"location":"idp_integration/use-cases/keycloak-integration/#configure-provider","title":"Configure provider","text":"<ul> <li>Alias: myaccessid (or pick a better name)</li> <li>Discovery endpoint: https://proxy.prod.puhuri.eduteams.org/.well-known/openid-configuration</li> <li>Client authentication: Client secret sent as post</li> <li>Client ID: OIDC client ID you got from registration in Puhuri AAI.</li> <li>Client Secret: OIDC client secret you got from registration in Puhuri AAI</li> </ul>"},{"location":"idp_integration/use-cases/keycloak-integration/#save-and-edit-additional-properties","title":"Save and edit additional properties:","text":"<ul> <li>Validate signatures: On</li> <li>Use JWKS URL: On</li> <li>Trust email: On</li> <li>Sync mode: Force</li> <li>Under advanced settings, add Scopes: <code>openid profile email voperson_external_affiliation voperson_id given_name</code></li> </ul>"},{"location":"idp_integration/use-cases/keycloak-integration/#got-to-mappers-tab-and-click-on-add-mapper","title":"Got to Mappers tab and click on Add mapper:","text":"<ul> <li>Name: free name, e.g. cuid</li> <li>Sync mode override: Import</li> <li>Mapper type: Username Template Importer</li> <li>Template: ${CLAIM.sub}</li> <li>Target: Local</li> </ul> <p>Save. Profit!</p>"},{"location":"idp_integration/use-cases/national-portal-integration/","title":"Integration of National Portals","text":""},{"location":"idp_integration/use-cases/national-portal-integration/#background","title":"Background","text":"<p>National portals are handling allocation of computing resources via national processes. It maintains a local database of users, their roles in the approved projects and the resource allocations of the projects. This article describes actions that a National portal operator needs to do to integrate allocation of LUMI resources via Puhuri Core.</p> <p>When the project and resource allocation of LUMI resources is approved inside the National portal, the project with one or more users and their roles within the project needs to be pushed to Puhuri Core service. When users references are shared from National portal to Puhuri Core, a common identity must be used and that identity is MyAccessID User.</p>"},{"location":"idp_integration/use-cases/national-portal-integration/#overview","title":"Overview","text":"<p>The following steps are needed to integrate your National Portal with Puhuri:</p> <ol> <li>Connect MyAccessID User Identifier with the user profile in the National Portal. This entails:</li> <li>Registration of National Portal with Puhuri AAI proxy as an OIDC client</li> <li>Implementation of user flow where National Portal UI asks user to link MyAccessID Identity (and gets the MyAccessID       User Identifier to store in your National Portal)</li> <li>Implement OIDC flow that enables sharing of MyAccessID User Identifier between MyAccessID and your National Portal</li> <li>Record the MyAccessID User Identifier within the user profile of user at your National Portal.</li> <li>Push the allocation and project membership information to Puhuri Core.</li> </ol> <p>Some of these are described in the following.</p>"},{"location":"idp_integration/use-cases/national-portal-integration/#registration-of-national-portal-with-puhuri-aai-proxy","title":"Registration of National Portal with Puhuri AAI proxy","text":"<p>The process is described at ...TODO: add link to the other doc... National Portal needs to be connected as an OIDC Client, so please use that option when you are registering National Portal at Puhuri AAI proxy. </p> <p>The client library that you use should be able to detect all the setting just by passing the issuer URL (https://webapp.prod.puhuri.eduteams.org or https://webapp.acc.puhuri.eduteams.org) and getting the information from the discovery endpoint. If this is not the case, then you can find the information directly from the discovery endpoint of the OIDC Provider:</p> <ul> <li>https://proxy.prod.puhuri.eduteams.org/.well-known/openid-configuration (for production)</li> <li>https://proxy.acc.puhuri.eduteams.org/.well-known/openid-configuration (for acceptance environment)</li> </ul>"},{"location":"idp_integration/use-cases/national-portal-integration/#implementation-of-user-flow-and-ui-that-asks-user-to-link-myaccessid-identity","title":"Implementation of user flow and UI that asks user to link MyAccessID Identity","text":"<p>In order to support the account linking at your National Portal, you will need to add a few changes to the UI. When a user becomes part of the project that uses allocations on LUMI, you will need to prompt your user to perform the MyAccessID account linking. That can be done at once if the user themselves are taking the action. In other situations, like when a Principal Investigator (PI) adds a project member on their initiative, an email may have to be sent to the user about MyAccessID linking.</p> <p>For example implementation of the UI, you can refer to the implementation at Swedish National Portal SUPR. </p> <p>...TODO: add ScreenShoots .. </p>"},{"location":"idp_integration/use-cases/national-portal-integration/#implement-oidc-flow-that-enables-sharing-of-myaccessid-user-identifier-between-myaccessid-and-your-national-portal","title":"Implement OIDC flow that enables sharing of MyAccessID User Identifier between MyAccessID and your National Portal","text":"<p>This is the OIDC technical implementation that supports the user flow discussed above.</p> <p>You will need to install and use an OIDC client/library at the National Portal. </p> <p>The <code>mod_auth_openidc</code> Apache module can be used. Otherwise, other suitable software that implements the RP part of OIDC can be used. </p> <p>We can provide an example mod_auth_openidc configuration:</p> <pre><code>OIDCProviderMetadataURL https://proxy.acc.puhuri.eduteams.org/.well-known/openid-configuration\nOIDCClientID NOT-SHOWN-HERE\nOIDCClientSecret SECRET-NOT-SHOWN-HERE\nOIDCRedirectURI https://portal.example.org/puhuri/register-redirect/\nOIDCCryptoPassphrase SECRET-NOT-SHOWN-HERE\nOIDCScope \"openid email profile eduperson_entitlement\"\n\n&lt;LocationMatch \"^/(person/register_myaccessid|puhuri/.*)/$\"&gt;\n   AuthType openid-connect\n   Require valid-user\n&lt;/LocationMatch&gt;\n</code></pre> <p>In the example above, the portal page implementing account linking (having <code>mod_auth_oidc</code> send the user to MyAccessID and getting the claims back in environment variables if successful) is at <code>/person/registermyaccessid</code>, while URLs under <code>/puhuri</code> are for use by <code>mod_auth_openidc</code> itself.</p>"},{"location":"user_guides/account_creation_removal/","title":"Account Creation and Removal","text":""},{"location":"user_guides/account_creation_removal/#account-creation","title":"Account Creation","text":"<p>To establish an account on Puhuri Portal, the Resource Allocator or Principal Investigator (PI) must extend an invitation to the project or organization. Upon receiving the invitation, users can log in and initiate the creation of their MyAccessID account following this user guideline, providing the necessary information. Subsequently, upon completing this process, users will find themselves seamlessly integrated into Puhuri Portal. Following acceptance of the terms and conditions of Puhuri Portal, the account in Puhuri Portal is automatically synchronized with MyAccessID (and with LUMI cluster if LUMI user).</p>"},{"location":"user_guides/account_creation_removal/#account-removal","title":"Account Removal","text":""},{"location":"user_guides/account_creation_removal/#remove-the-account-from-puhuri-portal","title":"Remove the account from Puhuri Portal","text":"<p>To remove the account from Puhuri Portal, follow these steps:</p> <ul> <li>Navigate to the dashboard.</li> <li>Click on \u201cManage\u201d and locate the \u201cAccount Removal\u201d button at the bottom of the page.</li> <li>Utilize this button to request the removal of your Puhuri account from our support team.</li> </ul> <p>Note</p> <p>It\u2019s important to note that while this process removes your account in Puhuri Portal, it does not impact your MyAccessID account.</p>"},{"location":"user_guides/account_creation_removal/#remove-the-account-from-myaccessid","title":"Remove the account from MyAccessID","text":"<p>To request the removal of your MyAccessID account, a separate email should be directed to the MyAccessID support team at this address: support+myaccessid@eduteams.org.</p> <p>This two-step process ensures a comprehensive account removal procedure while maintaining the integrity of your associated accounts.</p>"},{"location":"user_guides/interface/","title":"Interface Introduction","text":""},{"location":"user_guides/interface/#basics","title":"Basics","text":""},{"location":"user_guides/interface/#dashboard","title":"Dashboard","text":"<ul> <li>The Dashboard is the first page displayed by default upon logging into the Puhuri Portal. It provides an overview of your profile, associated organizations, and active projects.</li> </ul>"},{"location":"user_guides/interface/#sidebar-menu","title":"Sidebar menu:","text":"<ul> <li>The Sidebar Menu is your primary navigation tool within the Puhuri Portal. Here, you can manage your organizations, projects, and resources(such as the LUMI cluster or other HPC resources).  Detailed explanations of each menu item are provided in the next chapter of this guide.</li> </ul>"},{"location":"user_guides/interface/#service-catalog","title":"Service catalog:","text":"<ul> <li>The Service Catalogue lists available resources.</li> </ul>"},{"location":"user_guides/interface/#calls","title":"Calls:","text":"<ul> <li>The Calls section gives access to public and open resource competitions. Users can submit project proposals, which reviewers will evaluate. If approved, users receive resource access, usually at no cost.</li> </ul>"},{"location":"user_guides/interface/#workspace-menu-dynamic-based-on-sidebar-selection","title":"Workspace Menu (Dynamic based on sidebar selection):","text":"<ul> <li>Each page in the Puhuri Portal features a top navigation bar, providing quick access to organization and project information, as well as management tools.</li> </ul>"},{"location":"user_guides/interface/#workspace","title":"Workspace:","text":"<ul> <li>Displays dashboards related to the selected organization, project, or user.</li> </ul>"},{"location":"user_guides/interface/#user-related-actions","title":"User related actions:","text":"<ul> <li>Contains all key action fields a user may need.</li> </ul>"},{"location":"user_guides/interface/#issues","title":"Issues","text":"<ul> <li>Shows a list of user-related issues. Here, you can submit a support request.</li> </ul>"},{"location":"user_guides/interface/#pending-confirmations","title":"Pending confirmations:","text":"<ul> <li>Displays requests related to user, resource, or project management awaiting approval.</li> </ul>"},{"location":"user_guides/interface/#user-profile","title":"User Profile:","text":"<ul> <li>Key links include User Dashboard, Affiliations, Credentials, Notifications, and options to adjust interface Language and Color Mode.</li> </ul>"},{"location":"user_guides/interface/#get-help","title":"Get help:","text":"<ul> <li>By selecting Support, you can access user documentation or contact support via email. You can also create a support request through the Issues section.</li> </ul>"},{"location":"user_guides/myaccessid-ssh-key/","title":"Adding SSH key to MyAccessID profile","text":"<ol> <li>Login to the MyAccessID profile management page.</li> <li>Click \u201cSettings\u201d from the left-side menu.</li> <li> <p>Click on \u201cSSH Keys\u201d    </p> </li> <li> <p>Click on \u201cNew Key\u201d and then add the public part of your SSH key and save the key by clicking \u201cAdd SSH key\u201d.    </p> </li> <li> <p>Key propagation to the service provider may take 1-2 hours.</p> </li> </ol> <p>Note</p> <p>For LUMI supercomputer users: LUMI only accepts SSH keys based on the RSA (4096 bit) or ed25519 algorithms. If possible, we recommend to use ed25519. Please see the details in LUMI documentation. </p>"},{"location":"user_guides/myaccessid_account_linking/","title":"MyAccessID account linking","text":"<p>MyAccessID allows to merge multiple identities into one MyAccessID identity. By doing this, no matter which IdP is used for authentication, connected services will get always one single identity.</p> <p>To link identities, please follow these steps:</p> <ol> <li>Login to MyAccessID profile management page </li> <li> <p>Click on \"My Linked Accounts\"    </p> </li> <li> <p>Now you can see the table with your linked accounts.     </p> </li> </ol> <p>The first column shows the email connected to specific identity, second column shows the IdP name, third one shows the unique identifier connected to that IdP and the fourth one shows the timestamp of last usage of this IdP. X-mark after that allows to delete the linked identity.</p> <p>The first row in that table (excl headings) shows that your identity belongs to MyAccessID and next to that you can find the unique identifier connected to your MyAccessID account and this will be shared with the connected service provider if you're using MyAccessID AAI service. The row after that contains your current home organization (IdP) information.</p> <p>To add more linked identities, please log into your primary account and click on \"Link a New Account\u201d. Please follow the steps as prompted to log into your secondary MyAccessID account, but this time, choose the identity provider that you used for secondary account authentication (options are your organization, eIDAS, or eduID Sweden).</p> <p>Note</p> <p>Always log in with this primary account first before linking any additional identities. Consistently using your primary account for initial logins ensures a unified identity across services. Remember the authentication methods for all linked accounts to avoid login errors.</p> <p> </p> <p>When everything is correct, then you will see a message on a green background that your identities are successfully linked.</p>"},{"location":"user_guides/myaccessid_registration/","title":"MyAccessID account registration","text":"<p>Currently, MyAccessID provides 3 different ways to register an account:</p> <ol> <li>via academic institution available in eduGAIN</li> <li>via national identity provider (eIDAS)</li> <li>via eduID Sweden</li> </ol>"},{"location":"user_guides/myaccessid_registration/#create-an-account-using-your-home-academic-institution","title":"Create an account using your home academic institution","text":"<p>To use this option, your home organization must be available in eduGAIN. To check that, type your home organization name into the search field on the MyAccessID login page.</p> <p></p> <p>If you can find the correct organization, follow the process to authenticate yourself with your home organization credentials. If everything is correct, you will be redirected back to MyAccessID and you are asked to accept the MyAccessID and Service Provider Terms of Use documents and Privacy Policies.</p> <p></p> <p>If you cannot find your home organization, please proceed with Option 2 below.</p>"},{"location":"user_guides/myaccessid_registration/#create-an-account-using-a-national-identity-provider-eidas","title":"Create an account using a national identity provider (eIDAS)","text":"<p>To use eIDAS as an authentication method, please choose \"Login with eIDAS\"</p> <p></p> <p>Then you're redirected to the eIDAS login page, where you can find available countries.</p> <p></p> <p>By selecting a particular country (clicking a flag), you will be forwarded to the national login page.  The authentication methods behind the flags are different in each country. It may be that your country is not listed there.</p> <p>If everything is correct, you will be redirected back to MyAccessID and you are asked to accept the MyAccessID and Service Provider Terms of Use documents and Privacy Policies.</p> <p></p> <p>If you did not find your flag, please proceed to Option 3 below.</p>"},{"location":"user_guides/myaccessid_registration/#create-an-account-using-eduid-sweden","title":"Create an account using eduID Sweden","text":"<p>For users who do not have  an academic identity or supported eIDAS digital identity, it is possible to register a new digital identity with eduID Sweden by selecting this option on the MyAccessID login page.</p> <p></p> <p>Then you're forwarded to the eduID Sweden login page where you can log in with an existing account or create a new one.</p> <p></p> <p>When selecting \"Register\", please use your email and follow the instructions.</p> <p>Note</p> <p>Please remember to use your organizational email, not the private one.</p> <p></p> <p>You're asked to accept the eduID rules and prove you're a human.</p> <p> </p> <p>After adding your email address to register, you will get a verification email with a code to verify your email address.  You're asked to enter your first name, last name and other relevant information. Required information may change over time.</p> <p>Note</p> <p>There is NO need to put an ID number, mobile phone or anything else in the \u201cidentity\u201d or \u201cadvanced settings\u201d tabs.</p> <p></p> <p>After finishing the registration, if everything is correct, you will be redirected back to MyAccessID to accept Terms of Use documents and Privacy Policies.</p> <p></p>"},{"location":"user_guides/myaccessid_registration/#raising-the-level-of-assurance-with-the-eduid-account","title":"Raising the level of assurance with the eduID account","text":"<p>Note</p> <p>As of today, not raising the level of assurance still allows you to access the resource. If your Level of Assurance attribute is not good enough, you will see the warning during the authentication process, but clicking \"Proceed to the service\" still allows access.</p> <p>In the next step, to raise the level of assurance, click the \"Verify your identity\" tab to verify your account by reviewing your information.</p> <p> </p> <p>To connect your identity to your eduID, there are currently 2 options out of 3 available to increase the assurance level of authentication.</p> <p></p> <ol> <li>Swedish Personal ID number - if you are a Swedish citizen you can utilize this option by your digital ID card or post or your phone number.</li> <li>EU citizen - if you are a citizen of one of the eIDAS countries you can use your electronic identification. Please note that you can use eIDAS identification to connect to MyAccessID directly.</li> </ol> <p>Warning</p> <p>The third option for \"All other countries\" is currently unavailable. EduID is working on finding a solution for identity vetting for the rest of the countries' citizens.</p>"},{"location":"user_guides/organization_and_project_management/","title":"Organization and project management","text":""},{"location":"user_guides/organization_and_project_management/#user-guide-for-adding-organizations","title":"User guide for adding organizations","text":"<p>Note</p> <p>Organization creation is only allowed for national resource allocator representatives!</p> <p>Organization in the Puhuri Portal context means whatever grouping the national resource allocator would like to have. This can mean, for example, a research group, institution, department, or working group. The organization has an owner who is the project principal investigator (PI). National resource allocators can assign owners to organizations.</p>"},{"location":"user_guides/organization_and_project_management/#create-a-new-organization","title":"Create a new organization","text":"<ol> <li>Login to the portal and click \"Organizations\" in the left-side menu and then \u201cAdd organization\u201d on the right side.</li> <li>A popup opens, and enters the name of the new organization and also the contact email.</li> <li>Click \"Create organization\".</li> <li>Now, an organization management page opens, where you can add additional information about the organization.</li> <li>Management view is divided into sections, and after editing a section, click \"Save changes\".</li> </ol>"},{"location":"user_guides/organization_and_project_management/#creation-of-projects","title":"Creation of projects","text":"<p>Project creation is allowed for Principal Investigators (PIs) and Resource Allocators in their organizations.</p> <p>Prerequisites for creating projects:     - User must have a Puhuri account (logged in to Puhuri Portal using MyAccessID)     - Allocator must set PI role to the user in a certain organization</p> <ol> <li>Select your home organization dashboard.</li> <li>Click on \"Add project\" on the right side.</li> <li>Fill in the necessary fields (fields marked with * are mandatory).<ul> <li>Project name - The original title of the project.</li> <li>Project description - A brief description about the project.</li> <li>OECD FoS code - OECD science field code (more info)</li> </ul> </li> <li>Click the button \"Create\".<ul> <li>Once the project is created, you can add the project start and end date.</li> </ul> </li> <li>Choose on Project dashboard \"Edit\" tab and update the respective fields.<ul> <li>Start date - this is the start date when the computational resources will become available. If not chosen, the project will start from the moment the resource is activated. </li> <li>End date - this is the end date for using the computational resources.</li> <li>Project image - Profile picture for the project (optional).</li> </ul> </li> </ol>"},{"location":"user_guides/organization_and_project_management/#requesting-an-allocation","title":"Requesting an allocation","text":"<p>To get an allocation via Puhuri Portal, project participants must first request it. Request can be initiated by any user, however it must be approved:</p> <ul> <li>by PI before being sent to Resource Allocator.</li> <li>by Resource Allocator before being sent to Puhuri Core for processing by the service.</li> </ul> <p>Below is an example of requesting an allocation from LUMI supercomputer:</p> <ol> <li>Open your project dashboard and select \"Resources\" from the top menu. Click on \"Add resources\" on the right side.</li> <li>This will open a service catalogue where you can select the correct offering that matches your plans.    For LUMI, offerings correspond to access types of EuroHPC:<ul> <li>Extreme Scale Access</li> <li>Regular Access</li> <li>Benchmark Access</li> <li>Development Access</li> <li>Fast Track Access for Academia</li> <li>Fast Track Access for Industry</li> </ul> </li> <li>When you have found the correct offering, click \"Deploy\". </li> <li>This will open the offering configuration page, where you can set the allocation quota limits (CPU, GPU and Storage), add resource name, set whether the project is AI-related, for testing, etc.</li> <li>When all set, click \"Create\" on the right side.</li> <li>A confirmation popup opens, click \"Yes\".</li> <li>After this, the Resource allocator will get a request for the resource and be able to approve or reject it.</li> <li>Now, the resource dashboard opens, showing the approval status, resource usage, and limits information.</li> </ol>"},{"location":"user_guides/organization_and_project_management/#bulk-import","title":"Bulk\u202fImport","text":"<p>Use Bulk\u202fImport to create multiple projects at once.</p> <ol> <li> <p>Open your organization dashboard.</p> </li> <li> <p>In the Projects section, click on \u201cBulk\u202fImport\u201d (right\u2011hand side).</p> </li> <li> <p>Select one of the following:</p> <ul> <li>Projects only \u2013 create projects without any resources.</li> <li>Projects with resources \u2013 create projects and their resources. Choose an offering type, then click on \u201cNext\u201d to generate the correct template.</li> </ul> </li> <li> <p>Download the template, fill in all required fields, and upload it. Click on \u201cNext\u201d.</p> </li> <li> <p>Review the project metadata, then click on \u201cImport\u202f&amp;\u202fcreate\u201d.</p> </li> </ol>"},{"location":"user_guides/organization_and_project_management/#applicable-to-lumi-only","title":"Applicable to LUMI only","text":"<p>The following attributes are mandatory to flag for LUMI projects and resources:</p> <ul> <li>Project End date:</li> </ul> <p>To set the end date for the existing project, please open your project in the portal and select on the project dashboard the tab \"Edit\" to update the respective fields.</p> <ul> <li> <p>Resource use-case type if applicable:</p> <ul> <li>AI-related use (multiple can be selected)</li> <li>Industrial project</li> <li>Commercial project</li> <li>Training project</li> </ul> </li> </ul> <p>To set those flags for existing projects, please open your project and resource in the portal and select \"Options\" from the top menu. Then, you will see four different flags. You can toggle them on and off by clicking \"Edit\" on the right. For the AI, it is necessary to set the exact method(s).</p> <p></p>"},{"location":"user_guides/organization_and_project_management/#if-users-home-organizationemployer-changes","title":"If User\u2019s Home Organization/Employer changes","text":"<ul> <li>Informing Changes:</li> </ul> <p>If a user changes their organization, it is their responsibility to notify the Principal Investigator (PI). If the PI's organization changes, they should inform the Resource Allocation Body (RA), as specified in the service provider's terms of use.</p> <ul> <li>Evaluation and Approval:</li> </ul> <p>The PI and/or RA will assess whether continued usage is allowed. If the continued usage is allowed, then:</p> <ul> <li>Account Transition:</li> </ul> <p>Users must register for a new account due to changes in their identity provider. The new user account must be added to the project by the RA, PI, or co-PI.</p> <ul> <li>Data Migration:</li> </ul> <p>Before closing the old account, users should migrate files to the home organization. Data can be copied back when the new account is opened.</p> <ul> <li>Usage Restrictions:</li> </ul> <p>If LUMI usage is disallowed, the PI or RA should remove the user from the project team. Please note: once the user account is disconnected from all projects, the user will lose access to LUMI.</p>"},{"location":"user_guides/organization_and_project_management/#lumi-project-lifecycle","title":"LUMI Project Lifecycle","text":""},{"location":"user_guides/organization_and_project_management/#lumi-user-account-lifecycle","title":"LUMI User Account Lifecycle","text":"<p>Feedback</p> <p>We welcome feedback from our users - it helps us to continually improve. Please send an email with your suggestions to support@puhuri.io.</p>"},{"location":"user_guides/project_membership_management/","title":"Project membership management","text":"<p>Project team contains users with different roles:</p> <ul> <li>Principal Investigator (PI)  - An individual recognized by the prime institution, is responsible for the scientific and administrative leadership of the project (request additional resources, manage membership, view usage information, etc). Can use the resources connected to the project. </li> <li>Co-Principal Investigator (co-PI) is a collaborator who shares leadership and responsibility for a research project with the primary Principal Investigator (PI). Can use the resources connected to the project.</li> <li>Member is a user who works on one or more project phases and executes assigned tasks. Read-only role in the portal with the ability to see the resource usage information. Can use the resources connected to the project.</li> </ul> <p>Please see this page for User Rights based on Roles in the Organization.</p> <p>Important: The project will not sync properly with LUMI if there is no Principal Investigator (PI) assigned.  </p> <p>If no team member has the PI role, the project information in LUMI will remain incomplete.  </p>"},{"location":"user_guides/project_membership_management/#adding-project-members","title":"Adding project members","text":"<ol> <li>Open your project dashboard in the Puhuri Portal and find the \"Team\" on the project dashboard top menu. Click the \"Invitations\" to see the list of the sent invitations in this project. Here click the \"+ Add\" button.</li> <li>An invitation popup opens, where you can enter the new user email and set the role in the project. Click \"Continue\".</li> <li>Fill in your custom message on the right side of the window (if needed) and send the invitation.</li> <li>Now, you can close the window or create a new invitation. </li> </ol> <p>Note</p> <p>The invitation is valid for 3 weeks!</p> <p>Feedback</p> <p>We welcome feedback from our users - it helps us to improve continually. Please email your suggestions to support@puhuri.io.</p>"},{"location":"user_guides/project_modification/","title":"Projects and allocations management","text":""},{"location":"user_guides/project_modification/#allocation-update-process","title":"Allocation update process","text":"<p>Note</p> <p>Only (national) resource allocation representatives can approve allocation update requests. </p> <ol> <li>Navigate to the project dashboard and select \"Resources\" from the top menu.</li> <li>Select the correct allocation, click the \"Action\" button on the right, and select \"Change limits.\"</li> <li>Set new limits and click \"Submit\" (if you are a Resource Allocator) or click \"Request for a change\" (if you belong to the project team).</li> <li>Now, the national resource allocator has to approve the changes.</li> </ol>"},{"location":"user_guides/project_modification/#project-end-date-update-process","title":"Project end date update process","text":"<p>Note</p> <p>Only (national) resource allocation representatives can approve project end-date update requests. </p> <ol> <li>Navigate to the project dashboard and click \"Edit\" on the right.</li> <li>Make needed changes.</li> <li>The national resource allocator must approve the changes.</li> </ol>"},{"location":"user_guides/project_modification/#approving-project-and-allocation-creation-update-requests","title":"Approving project and allocation creation, update requests","text":"<p>Note</p> <p>The following processes are only allowed for national resource allocator representatives!</p> <ol> <li>Click on  the \"Pending confirmations\" button on the top-right side of your Dashboard. In this window, the lists of \"Pending order confirmation\" and \"Pending provider confirmation\", as well as \"Project update requests\" can be found.</li> <li>Select the request to click \u201cApprove\u201d or \"Reject\". Also, by clicking \"Approve all\" or \"Reject all\", the action can be done for all the requests simultaneously.</li> </ol> <p>Feedback</p> <p>We welcome feedback from our users - it helps us to improve continually. Please email your suggestions to support@puhuri.io.</p>"},{"location":"user_guides/usage_reports/","title":"Usage reports","text":"<p>Currently, in the Puhuri Portal, you can see monthly allocation usage. Allocation components (CPU, GPU and storage) are displayed on separate charts.</p> <ol> <li>Open your project in the Puhuri Portal.</li> <li>Select the allocation (resource) that usage report you would like to see.</li> <li>Select the \"Usage\" tab from the top menu to see the report for this allocation. Use tabs \"CPU Allocation\", \"GPU Allocation\", and \"Storage Allocation\" to see the resource component details. Also, by choosing tabs \"6 months\" and \"From creation,\" you can change the time frame to view the usage. In addition, by clicking on the \"table\" tab, you can change the visualization to the table. </li> </ol> <p></p> <p>To check the current resource allocation limit:</p> <ol> <li>In the same view, there is a progress bars section where you can see the overall usage compared to the allocation size of different resource components.</li> </ol>"},{"location":"user_guides/user_roles/","title":"User roles","text":""},{"location":"user_guides/user_roles/#user-roles-in-organization","title":"User roles in Organization","text":"Puhuri Portal Activity Name Resource allocator PI co-PI Organization reader Member Team Management Project Management Resource Requests and Management Resource Request Approval (Orders) <p> Organization reader  is an individual with the right to view the organization and project information connected to the organization. This user cannot modify any information.    Member  obtains a user account in resource (such as in LUMI) through Puhuri but has no rights to manage anything in the Puhuri self-service environment.</p>"},{"location":"user_guides/old_interface/user_guide_dedicated/inviting_members/","title":"Project membership management","text":""},{"location":"user_guides/old_interface/user_guide_dedicated/inviting_members/#management-of-project-team","title":"Management of project team","text":"<p>Project team contains users with different roles:</p> <ul> <li>Principal Investigator (PI) - The lead researcher and primary contact for the project, also organization owner</li> <li>Co-Principal Investigator (Co-PI) - An individual recognized by the prime institution and the principal investigator (PI) as someone who shares scientific and administrative leadership responsibilities for a project with the PI.</li> <li>Member - Users who work on one or more phases of the project and involved in doing assigned tasks.</li> <li>Guest - Users who are only able to see project related data, not able to modify it.</li> </ul> <p>Please see this page for User Rights based on Roles in the Organization.</p>"},{"location":"user_guides/old_interface/user_guide_dedicated/inviting_members/#adding-pi-to-organization","title":"Adding PI to organization.","text":"<p>Note</p> <p>This is only allowed to national resource allocator representatives!</p> <ol> <li> <p>Login to Puhuri Portal with MyAccessID.     </p> </li> <li> <p>Select correct organization from \"Select workspace\".</p> </li> <li>Select \"Team\" from left menu.    </li> </ol> <p>4a. If user already has Puhuri account, then click \"Add PI\" and select user from the drop-down list.      </p> <p>4b. If user do not have Puhuri account, then \"Invitations\" and \"Invite user\".      </p>"},{"location":"user_guides/old_interface/user_guide_dedicated/inviting_members/#adding-project-members","title":"Adding project members","text":""},{"location":"user_guides/old_interface/user_guide_dedicated/inviting_members/#if-user-already-has-puhuri-account-connected-with-the-organization-then","title":"If user already has Puhuri account connected with the organization, then:","text":"<ol> <li> <p>Login to Puhuri Portal with MyAccessID.    </p> </li> <li> <p>Open project in Puhuri Portal.</p> </li> <li> <p>Select \"Team\" from left menu and click on \"Add member\".     </p> </li> <li> <p>Select correct user, set the role and expiration date if necessary.    </p> </li> <li> <p>Finally, click on \"Add\".</p> </li> <li>User now will get invitation email with the acceptance link.</li> </ol> <p>Note</p> <p>Invitation is valid for 1 week!</p>"},{"location":"user_guides/old_interface/user_guide_dedicated/inviting_members/#if-user-does-not-have-puhuri-account-then","title":"If user does not have Puhuri account, then:","text":"<ol> <li> <p>Login to Puhuri Portal with MyAccessID.    </p> </li> <li> <p>Select your organization.     </p> </li> <li> <p>Click on \"Invite team member\".     </p> </li> <li> <p>Insert user's email and set the role and project (in case of inviting Co-PI, Member or Guest) for the new user.    </p> </li> <li> <p>Click \"Invite user\".</p> </li> <li>User now will get invitation email with the acceptance link.</li> </ol> <p>Note</p> <p>Invitation is valid for 1 week!</p> <p>Feedback</p> <p>We welcome feedback from our users - it helps us to continually improve. Please send an email with your suggestions to support@puhuri.io.</p>"},{"location":"user_guides/old_interface/user_guide_dedicated/organization_and_project_management/","title":"Organization and project management","text":""},{"location":"user_guides/old_interface/user_guide_dedicated/organization_and_project_management/#user-guide-for-adding-organizations","title":"User guide for adding organizations","text":"<p>Note</p> <p>Organization creation is only allowed for national resource allocator representatives!</p> <p>Organization in Puhuri Portal context means whatever grouping national resource allocator would like to have. This can mean for example research group, institution, department or working group. Organization has an owner who is project principal investigator (PI). Please note that PIs of the organization can see the project information belonging to that organization and can manage members of the projects. Therefore, if you want to avoid that, you must create a different organizations for the PIs. National resource allocator can assign owners to organizations.</p>"},{"location":"user_guides/old_interface/user_guide_dedicated/organization_and_project_management/#create-a-new-organization","title":"Create a new organization","text":"<ol> <li> <p>Login to Puhuri Portal using MyAccessID.    </p> </li> <li> <p>Click on \"Select workspace\" and then \u201cAdd new organization\u201d in the organization selection window.     </p> </li> <li> <p>Fill the form and click \"Create organization\":</p> <ul> <li>Name - Name of the organization</li> <li>Contact email - email of the person, who is responsible for the allocations in that organization</li> <li>Contact phone - contact person\u2019s phone (optional)</li> <li>Website URL - url of the organization (optional)</li> <li>Logo - logo of the organization (optional)    </li> </ul> </li> </ol>"},{"location":"user_guides/old_interface/user_guide_dedicated/organization_and_project_management/#creation-of-projects","title":"Creation of projects","text":"<p>Project creation is allowed for Principal Investigators (PIs) and Resource Allocators in their organizations.</p> <p>Prerequisites for creating projects:     - User must have a Puhuri account (logged in to Puhuri Portal using MyAccessID)     - Allocator must set PI role to the user in certain organization</p> <ol> <li> <p>Login to Puhuri Portal using MyAccessID.    </p> </li> <li> <p>Select your home organization.     </p> </li> <li> <p>Click on \"Add project\".    </p> </li> <li> <p>Fill the necessary fields (fields marked with * are mandatory).</p> <ul> <li>Project name - The original title of the project.</li> <li>Project description - A brief description about the project.</li> <li>OECD FoS code - OECD science field code (more info)</li> <li>End date - this is the end date for using the computational resources.</li> </ul> </li> </ol> <p>Note</p> <p>\"End date\" meaning: the computation in this project is not anymore allowed but the data will be available throughout the data retention period defined by your         service provider (such as LUMI). During the data retention period, the resource state will be in status \"Terminating\".</p> <p></p>"},{"location":"user_guides/old_interface/user_guide_dedicated/organization_and_project_management/#requesting-an-allocation","title":"Requesting an allocation","text":"<p>To get an allocation via Puhuri Portal, project participants must first request it. Request can be initiated by any user, however it must be approved:</p> <ul> <li>by PI before being sent to Resource Allocator.</li> <li>by Resource Allocator before being sent to Puhuri Core for processing by the service.</li> </ul> <p>Below is an example of requesting an allocation from LUMI supercomputer:</p> <ol> <li> <p>Select \"Service catalog\" from the sidebar menu and select offering that matches your plans.    For LUMI, offerings correspond to access types of EuroHPC:</p> <ul> <li>Extreme Scale Access</li> <li>Regular Access</li> <li>Benchmark Access</li> <li>Development Access</li> <li>Fast Track Access for Academia</li> <li>Fast Track Access for Industry    </li> </ul> </li> <li> <p>Write the name for the resource allocation (NOTE: This name will be visible in accounting data.).    </p> </li> <li> <p>Select correct plan (LUMI common) and write needed allocation quota (CPU, GPU and Storage).</p> </li> <li> <p>Write short description (optional).</p> </li> <li> <p>Click on the \"Add to cart\".</p> </li> <li> <p>Check once more and click on \"Request an approval\" if you not a PI in a project or \"Request\" if you PI.    </p> </li> </ol> <p>After this, Resource allocator will request for resource and be able to approve or reject it.</p> <p>Feedback</p> <p>We welcome feedback from our users - it helps us to continually improve. Please send an email with your suggestions to support@puhuri.io.</p>"},{"location":"user_guides/old_interface/user_guide_dedicated/project_approval/","title":"Projects and allocations approval process","text":"<p>Note</p> <p>Following processes are only allowed to national resource allocator representatives!</p>"},{"location":"user_guides/old_interface/user_guide_dedicated/project_approval/#approving-project-and-allocation-creation-requests","title":"Approving project and allocation creation requests","text":"<ol> <li> <p>Login to Puhuri Portal using MyAccessID.    </p> </li> <li> <p>Select allocating organization from the \"Select workspace\" list.</p> </li> <li>Click on \u201cPublic services\u201d -&gt; \u201cPublic orders\u201d and then click \u201cApprove\u201d    </li> </ol>"},{"location":"user_guides/old_interface/user_guide_dedicated/project_approval/#approving-project-and-allocation-update-requests","title":"Approving project and allocation update requests","text":"<ol> <li> <p>Login to Puhuri Portal using MyAccessID.    </p> </li> <li> <p>Select allocating organization from the \"Select workspace\" list.</p> </li> <li>Click on \u201cPublic services\u201d -&gt; \u201cProject updates\u201d and then click \u201cApprove\u201d    </li> </ol> <p>Feedback</p> <p>We welcome feedback from our users - it helps us to continually improve. Please send an email with your suggestions to support@puhuri.io.</p>"},{"location":"user_guides/old_interface/user_guide_dedicated/project_modification/","title":"Projects and allocations management","text":""},{"location":"user_guides/old_interface/user_guide_dedicated/project_modification/#allocation-update-process","title":"Allocation update process","text":"<p>Note</p> <p>Only project PI or (national) resource allocation representative can send allocation update requests.</p> <ol> <li> <p>Login to Puhuri Portal using MyAccessID.    </p> </li> <li> <p>Select organization and then project from the \"Select workspace\" list.</p> </li> <li> <p>Select correct allocation you would like to change.    </p> </li> <li> <p>Select \"Actions\" and then \"Change limits\".    </p> </li> <li> <p>Set new limits and click \"Submit\".    </p> </li> <li> <p>Now national resource allocator has to approve the changes.</p> </li> </ol>"},{"location":"user_guides/old_interface/user_guide_dedicated/project_modification/#project-end-date-update-process","title":"Project end date update process","text":"<p>Note</p> <p>Only project PI or (national) resource allocation representative can send project end date update requests.</p> <ol> <li> <p>Login to Puhuri Portal using MyAccessID.    </p> </li> <li> <p>Select organization and then project from the \"Select workspace\" list.</p> </li> <li>Select \"Projects\" from the left side menu.</li> <li> <p>Select correct project and click \"Details\".    </p> </li> <li> <p>Update project end date and \"Update project details\".    </p> </li> <li> <p>Now the national resource allocator has to approve the changes.</p> </li> </ol> <p>Feedback</p> <p>We welcome feedback from our users - it helps us to continually improve. Please send an email with your suggestions to support@puhuri.io.</p>"},{"location":"user_guides/old_interface/user_guide_shared/membership_management_shared/","title":"Project membership management","text":"<p>Project team contains users with different roles:</p> <ul> <li>Co-Principal Investigator (Co-PI) - An individual recognized by the prime institution and the principal investigator (PI) as someone who shares scientific and administrative leadership responsibilities for a project with the PI.</li> <li>Member - Users who work on one or more phases of the project and involved in doing assigned tasks.</li> <li>Guest - Users who are only able to see project related data, not able to modify it.</li> </ul> <p>Please see this page for User Rights based on Roles in the Organization.</p>"},{"location":"user_guides/old_interface/user_guide_shared/membership_management_shared/#adding-project-members","title":"Adding project members","text":""},{"location":"user_guides/old_interface/user_guide_shared/membership_management_shared/#new-user-has-puhuri-account","title":"New user has Puhuri account:","text":"<ol> <li> <p>Login to Puhuri Portal with MyAccessID.    </p> </li> <li> <p>Open project in Puhuri Portal.</p> </li> <li> <p>Select \"Team\" from left menu and click on \"Add member\".     </p> </li> <li> <p>Select correct user, set the role and expiration date if necessary.    </p> </li> <li> <p>Finally, click on \"Add\".</p> </li> <li>User now will get invitation email with the acceptance link.</li> </ol> <p>Note</p> <p>Invitation is valid for 3 weeks!</p>"},{"location":"user_guides/old_interface/user_guide_shared/membership_management_shared/#new-user-dont-have-puhuri-account","title":"New user don't have Puhuri account:","text":"<ol> <li> <p>Login to Puhuri Portal with MyAccessID.    </p> </li> <li> <p>Select your organization.     </p> </li> <li> <p>Click on \"Invite team member\".     </p> </li> <li> <p>Insert user's email and set the role and project (in case of inviting Co-PI, Member or Guest) for the new user.    </p> </li> <li> <p>Click \"Invite user\".</p> </li> <li>User now will get invitation email with the acceptance link.</li> </ol> <p>Note</p> <p>Invitation is valid for 3 weeks!</p> <p>Feedback</p> <p>We welcome feedback from our users - it helps us to continually improve. Please send an email with your suggestions to support@puhuri.io.</p>"},{"location":"user_guides/old_interface/user_guide_shared/organization_and_project_management_shared/","title":"Organization and project management","text":""},{"location":"user_guides/old_interface/user_guide_shared/organization_and_project_management_shared/#user-guide-for-adding-organizations","title":"User guide for adding organizations","text":"<p>Note</p> <p>Organization creation is only allowed for national resource allocator representatives!</p> <p>Organization in Puhuri Portal context means whatever grouping national resource allocator would like to have. This can mean for example research group, institution, department or working group. Organization has an owner who is project principal investigator (PI). National resource allocator can assign owners to organizations.</p>"},{"location":"user_guides/old_interface/user_guide_shared/organization_and_project_management_shared/#create-a-new-organization","title":"Create a new organization","text":"<ol> <li> <p>Login to Puhuri Portal using MyAccessID.    </p> </li> <li> <p>Click on \"Select workspace\" and then \u201cAdd new organization\u201d in the organization selection window.     </p> </li> <li> <p>Fill the form and click \"Create organization\":</p> <ul> <li>Name - Name of the organization</li> <li>Contact email - email of the person, who is responsible for the allocations in that organization</li> <li>Contact phone - contact person\u2019s phone (optional)</li> <li>Website URL - url of the organization (optional)</li> <li>Logo - logo of the organization (optional)    </li> </ul> </li> </ol>"},{"location":"user_guides/old_interface/user_guide_shared/organization_and_project_management_shared/#creation-of-projects","title":"Creation of projects","text":"<p>Project creation is allowed for Principal Investigators (PIs) and Resource Allocators in their organizations.</p> <p>Prerequisites for creating projects:     - User must have a Puhuri account (logged in to Puhuri Portal using MyAccessID)     - Allocator must set PI role to the user in certain organization</p> <ol> <li> <p>Login to Puhuri Portal using MyAccessID.    </p> </li> <li> <p>Select your home organization.     </p> </li> <li> <p>Click on \"Add project\".    </p> </li> <li> <p>Fill the necessary fields (fields marked with * are mandatory).</p> <ul> <li>Project name - The original title of the project.</li> <li>Project description - A brief description about the project.</li> <li>OECD FoS code - OECD science field code (more info)</li> <li>End date - this is the end date for using the computational resources.    </li> </ul> </li> </ol>"},{"location":"user_guides/old_interface/user_guide_shared/organization_and_project_management_shared/#requesting-an-allocation","title":"Requesting an allocation","text":"<p>To get an allocation via Puhuri Portal, project participants must first request it. Request can be initiated by any user, however it must be approved:</p> <ul> <li>by PI before being sent to Resource Allocator.</li> <li>by Resource Allocator before being sent to Puhuri Core for processing by the service.</li> </ul> <p>Below is an example of requesting an allocation from LUMI supercomputer:</p> <ol> <li> <p>Select \"Service catalog\" from the sidebar menu and select offering that matches your plans.    For LUMI, offerings correspond to access types of EuroHPC:</p> <ul> <li>Extreme Scale Access</li> <li>Regular Access</li> <li>Benchmark Access</li> <li>Development Access</li> <li>Fast Track Access for Academia</li> <li>Fast Track Access for Industry    </li> </ul> </li> <li> <p>Write the name for the resource allocation (NOTE: This name will be visible in accounting data.).    </p> </li> <li> <p>Select correct plan (LUMI common) and write needed allocation quota (CPU, GPU and Storage).</p> </li> <li> <p>Write short description (optional).</p> </li> <li> <p>Click on the \"Add to cart\".</p> </li> <li> <p>Check once more and click on \"Request an approval\" if you not a PI in a project or \"Request\" if you PI.    </p> </li> </ol> <p>After this, Resource allocator will request for resource and be able to approve or reject it.</p> <p>Feedback</p> <p>We welcome feedback from our users - it helps us to continually improve. Please send an email with your suggestions to support@puhuri.io.</p>"},{"location":"user_guides/old_interface/user_guide_shared/project_approval_shared/","title":"Projects and allocations approval process","text":"<p>Note</p> <p>Following processes are only allowed to national resource allocator representatives!</p>"},{"location":"user_guides/old_interface/user_guide_shared/project_approval_shared/#approving-project-and-allocation-creation-requests","title":"Approving project and allocation creation requests","text":"<ol> <li> <p>Login to Puhuri Portal using MyAccessID.    </p> </li> <li> <p>Select allocating organization from the \"Select workspace\" list.</p> </li> <li>Click on \u201cPublic services\u201d -&gt; \u201cPublic orders\u201d and then click \u201cApprove\u201d    </li> </ol>"},{"location":"user_guides/old_interface/user_guide_shared/project_approval_shared/#approving-project-and-allocation-update-requests","title":"Approving project and allocation update requests","text":"<ol> <li> <p>Login to Puhuri Portal using MyAccessID.    </p> </li> <li> <p>Select allocating organization from the \"Select workspace\" list.</p> </li> <li>Click on \u201cPublic services\u201d -&gt; \u201cProject updates\u201d and then click \u201cApprove\u201d    </li> </ol> <p>Feedback</p> <p>We welcome feedback from our users - it helps us to continually improve. Please send an email with your suggestions to support@puhuri.io.</p>"},{"location":"user_guides/old_interface/user_guide_shared/project_modification_shared/","title":"Projects and allocations management","text":""},{"location":"user_guides/old_interface/user_guide_shared/project_modification_shared/#allocation-update-process","title":"Allocation update process","text":"<p>Note</p> <p>Only (national) resource allocation representative can send allocation update requests. </p> <ol> <li> <p>Login to Puhuri Portal using MyAccessID.    </p> </li> <li> <p>Select organization and then project from the \"Select workspace\" list.</p> </li> <li> <p>Select correct allocation you would like to change.    </p> </li> <li> <p>Select \"Actions\" and then \"Change limits\".    </p> </li> <li> <p>Set new limits and click \"Submit\".    </p> </li> <li> <p>Now national resource allocator has to approve the changes.</p> </li> </ol>"},{"location":"user_guides/old_interface/user_guide_shared/project_modification_shared/#project-end-date-update-process","title":"Project end date update process","text":"<p>Note</p> <p>Only (national) resource allocation representative can send project end date update requests. </p> <ol> <li> <p>Login to Puhuri Portal using MyAccessID.    </p> </li> <li> <p>Select organization and then project from the \"Select workspace\" list.</p> </li> <li>Select \"Projects\" from the left side menu.</li> <li> <p>Select correct project and click \"Details\".    </p> </li> <li> <p>Update project end date and \"Update project details\".    </p> </li> <li> <p>Now national resource allocator has to approve the changes.</p> </li> </ol> <p>Feedback</p> <p>We welcome feedback from our users - it helps us to continually improve. Please send an email with your suggestions to support@puhuri.io.</p>"}]}