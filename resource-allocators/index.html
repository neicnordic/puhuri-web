
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../resource-allocators-overview/">
      
      
        <link rel="next" href="../API%20guide/common/">
      
      
      <link rel="icon" href="../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Integration guide - Puhuri Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../extra.css">
    
      <link rel="stylesheet" href="../fonts.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../assets/javascripts/glightbox.min.js"></script></head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#integration-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Puhuri Documentation" class="md-header__button md-logo" aria-label="Puhuri Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Puhuri Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Integration guide
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Puhuri Documentation" class="md-nav__button md-logo" aria-label="Puhuri Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Puhuri Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Welcome to the Puhuri documentation website!
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    About
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            About
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../branding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Branding
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../terminology/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Terminology
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../environments/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Environments
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../toms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Technical and Organizational Measures of Puhuri Core and Puhuri Portal
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Documents
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            Documents
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documents/statistics_pp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Privacy Policy of the Puhuri statistics webpage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documents/statistics_tos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Terms of Use of the Puhuri statistics webpage
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Puhuri for Resource Allocators
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Puhuri for Resource Allocators
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource-allocators-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" checked>
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Custom Portal Integration
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Custom Portal Integration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Integration guide
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Integration guide
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#resource-allocators" class="md-nav__link">
    <span class="md-ellipsis">
      Resource allocators
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#terminology" class="md-nav__link">
    <span class="md-ellipsis">
      Terminology
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#puhuri-core-sdk" class="md-nav__link">
    <span class="md-ellipsis">
      Puhuri Core SDK
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Common operations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-management" class="md-nav__link">
    <span class="md-ellipsis">
      Project management
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Project management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#customer-lookup" class="md-nav__link">
    <span class="md-ellipsis">
      Customer lookup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#project-creation" class="md-nav__link">
    <span class="md-ellipsis">
      Project creation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#project-update" class="md-nav__link">
    <span class="md-ellipsis">
      Project update
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#project-lookup" class="md-nav__link">
    <span class="md-ellipsis">
      Project lookup
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-membership-management" class="md-nav__link">
    <span class="md-ellipsis">
      Project membership management
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Project membership management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#puhuri-aai-user-mapping-lookup" class="md-nav__link">
    <span class="md-ellipsis">
      Puhuri AAI user mapping lookup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#membership-management" class="md-nav__link">
    <span class="md-ellipsis">
      Membership management
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resource-allocation-management" class="md-nav__link">
    <span class="md-ellipsis">
      Resource allocation management
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Resource allocation management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#listing-offerings" class="md-nav__link">
    <span class="md-ellipsis">
      Listing offerings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selecting-an-offering-lumi-specific" class="md-nav__link">
    <span class="md-ellipsis">
      Selecting an offering (LUMI specific)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#orders-and-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Orders and resources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#change-resource-limits" class="md-nav__link">
    <span class="md-ellipsis">
      Change resource limits
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-termination" class="md-nav__link">
    <span class="md-ellipsis">
      Resource termination
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced" class="md-nav__link">
    <span class="md-ellipsis">
      Advanced
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reporting" class="md-nav__link">
    <span class="md-ellipsis">
      Reporting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Reporting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getting-usage-data-of-a-specific-resource-allocation" class="md-nav__link">
    <span class="md-ellipsis">
      Getting usage data of a specific resource allocation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2_2" id="__nav_3_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_2">
            <span class="md-nav__icon md-icon"></span>
            API Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API%20guide/common/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Common
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API%20guide/authentication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Authentication
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API%20guide/project/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API%20guide/project-permissions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project permissions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API%20guide/resource-allocation-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Resource allocation management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API%20guide/listing-users-resources/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Listing associations between users and resources
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration-with-puhuri-aai/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Registering with Puhuri AAI Proxy
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dedicated-puhuri-portal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dedicated Puhuri Portal
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../shared-puhuri-portal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Shared Puhuri Portal
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Puhuri for Service Providers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Puhuri for Service Providers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../service-providers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Integration Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    SDK Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            SDK Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SDK%20guide/initial-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Initial setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SDK%20guide/allocation-management-sp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Allocation Lifecycle Management by Service Provider
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SDK%20guide/order-api-changes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Order api changes
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../idp_integration/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    IdP Integration
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            IdP Integration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../idp_integration/requirements-edugain/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    eduGAIN integration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../idp_integration/requirements-direct/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Direct integration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../idp_integration/attributes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Attributes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_5" >
        
          
          <label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Use cases
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            Use cases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../idp_integration/use-cases/national-portal-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    National Portal and LUMI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../idp_integration/use-cases/keycloak-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    KeyCloak
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    User Guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            User Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1" >
        
          
          <label class="md-nav__link" for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Account Management
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1">
            <span class="md-nav__icon md-icon"></span>
            Account Management
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/account_creation_removal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Account Creation and Removal
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/myaccessid_registration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MyAccessID account registration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/myaccessid_account_linking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MyAccessID account linking
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/myaccessid-ssh-key/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Adding SSH key to MyAccessID profile
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/interface/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Interface Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/organization_and_project_management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Organization and project management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/project_membership_management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project membership management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/project_modification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Projects and allocations management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/usage_reports/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Usage reports
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/user_roles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    User roles
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#resource-allocators" class="md-nav__link">
    <span class="md-ellipsis">
      Resource allocators
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#terminology" class="md-nav__link">
    <span class="md-ellipsis">
      Terminology
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#puhuri-core-sdk" class="md-nav__link">
    <span class="md-ellipsis">
      Puhuri Core SDK
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Common operations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-management" class="md-nav__link">
    <span class="md-ellipsis">
      Project management
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Project management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#customer-lookup" class="md-nav__link">
    <span class="md-ellipsis">
      Customer lookup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#project-creation" class="md-nav__link">
    <span class="md-ellipsis">
      Project creation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#project-update" class="md-nav__link">
    <span class="md-ellipsis">
      Project update
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#project-lookup" class="md-nav__link">
    <span class="md-ellipsis">
      Project lookup
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-membership-management" class="md-nav__link">
    <span class="md-ellipsis">
      Project membership management
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Project membership management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#puhuri-aai-user-mapping-lookup" class="md-nav__link">
    <span class="md-ellipsis">
      Puhuri AAI user mapping lookup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#membership-management" class="md-nav__link">
    <span class="md-ellipsis">
      Membership management
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resource-allocation-management" class="md-nav__link">
    <span class="md-ellipsis">
      Resource allocation management
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Resource allocation management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#listing-offerings" class="md-nav__link">
    <span class="md-ellipsis">
      Listing offerings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selecting-an-offering-lumi-specific" class="md-nav__link">
    <span class="md-ellipsis">
      Selecting an offering (LUMI specific)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#orders-and-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Orders and resources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#change-resource-limits" class="md-nav__link">
    <span class="md-ellipsis">
      Change resource limits
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-termination" class="md-nav__link">
    <span class="md-ellipsis">
      Resource termination
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced" class="md-nav__link">
    <span class="md-ellipsis">
      Advanced
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reporting" class="md-nav__link">
    <span class="md-ellipsis">
      Reporting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Reporting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getting-usage-data-of-a-specific-resource-allocation" class="md-nav__link">
    <span class="md-ellipsis">
      Getting usage data of a specific resource allocation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="integration-guide">Integration guide</h1>
<h2 id="resource-allocators">Resource allocators</h2>
<p>Allocators are external parties that are entitled to manage projects and resource allocations in Puhuri Core.
In the scope of Puhuri, resource allocators are typically organizations operating national portals or research communities.</p>
<p>Resource allocator is expected to:</p>
<ol>
<li>Be eligible to share specific resources, e.g. LUMI share.</li>
<li>Be aware of the Researcher Access identifiers of the users, aka CUIDs.</li>
</ol>
<h2 id="terminology">Terminology</h2>
<p>Puhuri Core is based on <a href="https://github.com/waldur/waldur-mastermind/">Waldur</a> orchestrator and as such some of the APIs
use a different naming than agreed in Puhuri. Below is a mapping to reduce confusion.</p>
<table>
<thead>
<tr>
<th>Puhuri</th>
<th>API / Waldur</th>
</tr>
</thead>
<tbody>
<tr>
<td>Resource</td>
<td>Offering</td>
</tr>
<tr>
<td>Resource component</td>
<td>Offering component</td>
</tr>
<tr>
<td>Allocation</td>
<td>Resource</td>
</tr>
</tbody>
</table>
<h2 id="puhuri-core-sdk">Puhuri Core SDK</h2>
<p>If you are integrating a python-based application, you might find useful a <a href="../SDK%20guide/initial-setup/">python wrapper</a> for typical operations.</p>
<h2 id="common-operations">Common operations</h2>
<p>Almost all operations require authentication. Authentication process is a two-step:</p>
<ol>
<li>Generation of authentication token using <a href="../API%20guide/authentication/">Authentication API</a>.</li>
<li>Passing that token in the Authorization header along with all other REST API calls.</li>
</ol>
<p>Please note that all of the responses to the listing are paginated, by default up to 10 elements are returned.
You can request more by passing <code>page_size=&lt;number&gt;</code> argument, number up to 200 will be respected. Information
about the whole set is contained in the response headers. Check <a href="https://github.com/waldur/ansible-waldur-module/blob/6679b6b8f9ca21099eb3a6cb97e846d3e8dd1249/waldur_client.py#L140">example of a "get_all" function</a>
to see how a full traversal can be done.</p>
<h2 id="project-management">Project management</h2>
<h3 id="customer-lookup">Customer lookup</h3>
<p>Puhuri Core implements a multi-tenant model to allow different organizations to allocate shared resources simultaneously
and independently from each other. Each such organizaton is a customer of Puhuri Core and is able to create its own
projects. Project allows us to create new allocations as well as connect users with the project.</p>
<p>Hence, to create a project, one needs first to have a reference to the customer. The reference is a stable one and
can be cached by a REST API client.</p>
<p>Customers are created by Puhuri Core support team. Please reach out to <a href="mailto:support@puhuri.io">support@puhuri.io</a>
if you think you should have one.</p>
<p>Examples:</p>
<ul>
<li><a href="../API%20guide/project/#lookup-allocator-customers-available-to-a-user">API call for customer lookup</a></li>
</ul>
<h3 id="project-creation">Project creation</h3>
<p>In order to create a new project in an organization, user needs to provide the following fields:</p>
<ul>
<li><strong><code>customer</code></strong> - URL of the project's organization</li>
<li><strong><code>name</code></strong> - project's name</li>
<li><code>description</code> - description of a project description</li>
<li><code>end_date</code> - optional date when the project and all allocations it contains will be scheduled for termination.</li>
<li><code>backend_id</code> - optional identifier, which is intended to be unique in the resource allocator's project list. Can be
  used for connecting Puhuri Core projects with the client's project registry.</li>
<li><code>oecd_fos_2007_code</code> - optional OECD Field of Science code. A code is represented by a string with two numbers separated by dot for a corresponding field of science. For example <code>"1.1"</code> is code for Mathematics. More information can be found <a href="https://joinup.ec.europa.eu/collection/eu-semantic-interoperability-catalogue/solution/field-science-and-technology-classification/about">here</a>.</li>
</ul>
<p>Please note that the project becomes active at the moment of creation!</p>
<p>Examples:</p>
<ul>
<li><a href="../API%20guide/project/#create-a-new-project">API call for project creation</a></li>
<li><a href="https://github.com/waldur/waldur-mastermind/blob/54689ac472b1a07fa815a5ddebcf35ea888d3dcc/src/waldur_mastermind/marketplace_remote/utils.py#L122">Project creation in Puhuri Portal</a>.</li>
</ul>
<h3 id="project-update">Project update</h3>
<p>It is possible to update an existing project using its URL link. Name, description and backend_id can be updated.</p>
<p>Examples:</p>
<ul>
<li><a href="../API%20guide/project/#update-an-existing-project">API call for project update</a></li>
</ul>
<h3 id="project-lookup">Project lookup</h3>
<p>User can list projects and filter them using the following query parameters:</p>
<ul>
<li><code>name</code> - project's name (uses 'contains' logic for lookup)</li>
<li><code>name_exact</code> - project's exact name</li>
<li><code>description</code> - project's description (uses 'contains' logic for lookup)</li>
<li><code>backend_id</code> - project's exact backend ID</li>
</ul>
<p>In case API user has access to more than one customer, extra filter by customer properties can be added:</p>
<ul>
<li><code>customer</code> - exact filter by customer UUID</li>
<li><code>customer_name</code> - filter by partial match of the full name of a customer</li>
<li><code>abbreviation</code> - filter by partial match of the abbreviation of a customer</li>
</ul>
<p>Examples:</p>
<ul>
<li><a href="../API%20guide/project/#list-projects">API call for listing  of projects</a></li>
</ul>
<h2 id="project-membership-management">Project membership management</h2>
<h3 id="puhuri-aai-user-mapping-lookup">Puhuri AAI user mapping lookup</h3>
<p>Puhuri Core maintains its own set of user records. Project membership is essentially a link between a project and user,
carrying also information about the role name.</p>
<p>A mapping from the Puhuri AAI CUID is implemented as a separate call. Resource allocator is able to send the CUID,
which would return a link to Puhuri Core user identity or error message, if this was not possible (e.g. CUID is
incorrect or connection with Puhuri AAI user registry has failed). Note that endpoint returns UUID, full URL of the user
is constructed as Puhuri Core URL + <code>/api/users/USER_UUID/</code>.</p>
<p>Examples:</p>
<ul>
<li><a href="../API%20guide/project-permissions/#getting-a-mapping-of-AAI-user-to-Core-user">API call for getting a mapping of Puhuri AAI user CUID to Puhuri Core user</a></li>
</ul>
<h3 id="membership-management">Membership management</h3>
<p>Creating a membership for a user means creating a permission link. While multiple roles of a user per project are allowed,
we recommed for clarity to have one active project role per user in a project.</p>
<p>The list of fields for creation are:</p>
<ul>
<li><code>user</code> - a user's UUID, looked up from a previous step.</li>
<li><code>role</code> - a role of the user. Both role UUID and name are supported. By default the system roles 'PROJECT.MEMBER', 'PROJECT.ADMIN' and 'PROJECT.MANAGER' are supported. TODO: add reference to Puhuri terminology.</li>
<li><code>expiration_time</code> - an optional field, if provided, it should contain date or ISO 8601 datetime.</li>
</ul>
<p>To remove the permission, REST API client needs to send a HTTP request using the same payload as for permission creation,
but to <code>delete_user</code> endpoint .</p>
<p>It is also possible to list available project permissions along with a <code>role</code> filter.</p>
<p>Examples:</p>
<ul>
<li><a href="../API%20guide/project-permissions/#project-members-permissions-allocation">API call for allocating members to a project</a></li>
<li><a href="../API%20guide/project-permissions/#removal-of-members-from-a-project">API call for removing members from a project</a></li>
<li><a href="../API%20guide/project-permissions/#project-members-permissions-allocation">API call to listing project permissions</a></li>
</ul>
<h2 id="resource-allocation-management">Resource allocation management</h2>
<p>Creating and managing resource allocations in Puhuri Core follows ordering logic.</p>
<p>All operations on resources, which lead to changes in allocations - e.g. creation, modification of allocated limits
or termination - are wrapped in an order.</p>
<h3 id="listing-offerings">Listing offerings</h3>
<p>To create a new Allocation, one must first choose a specific Offering from available. Offering corresponds to a specific
part of a shared resource that Resource Allocator can allocate. For example, it can be a national share of LUMI resources.
Offerings can be visible to multiple allocators, however in the first iteration we plan to limit allocators with
access to only their owned shares.</p>
<p>User can fetch offerings and filter them by the following fields:</p>
<ul>
<li><code>name</code> - offering's name</li>
<li><code>name_exact</code> - offering's exact name</li>
<li><code>customer</code> - organization's URL</li>
<li><code>customer_uuid</code> - organization's UUID</li>
</ul>
<p>Generally Offering has a stable UUID, which can be used in Puhuri Core client configuration. Offering defines inputs
that are required to provision an instance of the offering, available accounting plans (at least one should be present)
as well as attributes that can or should be provided with each request.</p>
<p>Each Offering contains one or more plans, you will need to provide a reference (URL) to the plan when creating an
allocation.</p>
<p>API examples:</p>
<ul>
<li><a href="../API%20guide/resource-allocation-management/#getting-a-list-of-offerings">Getting a list of offerings available for allocation</a></li>
</ul>
<h3 id="selecting-an-offering-lumi-specific">Selecting an offering (LUMI specific)</h3>
<p>In case of LUMI allocation, there are several offerings available for each allocator corresponding to the
access types defined by EuroHPC JU.</p>
<p>Offerings types are:</p>
<ul>
<li>Extreme Scale Access</li>
<li>Regular Access</li>
<li>Benchmark Access</li>
<li>Development Access</li>
<li>Fast Track Access for Academia</li>
<li>Fast Track Access for Industry Access</li>
</ul>
<p>During the integration period for convenience we use the following convention for offering names:
<code>LUMI &lt;Country name&gt; / &lt;access type&gt;</code>, e.g. <code>LUMI Sweden / Extreme Scale Access</code> or <code>LUMI Finland / Regular Access</code>.
Each of the offering will include a single plan.</p>
<p>Full details of the Offering contain expected attributes that should be passed when creating an allocation.</p>
<h3 id="orders-and-resources">Orders and resources</h3>
<p>To create a new allocation, an order must be created with requested attributes: project
as well as details about the allocations.</p>
<p>Order might require additional approvals - in this case upon creation its status will be <code>pending-consumer</code> or <code>pending-provider</code>, which
can transition to <code>REJECTED</code> if order is rejected.
Otherwise it will be switched to <code>EXECUTING</code>, ending either in <code>DONE</code> if all is good or <code>ERRED</code>, if error happens during the processing.</p>
<p>Resource UUID is available as a <code>marketplace_resource_uuid</code> field of the creation order.</p>
<p>In addition, <code>accepting_terms_of_service</code> flag must be provided as a lightweight confirmation that allocator is
aware and agreeing with Terms of services of a specific Offering.</p>
<p>Example of the order payload sent with <code>POST</code> to <code>https://puhuri-core-beta.neic.no/api/marketplace-orders/</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="p">{</span>
<span class="w">   </span><span class="nt">&quot;project&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://puhuri-core-beta.neic.no/api/projects/72fff2b5f09643bdb1fa30684427336b/&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;offering&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://puhuri-core-beta.neic.no/api/marketplace-public-offerings/0980e9426d5247a0836ccfd64769d900/&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;attributes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;test20&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="p">},</span>
<span class="w">   </span><span class="nt">&quot;limits&quot;</span><span class="p">:{</span>
<span class="w">      </span><span class="nt">&quot;gb_k_hours&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;cpu_k_hours&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;gpu_k_hours&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span>
<span class="w">   </span><span class="p">},</span>
<span class="w">   </span><span class="nt">&quot;plan&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://puhuri-core-beta.neic.no/api/marketplace-public-plans/14b28e3a1cbe44b395bad48de9f934d8/&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;accepting_terms_of_service&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="change-resource-limits">Change resource limits</h3>
<p>Send <code>POST</code> request to <code>https://puhuri-core-beta.neic.no/api/marketplace-resources/&lt;UUID_OF_A_RESOURCE&gt;/update_limits/</code> providing
the new values of limits, for example:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="p">{</span>
<span class="w">   </span><span class="nt">&quot;limits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;gb_k_hours&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;cpu_k_hours&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;gpu_k_hours&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span>
<span class="w">   </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="resource-termination">Resource termination</h3>
<p>Send <code>POST</code> request to <code>https://puhuri-core-beta.neic.no/api/marketplace-resources/&lt;UUID_OF_A_RESOURCE&gt;/terminate/</code>.</p>
<p>API examples:</p>
<ul>
<li><a href="../API%20guide/resource-allocation-management/#creation-of-a-resource-allocation">Creation of a resource allocation</a></li>
<li><a href="../API%20guide/resource-allocation-management/#modification-of-a-resource-allocation">Modification of a resource allocation</a></li>
<li><a href="../API%20guide/resource-allocation-management/#termination-of-a-resource-allocation">Termination of a resource allocation</a></li>
</ul>
<p>Example integrations:</p>
<ul>
<li><a href="https://github.com/waldur/waldur-mastermind/blob/7b2eba62e1e0dab945845f05030c7935e57f0d9c/src/waldur_mastermind/marketplace_remote/views.py#L45">Lookup of available offerings in Puhuri Portal</a>.</li>
<li><a href="https://github.com/waldur/waldur-mastermind/blob/7b2eba62e1e0dab945845f05030c7935e57f0d9c/src/waldur_mastermind/marketplace_remote/processors.py#L37">Creation of a resource in Puhuri Portal</a>.</li>
<li><a href="https://github.com/waldur/waldur-mastermind/blob/7b2eba62e1e0dab945845f05030c7935e57f0d9c/src/waldur_mastermind/marketplace_remote/processors.py#L53">Changing allocated limits in Puhuri Portal</a>.</li>
<li><a href="https://github.com/waldur/waldur-mastermind/blob/7b2eba62e1e0dab945845f05030c7935e57f0d9c/src/waldur_mastermind/marketplace_remote/processors.py#L64">Deletion of a resource allocation in Puhuri Portal</a>.</li>
</ul>
<h3 id="advanced">Advanced</h3>
<p>Information about Puhuri resources in Puhuri Core can change over time, for example, new components could be added.
Puhuri Portal implements a method for dynamic import and upkeep of that information from Puhuri Core.</p>
<p>As this is a more advanced topic, please check <a href="https://github.com/waldur/waldur-mastermind/blob/7b2eba62e1e0dab945845f05030c7935e57f0d9c/src/waldur_mastermind/marketplace_remote/views.py#L84">implementation</a>.
If you have questions, we will be happy to help out! Please reach out to <a href="mailto:support@puhuri.io">support@puhuri.io</a>.</p>
<h2 id="reporting">Reporting</h2>
<h3 id="getting-usage-data-of-a-specific-resource-allocation">Getting usage data of a specific resource allocation</h3>
<p>To get reported usage for resources, send  <code>GET</code> request to <code>https://puhuri-core-beta.neic.no/api/marketplace-component-usages/</code>. If you want to get usage data of a specific resource, please add a filter, e.g. <code>https://puhuri-core-beta.neic.no/api/marketplace-component-usages/?resource_uuid=&lt;UUID_OF_A_RESOURCE&gt;</code>. Note that responses are paginated.</p>
<p>Additional filters that can be used:</p>
<ul>
<li><code>date_before</code> - date of the returned usage records should be before or equal to provided, format YYYY-MM-DD, e.g. 2021-03-01.</li>
<li><code>date_after</code> - date of the returned usage records should be later or equal to provided, format YYYY-MM-DD, e.g. 2021-03-01.</li>
<li><code>offering_uuid</code> - return usage records only for a specified offering.</li>
<li><code>type</code> - type of the usage record to return, e.g. 'cpu_k_hours'.</li>
</ul>
<p>Response will contain a list of usage records with a separate record for each component per month, for example:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;uuid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;15a7a55fc78d44f995a6735b1f0f0c86&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;created&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2021-11-26T20:30:21.348221Z&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cpu_k_hours&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;CPU allocation&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;measured_unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;CPU kH&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;usage&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;date&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2021-11-26T20:30:21.342018Z&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;resource_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Sample allocation&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;resource_uuid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;4e4b8910b3df4ca0969871922eed8f3d&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;offering_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;LUMI UoI / Fast Track Access for Industry Access&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;offering_uuid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;abe3c5e7cbe14d97a3208c56a22251f4&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;project_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;University of Iceland / Sample project&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;project_uuid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;e1ffec53fd494d438fcb71daee1ae375&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;customer_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;University of Iceland&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;customer_uuid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;6b4aba63ed47472e9cee84dac500cf11&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;recurring&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;billing_period&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2021-11-01&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;uuid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2b90e7f5f91d41b7838bc0d45093dd23&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;created&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2021-11-26T20:30:21.383305Z&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;gb_k_hours&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Storage allocation&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;measured_unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;GB kH&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;usage&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">34</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;date&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2021-11-26T20:30:21.342018Z&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;resource_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Sample allocation&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;resource_uuid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;4e4b8910b3df4ca0969871922eed8f3d&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;offering_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;LUMI UoI / Fast Track Access for Industry Access&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;offering_uuid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;abe3c5e7cbe14d97a3208c56a22251f4&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;project_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;University of Iceland / Sample project&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;project_uuid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;e1ffec53fd494d438fcb71daee1ae375&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;customer_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;University of Iceland&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;customer_uuid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;6b4aba63ed47472e9cee84dac500cf11&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;recurring&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;billing_period&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2021-11-01&quot;</span>
<span class="w">  </span><span class="p">}</span>
</code></pre></div></td></tr></table></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.indexes"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
        <script src="../analytics.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>